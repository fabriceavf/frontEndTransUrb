(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e3cbf92","chunk-2d2079e1"],{"1b65":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["Update"==e.formState?a("div",[e._v("Update Userstypespostes #"+e._s(e.formData.id))]):e._e(),"Create"==e.formState?a("div",[e._v("Create Userstypespostes")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div"),"Create"==e.formState?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.finishAddPointeuse()}}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Valider ")]):e._e()]},proxy:!0}])},["Update"==e.formState?a("EditUserstypespostes",{key:e.formKey,attrs:{data:e.formData,gridApi:e.formGridApi,modalFormId:e.formId,typesposteData:e.typesposteData,usersData:e.usersData},on:{close:e.closeForm}}):e._e(),"Create"==e.formState?a("div",[a("AgGridSearch",{attrs:{columnDefs:e.columnDefs2,filterFields:["code","libelle"],url:e.url2},on:{destruction:e.finishAddPointeuse}})],1):e._e()],1),a("div",{staticClass:"col-sm-12"},[a("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefs,extrasData:e.extrasData,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,showActu:!1,showExport:!1,url:e.url,className:"ag-theme-alpine",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady},scopedSlots:e._u([{key:"header_buttons",fn:function(){return[e.routeData.meta.hideCreate?e._e():a("div",{staticClass:"btn btn-primary",on:{click:e.openCreate}},[a("i",{staticClass:"fa fa-plus"}),e._v(" Nouveau ")])]},proxy:!0}])})],1)],1)},i=[],s=(a("14d9"),a("1fdb")),o=a("bad1"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-overlay",{attrs:{show:e.isLoading}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.createLine()}}},[a("div",{staticClass:"mb-3"},[a("div",{staticClass:"form-group"},[a("label",[e._v("creat_by ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.creat_by,expression:"form.creat_by"}],class:e.errors.creat_by?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.creat_by},on:{input:function(t){t.target.composing||e.$set(e.form,"creat_by",t.target.value)}}}),e.errors.creat_by?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.creat_by,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v("typespostes ")]),a("CustomSelect",{key:e.form.typesposte,attrs:{columnDefs:["libelle"],oldValue:e.form.typesposte,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){e.form.typesposte_id=t.id,e.form.typesposte=t},url:e.axios.defaults.baseURL+"/api/typespostes-Aggrid1","filter-key":"","filter-value":""}}),e.errors.typesposte_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.typesposte_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1),a("div",{staticClass:"form-group"},[a("label",[e._v("users ")]),a("CustomSelect",{key:e.form.user,attrs:{columnDefs:["libelle"],oldValue:e.form.user,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){e.form.user_id=t.id,e.form.user=t},url:e.axios.defaults.baseURL+"/api/users-Aggrid1","filter-key":"","filter-value":""}}),e.errors.user_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.user_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1)]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Créer ")])])])},l=[],c=a("9dbc"),d=a("b8bb"),u={name:"CreateUserstypespostes",components:{CustomSelect:d["a"],Files:c["a"]},props:["gridApi","modalFormId","typesposteData","usersData"],data:function(){return{errors:[],isLoading:!1,form:{id:"",user_id:"",typesposte_id:"",creat_by:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:""}}},methods:{createLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/userstypespostes",this.form).then((function(t){e.isLoading=!1,e.resetForm(),e.gridApi.applyServerSideTransaction({add:[t.data]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},resetForm:function(){this.form={id:"",user_id:"",typesposte_id:"",creat_by:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:""}}}},f=u,m=a("2877"),p=Object(m["a"])(f,n,l,!1,null,null,null),h=p.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-overlay",{attrs:{show:e.isLoading}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.EditLine()}}},[a("div",{staticClass:"mb-3"},[a("div",{staticClass:"form-group"},[a("label",[e._v("creat_by ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.creat_by,expression:"form.creat_by"}],class:e.errors.creat_by?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.creat_by},on:{input:function(t){t.target.composing||e.$set(e.form,"creat_by",t.target.value)}}}),e.errors.creat_by?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.creat_by,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v("typespostes ")]),a("CustomSelect",{key:e.form.typesposte,attrs:{columnDefs:["libelle"],oldValue:e.form.typesposte,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){e.form.typesposte_id=t.id,e.form.typesposte=t},url:e.axios.defaults.baseURL+"/api/typespostes-Aggrid1","filter-key":"","filter-value":""}}),e.errors.typesposte_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.typesposte_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1),a("div",{staticClass:"form-group"},[a("label",[e._v("users ")]),a("CustomSelect",{key:e.form.user,attrs:{columnDefs:["libelle"],oldValue:e.form.user,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){e.form.user_id=t.id,e.form.user=t},url:e.axios.defaults.baseURL+"/api/users-Aggrid1","filter-key":"","filter-value":""}}),e.errors.user_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.user_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1)]),a("div",{staticClass:"d-flex justify-content-between"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Mettre à jour ")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.DeleteLine()}}},[a("i",{staticClass:"fas fa-close"}),e._v(" Supprimer ")])])])])},v=[],b={name:"EditUserstypespostes",components:{CustomSelect:d["a"],Files:c["a"]},props:["data","gridApi","modalFormId","graphiquesData","usersData"],data:function(){return{errors:[],isLoading:!1,form:{id:"",user_id:"",typesposte_id:"",creat_by:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:""}}},mounted:function(){this.form=this.data},methods:{EditLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/userstypesposte/"+this.form.id+"/update",this.form).then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({update:[t.data]}),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},DeleteLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/userstypesposte/"+this.form.id+"/delete").then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({remove:[e.form]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){console.log(t.response.data),e.isLoading=!1,e.$toast.error("Erreur survenue lors de la suppression")}))}}},_=b,y=Object(m["a"])(_,g,v,!1,null,null,null),C=y.exports,w=a("d2e9"),x=a("47b7"),S=a("99d2"),D=a("27c5"),k={name:"UserstypespostesView",components:{DataTable:s["a"],AgGridTable:o["a"],CreateUserstypespostes:h,EditUserstypespostes:C,DataModal:x["a"],AgGridBtnClicked:D["a"],CustomSelect:d["a"],AgGridSearch:S["a"],CustomFiltre:w["a"]},props:["parentId"],data:function(){return{formId:"userstypespostes",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/userstypespostes-Aggrid1",table:"userstypespostes",typesposteData:[],usersData:[],requette:2,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:100,columnDefs2:null,cacheBlockSize:10,maxBlocksInCache:1,posteSelect:[],lastPosteSelectCount:0,form:{id:"",user_id:"",typesposte_id:"",creat_by:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:""}}},computed:{routeData:function(){var e={meta:{}};if(window.router)try{e=window.router}catch(t){}return e},taille:function(){var e="col-sm-12";return this.filtre&&(e="col-sm-9"),e},extrasData:function(){var e={baseFilter:{}};return e["baseFilter"]["user_id"]={values:[this.parentId],filterType:"set"},e}},watch:{routeData:{handler:function(e,t){this.gridApi.setFilterModel(null),this.gridApi.refreshServerSide()},deep:!0}},created:function(){this.url=this.axios.defaults.baseURL+"/api/userstypespostes-Aggrid1",this.url2=this.axios.defaults.baseURL+"/api/typespostes-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2},beforeMount:function(){var e=this;this.columnDefs=[{field:null,headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(t){e.deleteGraphique(t)},render:'<div class="" style="width:100%;height:100%;background:#e31d3b;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-trash-can"></i></div>'}}}},{headerName:"typesposte",field:"typesposte.Selectlabel"},{hide:!0,suppressColumnsToolPanel:!0,headerName:"typesposte",field:"typesposte_id",valueFormatter:function(e){var t="";try{return e.data["typesposte"]["Selectlabel"]}catch(a){}return t},filter:"CustomFiltre",filterParams:{url:this.axios.defaults.baseURL+"/api/typespostes-Aggrid1",columnDefs:[{field:"",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"",cellStyle:{fontSize:"11px"},valueFormatter:function(e){var t="";try{return"".concat(e.data["Selectlabel"])}catch(a){}return t}}],filterFields:["libelle"]}}],this.columnDefs2=[{field:null,minWidth:80,maxWidth:80,pinned:"left",suppressColumnsToolPanel:!0,sortable:!1,headerName:"",cellRendererSelector:function(t){var a={component:"AgGridBtnClicked",params:{clicked:function(t){e.addgraphique(t)},render:'<div class="" style="width:100%;height:100%;background:#2885a7;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa fa-plus"></i></div>'}};return a}},{field:"code",sortable:!0,maxWidth:120,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"code"},{field:"libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"libelle"}]},mounted:function(){this.requette},methods:{finishAddPointeuse:function(){this.posteSelect.length!=this.lastPosteSelectCount&&(this.lastPosteSelectCount=this.posteSelect.length,this.tableKey++),this.$bvModal.hide(this.formId)},addgraphique:function(e){var t=this;this.form.user_id=this.parentId,this.form.typesposte_id=e.Selectvalue,console.log("data.Selectvalue",this.form),this.isLoading=!0,this.axios.post("/api/userstypespostes",this.form).then((function(e){t.isLoading=!1,t.posteSelect.push(e.data),t.$toast.success("Operation effectuer avec succes"),console.log(e.data)})).catch((function(e){t.errors=e.response.data.errors,t.isLoading=!1,t.$toast.error("Erreur survenue lors de l'enregistrement")}))},deleteGraphique:function(e){var t=this,a=e.id;console.log("data=>",a),this.isLoading=!0,this.axios.post("/api/userstypespostes/"+a+"/delete").then((function(e){t.isLoading=!1,t.gridApi.applyServerSideTransaction({remove:[t.form]}),t.gridApi.refreshServerSide(),t.$bvModal.hide(t.modalFormId),t.$toast.success("Operation effectuer avec succes"),t.tableKey++,console.log(e.data)})).catch((function(e){console.log(e.response.data),t.isLoading=!1,t.$toast.error("Erreur survenue lors de la suppression")}))},closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},openCreate:function(){this.showForm("Create",{},this.gridApi)},showForm:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=r,this.formState=e,this.formData=t,this.formGridApi=a,this.$bvModal.show(this.formId)},onGridReady:function(e){console.log("on demarre",e),this.gridApi=e.api,this.columnApi=e.columnApi,this.isLoading=!1,this.gridApi.sizeColumnsToFit()},getgraphiques:function(){var e=this;this.axios.get("/api/typespostes").then((function(t){e.requette--,e.requette,e.typesposteData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getusers:function(){var e=this;this.axios.get("/api/users").then((function(t){e.requette--,e.requette,e.usersData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))}}},T=k,A=Object(m["a"])(T,r,i,!1,null,null,null);t["default"]=A.exports},"28b7":function(e,t,a){e.exports=a.p+"img/verso.0bb7db8f.png"},"2ee4":function(e,t,a){!function(t,a){e.exports=a()}("undefined"!=typeof self&&self,(function(){return function(e){function t(r){if(a[r])return a[r].exports;var i=a[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,r){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t){e.exports=function(e,t,a,r,i,s){var o,n=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(o=e,n=e.default);var c,d="function"==typeof n?n.options:n;if(t&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0),a&&(d.functional=!0),i&&(d._scopeId=i),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},d._ssrRegister=c):r&&(c=r),c){var u=d.functional,f=u?d.render:d.beforeCreate;u?(d._injectStyles=c,d.render=function(e,t){return c.call(t),f(e,t)}):d.beforeCreate=f?[].concat(f,c):[c]}return{esModule:o,exports:n,options:d}}},function(e,t,a){"use strict";var r=a(2),i=a(4),s=a(14);t.a={name:"form-wizard",components:{WizardButton:r.a,WizardStep:i.a},props:{title:{type:String,default:"Awesome Wizard"},subtitle:{type:String,default:"Split a complicated flow in multiple steps"},nextButtonText:{type:String,default:"Next"},backButtonText:{type:String,default:"Back"},finishButtonText:{type:String,default:"Finish"},hideButtons:{type:Boolean,default:!1},validateOnBack:Boolean,color:{type:String,default:"#e74c3c"},errorColor:{type:String,default:"#8b0000"},shape:{type:String,default:"circle"},layout:{type:String,default:"horizontal"},stepsClasses:{type:[String,Array],default:""},stepSize:{type:String,default:"md",validator:function(e){return-1!==["xs","sm","md","lg"].indexOf(e)}},transition:{type:String,default:""},startIndex:{type:Number,default:0,validator:function(e){return e>=0}}},provide:function(){return{addTab:this.addTab,removeTab:this.removeTab}},data:function(){return{activeTabIndex:0,currentPercentage:0,maxStep:0,loading:!1,tabs:[]}},computed:{slotProps:function(){return{nextTab:this.nextTab,prevTab:this.prevTab,activeTabIndex:this.activeTabIndex,isLastStep:this.isLastStep,fillButtonStyle:this.fillButtonStyle}},tabCount:function(){return this.tabs.length},isLastStep:function(){return this.activeTabIndex===this.tabCount-1},isVertical:function(){return"vertical"===this.layout},displayPrevButton:function(){return 0!==this.activeTabIndex},stepPercentage:function(){return 1/(2*this.tabCount)*100},progressBarStyle:function(){return{backgroundColor:this.color,width:this.progress+"%",color:this.color}},fillButtonStyle:function(){return{backgroundColor:this.color,borderColor:this.color,color:"white"}},progress:function(){return this.activeTabIndex>0?this.stepPercentage*(2*this.activeTabIndex+1):this.stepPercentage}},methods:{emitTabChange:function(e,t){this.$emit("on-change",e,t),this.$emit("update:startIndex",t)},addTab:function(e){var t=this.$slots.default.indexOf(e.$vnode);e.tabId=""+e.title.replace(/ /g,"")+t,this.tabs.splice(t,0,e),t<this.activeTabIndex+1&&(this.maxStep=t,this.changeTab(this.activeTabIndex+1,t))},removeTab:function(e){var t=this.tabs,a=t.indexOf(e);a>-1&&(a===this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.changeTab(this.activeTabIndex,this.activeTabIndex-1)),a<this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.activeTabIndex=this.activeTabIndex-1,this.emitTabChange(this.activeTabIndex+1,this.activeTabIndex)),t.splice(a,1))},reset:function(){this.maxStep=0,this.tabs.forEach((function(e){e.checked=!1})),this.navigateToTab(0)},activateAll:function(){this.maxStep=this.tabs.length-1,this.tabs.forEach((function(e){e.checked=!0}))},navigateToTab:function(e){var t=this,a=e>this.activeTabIndex;if(e<=this.maxStep){var r=function r(){a&&e-t.activeTabIndex>1?(t.changeTab(t.activeTabIndex,t.activeTabIndex+1),t.beforeTabChange(t.activeTabIndex,r)):(t.changeTab(t.activeTabIndex,e),t.afterTabChange(t.activeTabIndex))};a?this.beforeTabChange(this.activeTabIndex,r):(this.setValidationError(null),r())}return e<=this.maxStep},nextTab:function(){var e=this,t=function(){e.activeTabIndex<e.tabCount-1?(e.changeTab(e.activeTabIndex,e.activeTabIndex+1),e.afterTabChange(e.activeTabIndex)):e.$emit("on-complete")};this.beforeTabChange(this.activeTabIndex,t)},prevTab:function(){var e=this,t=function(){e.activeTabIndex>0&&(e.setValidationError(null),e.changeTab(e.activeTabIndex,e.activeTabIndex-1))};this.validateOnBack?this.beforeTabChange(this.activeTabIndex,t):t()},focusNextTab:function(){var e=Object(s.b)(this.tabs);if(-1!==e&&e<this.tabs.length-1){var t=this.tabs[e+1];t.checked&&Object(s.a)(t.tabId)}},focusPrevTab:function(){var e=Object(s.b)(this.tabs);if(-1!==e&&e>0){var t=this.tabs[e-1].tabId;Object(s.a)(t)}},setLoading:function(e){this.loading=e,this.$emit("on-loading",e)},setValidationError:function(e){this.tabs[this.activeTabIndex].validationError=e,this.$emit("on-error",e)},validateBeforeChange:function(e,t){var a=this;if(this.setValidationError(null),Object(s.c)(e))this.setLoading(!0),e.then((function(e){a.setLoading(!1);var r=!0===e;a.executeBeforeChange(r,t)})).catch((function(e){a.setLoading(!1),a.setValidationError(e)}));else{var r=!0===e;this.executeBeforeChange(r,t)}},executeBeforeChange:function(e,t){this.$emit("on-validate",e,this.activeTabIndex),e?t():this.tabs[this.activeTabIndex].validationError="error"},beforeTabChange:function(e,t){if(!this.loading){var a=this.tabs[e];if(a&&void 0!==a.beforeChange){var r=a.beforeChange();this.validateBeforeChange(r,t)}else t()}},afterTabChange:function(e){if(!this.loading){var t=this.tabs[e];t&&void 0!==t.afterChange&&t.afterChange()}},changeTab:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.tabs[e],i=this.tabs[t];return r&&(r.active=!1),i&&(i.active=!0),a&&this.activeTabIndex!==t&&this.emitTabChange(e,t),this.activeTabIndex=t,this.activateTabAndCheckStep(this.activeTabIndex),!0},tryChangeRoute:function(e){this.$router&&e.route&&this.$router.push(e.route)},checkRouteChange:function(e){var t=-1,a=this.tabs.find((function(a,r){var i=a.route===e;return i&&(t=r),i}));if(a&&!a.active){var r=t>this.activeTabIndex;this.navigateToTab(t,r)}},deactivateTabs:function(){this.tabs.forEach((function(e){e.active=!1}))},activateTab:function(e){this.deactivateTabs();var t=this.tabs[e];t&&(t.active=!0,t.checked=!0,this.tryChangeRoute(t))},activateTabAndCheckStep:function(e){this.activateTab(e),e>this.maxStep&&(this.maxStep=e),this.activeTabIndex=e},initializeTabs:function(){this.tabs.length>0&&0===this.startIndex&&this.activateTab(this.activeTabIndex),this.startIndex<this.tabs.length?this.activateTabAndCheckStep(this.startIndex):window.console.warn("Prop startIndex set to "+this.startIndex+" is greater than the number of tabs - "+this.tabs.length+". Make sure that the starting index is less than the number of tabs registered")}},mounted:function(){this.initializeTabs()},watch:{"$route.path":function(e){this.checkRouteChange(e)}}}},function(e,t,a){"use strict";function r(e){a(10)}var i=a(3),s=a(11),o=a(0),n=r,l=o(i.a,s.a,!1,n,null,null);t.a=l.exports},function(e,t,a){"use strict";t.a={}},function(e,t,a){"use strict";function r(e){a(12)}var i=a(5),s=a(13),o=a(0),n=r,l=o(i.a,s.a,!1,n,null,null);t.a=l.exports},function(e,t,a){"use strict";t.a={name:"wizard-step",props:{tab:{type:Object,default:function(){}},transition:{type:String,default:""},index:{type:Number,default:0}},computed:{iconActiveStyle:function(){return{backgroundColor:this.tab.color}},stepCheckedStyle:function(){return{borderColor:this.tab.color}},errorStyle:function(){return{borderColor:this.tab.errorColor,backgroundColor:this.tab.errorColor}},stepTitleStyle:function(){return{color:this.tab.validationError?this.tab.errorColor:this.tab.color}},isStepSquare:function(){return"square"===this.tab.shape},isTabShape:function(){return"tab"===this.tab.shape}}}},function(e,t,a){"use strict";t.a={name:"tab-content",props:{title:{type:String,default:""},icon:{type:String,default:""},beforeChange:{type:Function},afterChange:{type:Function},route:{type:[String,Object]},additionalInfo:{type:Object,default:function(){}}},inject:["addTab","removeTab"],data:function(){return{active:!1,validationError:null,checked:!1,tabId:""}},computed:{shape:function(){return this.$parent.shape},color:function(){return this.$parent.color},errorColor:function(){return this.$parent.errorColor}},mounted:function(){this.addTab(this)},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.removeTab(this)}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),i=a(16),s=a(2),o=a(4);a.d(t,"FormWizard",(function(){return r.a})),a.d(t,"TabContent",(function(){return i.a})),a.d(t,"WizardButton",(function(){return s.a})),a.d(t,"WizardStep",(function(){return o.a}));var n={install:function(e){e.component("form-wizard",r.a),e.component("tab-content",i.a),e.component("wizard-button",s.a),e.component("wizard-step",o.a)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(n),t.default=n},function(e,t,a){"use strict";function r(e){a(9)}var i=a(1),s=a(15),o=a(0),n=r,l=o(i.a,s.a,!1,n,null,null);t.a=l.exports},function(e,t){},function(e,t){},function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{staticClass:"wizard-btn",attrs:{tabindex:"-1",type:"button"}},[e._t("default")],2)},i=[],s={render:r,staticRenderFns:i};t.a=s},function(e,t){},function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{class:{active:e.tab.active}},[a("a",{class:{disabled:!e.tab.checked},attrs:{href:"javascript:void(0)"}},[a("div",{staticClass:"wizard-icon-circle md",class:{checked:e.tab.checked,square_shape:e.isStepSquare,tab_shape:e.isTabShape},style:[e.tab.checked?e.stepCheckedStyle:{},e.tab.validationError?e.errorStyle:{}],attrs:{role:"tab",tabindex:e.tab.checked?0:"",id:"step-"+e.tab.tabId,"aria-controls":e.tab.tabId,"aria-disabled":e.tab.active,"aria-selected":e.tab.active}},[a("transition",{attrs:{name:e.transition,mode:"out-in"}},[e.tab.active?a("div",{staticClass:"wizard-icon-container",class:{square_shape:e.isStepSquare,tab_shape:e.isTabShape},style:[e.tab.active?e.iconActiveStyle:{},e.tab.validationError?e.errorStyle:{}]},[e._t("active-step",[e.tab.icon?a("i",{staticClass:"wizard-icon",class:e.tab.icon}):a("i",{staticClass:"wizard-icon"},[e._v(e._s(e.index+1))])])],2):e._e(),e._v(" "),e.tab.active?e._e():e._t("default",[!e.tab.active&&e.tab.icon?a("i",{staticClass:"wizard-icon",class:e.tab.icon}):e._e(),e._v(" "),e.tab.active||e.tab.icon?e._e():a("i",{staticClass:"wizard-icon"},[e._v(e._s(e.index+1))])])],2)],1),e._v(" "),e._t("title",[a("span",{staticClass:"stepTitle",class:{active:e.tab.active,has_error:e.tab.validationError},style:e.tab.active?e.stepTitleStyle:{}},[e._v("\n            "+e._s(e.tab.title)+"\n      ")])])],2)])},i=[],s={render:r,staticRenderFns:i};t.a=s},function(e,t,a){"use strict";function r(){return document.activeElement.id}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=r();return e.findIndex((function(e){return e.tabId===t}))}function s(e){document.getElementById(e).focus()}function o(e){return e.then&&"function"==typeof e.then}t.b=i,t.a=s,t.c=o},function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vue-form-wizard",class:[e.stepSize,{vertical:e.isVertical}],on:{keyup:[function(t){return"button"in t||!e._k(t.keyCode,"right",39,t.key)?"button"in t&&2!==t.button?null:void e.focusNextTab(t):null},function(t){return"button"in t||!e._k(t.keyCode,"left",37,t.key)?"button"in t&&0!==t.button?null:void e.focusPrevTab(t):null}]}},[a("div",{staticClass:"wizard-header"},[e._t("title",[a("h4",{staticClass:"wizard-title"},[e._v(e._s(e.title))]),e._v(" "),a("p",{staticClass:"category"},[e._v(e._s(e.subtitle))])])],2),e._v(" "),a("div",{staticClass:"wizard-navigation"},[e.isVertical?e._e():a("div",{staticClass:"wizard-progress-with-circle"},[a("div",{staticClass:"wizard-progress-bar",style:e.progressBarStyle})]),e._v(" "),a("ul",{staticClass:"wizard-nav wizard-nav-pills",class:e.stepsClasses,attrs:{role:"tablist"}},[e._l(e.tabs,(function(t,r){return e._t("step",[a("wizard-step",{attrs:{tab:t,"step-size":e.stepSize,transition:e.transition,index:r},nativeOn:{click:function(t){e.navigateToTab(r)},keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.navigateToTab(r)}}})],{tab:t,index:r,navigateToTab:e.navigateToTab,stepSize:e.stepSize,transition:e.transition})}))],2),e._v(" "),a("div",{staticClass:"wizard-tab-content"},[e._t("default",null,null,e.slotProps)],2)]),e._v(" "),e.hideButtons?e._e():a("div",{staticClass:"wizard-card-footer clearfix"},[e._t("footer",[a("div",{staticClass:"wizard-footer-left"},[e.displayPrevButton?a("span",{attrs:{role:"button",tabindex:"0"},on:{click:e.prevTab,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.prevTab(t)}}},[e._t("prev",[a("wizard-button",{style:e.fillButtonStyle,attrs:{disabled:e.loading}},[e._v("\n              "+e._s(e.backButtonText)+"\n            ")])],null,e.slotProps)],2):e._e(),e._v(" "),e._t("custom-buttons-left",null,null,e.slotProps)],2),e._v(" "),a("div",{staticClass:"wizard-footer-right"},[e._t("custom-buttons-right",null,null,e.slotProps),e._v(" "),e.isLastStep?a("span",{attrs:{role:"button",tabindex:"0"},on:{click:e.nextTab,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.nextTab(t)}}},[e._t("finish",[a("wizard-button",{style:e.fillButtonStyle},[e._v("\n              "+e._s(e.finishButtonText)+"\n            ")])],null,e.slotProps)],2):a("span",{attrs:{role:"button",tabindex:"0"},on:{click:e.nextTab,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.nextTab(t)}}},[e._t("next",[a("wizard-button",{style:e.fillButtonStyle,attrs:{disabled:e.loading}},[e._v("\n            "+e._s(e.nextButtonText)+"\n           ")])],null,e.slotProps)],2)],2)],null,e.slotProps)],2)])},i=[],s={render:r,staticRenderFns:i};t.a=s},function(e,t,a){"use strict";var r=a(6),i=a(17),s=a(0),o=s(r.a,i.a,!1,null,null,null);t.a=o.exports},function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],staticClass:"wizard-tab-container",attrs:{role:"tabpanel",id:e.tabId,"aria-hidden":!e.active,"aria-labelledby":"step-"+e.tabId}},[e._t("default",null,{active:e.active})],2)},i=[],s={render:r,staticRenderFns:i};t.a=s}])}))},3880:function(e,t,a){},"4e62":function(e,t,a){"use strict";a("a18e")},"73d6":function(e,t,a){e.exports=a.p+"img/recto.15f5a0c2.png"},8364:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"text-align":"center"}},[e.importFile?e._e():a("button",{staticClass:"btn btn-secondary",on:{click:e.openImport}},[a("i",{staticClass:"fas fa-image"}),e._v(" Importer une photo")]),e.importFile?[a("Files",{attrs:{getUrl:"/api/base/get_files",uploadUrl:"/api/base/uploads_files",max:1},on:{addFile:e.ajoutFiles},model:{value:e.donnees,callback:function(t){e.donnees=t},expression:"donnees"}}),a("div",{staticClass:"allButtons"},[a("button",{staticClass:"btn btn-success",on:{click:e.validerImport}},[a("i",{staticClass:"fas fa-check"}),e._v(" Valider")]),a("button",{staticClass:"btn btn-danger",on:{click:e.annulerImport}},[a("i",{staticClass:"fas fa-xmark"}),e._v(" Close")])])]:e._e()],2)},i=[],s=a("9dbc"),o={props:{value:{type:String,required:!0}},name:"PhotoSgs",components:{Files:s["a"]},data:function(){return{fichier:{},importFile:!1,donnees:""}},beforeMount:function(){this.uid="dropzone"+this.id},mounted:function(){},created:function(){},watch:{},methods:{openImport:function(){this.importFile=!0},validerImport:function(){this.importFile=!1,this.$emit("input",this.fichier.web_path)},annulerImport:function(){this.importFile=!1},ajoutFiles:function(e){console.log("voici les fichiers",e),this.fichier=e}}},n=o,l=(a("4e62"),a("2877")),c=Object(l["a"])(n,r,i,!1,null,null,null);t["a"]=c.exports},"837e":function(e,t,a){"use strict";a("935e")},"935e":function(e,t,a){},a0fb:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["Update"==e.formState?a("div",[e._v("Update Userszones #"+e._s(e.formData.id))]):e._e(),"Create"==e.formState?a("div",[e._v("Create Userszones")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return["Create"==e.formState?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.finishaddZones()}}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Valider ")]):e._e()]},proxy:!0}])},["Create"==e.formState?a("AgGridSearch",{attrs:{columnDefs:e.ZonecolumnDefs,filterFields:["id","libelle"],sizeColumnsToFit:e.md,url:e.Zoneurl,"filter-key":"","filter-value":""},on:{destruction:e.finishaddZones}}):e._e()],1),a("div",{staticClass:"col-sm-12"},[a("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefs,extrasData:e.extrasData,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,showActu:!1,showExport:!1,url:e.url,className:"ag-theme-alpine",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady},scopedSlots:e._u([{key:"header_buttons",fn:function(){return[e.routeData.meta.hideCreate?e._e():a("div",{staticClass:"btn btn-primary",on:{click:e.openCreate}},[a("i",{staticClass:"fa fa-plus"}),e._v(" Nouveau ")])]},proxy:!0}])})],1)],1)},i=[],s=a("1fdb"),o=a("bad1"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-overlay",{attrs:{show:e.isLoading}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.createLine()}}},[a("div",{staticClass:"mb-3"},[a("div",{staticClass:"form-group"},[a("label",[e._v("zones ")]),a("CustomSelect",{key:e.form.zone,attrs:{columnDefs:["libelle"],oldValue:e.form.zone,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){e.form.zone_id=t.id,e.form.zone=t},url:e.axios.defaults.baseURL+"/api/zones-Aggrid1","filter-key":"","filter-value":""}}),e.errors.zone_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.zone_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1)]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Créer ")])])])},l=[],c=a("9dbc"),d=a("b8bb"),u={name:"CreateUserszones",components:{CustomSelect:d["a"],Files:c["a"]},props:["gridApi","modalFormId","zonesData"],data:function(){return{errors:[],isLoading:!1,form:{id:"",user_id:"",zone_id:"",created_at:"",updated_at:"",deleted_at:""}}},methods:{createLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/userszones",this.form).then((function(t){e.isLoading=!1,e.resetForm(),e.gridApi.applyServerSideTransaction({add:[t.data]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},resetForm:function(){this.form={id:"",user_id:"",zone_id:"",created_at:"",updated_at:"",deleted_at:""}}}},f=u,m=a("2877"),p=Object(m["a"])(f,n,l,!1,null,null,null),h=p.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-overlay",{attrs:{show:e.isLoading}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.EditLine()}}},[a("div",{staticClass:"mb-3"},[a("div",{staticClass:"form-group"},[a("label",[e._v("zones ")]),a("CustomSelect",{key:e.form.zone,attrs:{columnDefs:["libelle"],oldValue:e.form.zone,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){e.form.zone_id=t.id,e.form.zone=t},url:e.axios.defaults.baseURL+"/api/zones-Aggrid1","filter-key":"","filter-value":""}}),e.errors.zone_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.zone_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1)]),a("div",{staticClass:"d-flex justify-content-between"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Mettre à jour ")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.DeleteLine()}}},[a("i",{staticClass:"fas fa-close"}),e._v(" Supprimer ")])])])])},v=[],b={name:"EditUserszones",components:{CustomSelect:d["a"],Files:c["a"]},props:["data","gridApi","modalFormId","zonesData"],data:function(){return{errors:[],isLoading:!1,form:{id:"",user_id:"",zone_id:"",created_at:"",updated_at:"",deleted_at:""}}},mounted:function(){this.form=this.data},methods:{EditLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/userszones/"+this.form.id+"/update",this.form).then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({update:[t.data]}),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},DeleteLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/userszones/"+this.form.id+"/delete").then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({remove:[e.form]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){console.log(t.response.data),e.isLoading=!1,e.$toast.error("Erreur survenue lors de la suppression")}))}}},_=b,y=Object(m["a"])(_,g,v,!1,null,null,null),C=y.exports,w=a("47b7"),x=a("99d2"),S=a("c1df"),D=a.n(S),k=a("27c5"),T={name:"UserszonesView",components:{DataTable:s["a"],AgGridTable:o["a"],CreateUserszones:h,EditUserszones:C,DataModal:w["a"],AgGridBtnClicked:k["a"],CustomSelect:d["a"],AgGridSearch:x["a"]},props:["UsersData"],data:function(){return{formId:"userszones",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/userszones-Aggrid1",table:"userszones",zonesData:[],requette:1,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:10,cacheBlockSize:10,maxBlocksInCache:1,Zonesadd:0,form:{id:"",user_id:"",zone_id:"",created_at:"",updated_at:"",deleted_at:""}}},computed:{routeData:function(){var e={meta:{}};if(window.router)try{e=window.router}catch(t){}return e},taille:function(){var e="col-sm-12";return this.filtre&&(e="col-sm-9"),e},extrasData:function(){var e={};return e["userszones.user_id"]={values:[this.UsersData],filterType:"set"},{baseFilter:e}}},watch:{routeData:{handler:function(e,t){this.gridApi.setFilterModel(null),this.gridApi.refreshServerSide()},deep:!0}},created:function(){this.url=this.axios.defaults.baseURL+"/api/userszones-Aggrid1",this.Zoneurl=this.axios.defaults.baseURL+"/api/zones-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2,this.add.url=this.axios.defaults.baseURL+"/api/zones-Aggrid1",this.add.rowBuffer=0,this.add.rowModelType="serverSide",this.add.cacheBlockSize=50,this.add.maxBlocksInCache=2},beforeMount:function(){var e=this;this.columnDefs=[{field:"userszones.id",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},hide:!0,headerName:"#Id"},{field:null,headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(t){e.DeleteLine(t)},render:'<div class="" style="width:100%;height:100%;background:#e31d3b;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-trash-can"></i></div>'}}}},{headerName:"zone",field:"zones.libelle",join:{table:"zones",champ1:"userszones.zone_id",champ2:"zones.id",operateur:"="}},{field:"userszones.created_at",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"Attribuer le",valueFormatter:function(e){var t=e.value;try{t=D()(e.value).format("DD/MM/YYYY à HH:mm")}catch(a){}return t}}],this.ZonecolumnDefs=[{field:"zones.id",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},hide:!0,headerName:"#Id"},{field:null,width:40,pinned:"left",suppressColumnsToolPanel:!0,sortable:!1,headerName:"",cellRendererSelector:function(t){var a={component:"AgGridBtnClicked",params:{clicked:function(t){e.addzones(t)},render:'<div class="btn btn-primary" style="width:100%;height:100%;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-add "></i></div>'}};return a}},{field:"zones.libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"libelle"}]},mounted:function(){this.requette},methods:{closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},openCreate:function(){this.showForm("Create",{},this.gridApi)},showForm:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=r,this.formState=e,this.formData=t,this.formGridApi=a,this.$bvModal.show(this.formId)},onGridReady:function(e){console.log("on demarre",e),this.gridApi=e.api,this.columnApi=e.columnApi,this.isLoading=!1,this.gridApi.sizeColumnsToFit()},getzones:function(){var e=this;this.axios.get("/api/zones").then((function(t){e.requette--,e.requette,e.zonesData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},addzones:function(e){var t=this;console.log("voici les donnees ===>",e),this.form.zone_id=e.id,this.form.user_id=this.UsersData,this.axios.post("/api/userszones",this.form).then((function(e){t.isLoading=!1,t.Zonesadd++,t.$toast.success("Operation effectuer avec succes")})).catch((function(e){t.errors=e.response.data.errors,t.isLoading=!1,t.$toast.error("Erreur survenue lors de l'enregistrement")}))},DeleteLine:function(e){var t=this;this.isLoading=!0,this.axios.post("/api/userszones/"+e.id+"/delete").then((function(e){t.isLoading=!1,t.gridApi.applyServerSideTransaction({remove:[t.form]}),t.gridApi.refreshServerSide(),t.$bvModal.hide(t.modalFormId),t.$toast.success("Operation effectuer avec succes"),t.$emit("close"),console.log(e.data)})).catch((function(e){console.log(e.response.data),t.isLoading=!1,t.$toast.error("Erreur survenue lors de la suppression")}))},finishaddZones:function(){this.Zonesadd>0&&this.tableKey++,this.Zonesadd=0,this.Zonesadd=0,this.$bvModal.hide(this.formId)}}},A=T,$=Object(m["a"])(A,r,i,!1,null,null,null);t["default"]=$.exports},a18e:function(e,t,a){},a669:function(e,t,a){},aeb1:function(e,t,a){var r,i,s;(function(a,o){i=[],r=o,s="function"===typeof r?r.apply(t,i):r,void 0===s||(e.exports=s)})(0,(function(){return function e(t,a,r){var i,s,o=window,n="application/octet-stream",l=r||n,c=t,d=!a&&!r&&c,u=document.createElement("a"),f=function(e){return String(e)},m=o.Blob||o.MozBlob||o.WebKitBlob||f,p=a||"download";if(m=m.call?m.bind(o):Blob,"true"===String(this)&&(c=[c,l],l=c[0],c=c[1]),d&&d.length<2048&&(p=d.split("/").pop().split("?")[0],u.href=d,-1!==u.href.indexOf(d))){var h=new XMLHttpRequest;return h.open("GET",d,!0),h.responseType="blob",h.onload=function(t){e(t.target.response,p,n)},setTimeout((function(){h.send()}),0),h}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&m!==f))return navigator.msSaveBlob?navigator.msSaveBlob(_(c),p):y(c);c=_(c),l=c.type||n}else if(/([\x80-\xff])/.test(c)){var g=0,v=new Uint8Array(c.length),b=v.length;for(g;g<b;++g)v[g]=c.charCodeAt(g);c=new m([v],{type:l})}function _(e){var t=e.split(/[:;,]/),a=t[1],r="base64"==t[2]?atob:decodeURIComponent,i=r(t.pop()),s=i.length,o=0,n=new Uint8Array(s);for(o;o<s;++o)n[o]=i.charCodeAt(o);return new m([n],{type:a})}function y(e,t){if("download"in u)return u.href=e,u.setAttribute("download",p),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout((function(){u.click(),document.body.removeChild(u),!0===t&&setTimeout((function(){o.URL.revokeObjectURL(u.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,n)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var a=document.createElement("iframe");document.body.appendChild(a),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,n)),a.src=e,setTimeout((function(){document.body.removeChild(a)}),333)}if(i=c instanceof m?c:new m([c],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(i,p);if(o.URL)y(o.URL.createObjectURL(i),!0);else{if("string"===typeof i||i.constructor===f)try{return y("data:"+l+";base64,"+o.btoa(i))}catch(C){return y("data:"+l+","+encodeURIComponent(i))}s=new FileReader,s.onload=function(e){y(this.result)},s.readAsDataURL(i)}return!0}}))},bc01:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["Update"==e.formState?a("div",[e._v("Update Utilisateurs #"+e._s(e.formData.id))]):e._e(),"Create"==e.formState?a("div",[e._v("Create Utilisateurs")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div")]},proxy:!0}])},["Update"==e.formState?a("EditUsers",{key:e.formKey,attrs:{actifsData:e.actifsData,contratsData:e.contratsData,data:e.formData,fonctionsData:e.fonctionsData,gridApi:e.formGridApi,matrimonialesData:e.matrimonialesData,modalFormId:e.formId,nationalitesData:e.nationalitesData,onlinesData:e.onlinesData,sexesData:e.sexesData,typesData:e.typesData,usersData:e.usersData},on:{close:e.closeForm}}):e._e(),"Create"==e.formState?a("CreateUsers",{key:e.formKey,attrs:{actifsData:e.actifsData,contratsData:e.contratsData,fonctionsData:e.fonctionsData,gridApi:e.formGridApi,matrimonialesData:e.matrimonialesData,modalFormId:e.formId,nationalitesData:e.nationalitesData,onlinesData:e.onlinesData,sexesData:e.sexesData,typesData:e.typesData,usersData:e.usersData},on:{close:e.closeForm}}):e._e()],1),a("div",{staticClass:"col-sm-12"},[a("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefs,extrasData:e.extrasData,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,url:e.url,className:"ag-theme-alpine",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady},scopedSlots:e._u([{key:"header_buttons",fn:function(){return[e.$routeData.meta.hideCreate?e._e():a("div",{staticClass:"btn btn-primary",on:{click:e.openCreate}},[a("i",{staticClass:"fa fa-plus"}),e._v(" Ajouter un utilisateur ")])]},proxy:!0}])})],1)],1)},i=[],s=(a("caad"),a("b64b"),a("2532"),a("1fdb")),o=a("bad1"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-overlay",{attrs:{show:e.isLoading}},[a("div",[e._l(Object.keys(e.errors),(function(t){return a("div",e._l(Object.values(e.errors[t]),(function(r){return a("div",[a("b-alert",{staticStyle:{padding:"5px"},attrs:{show:"",variant:"danger"}},[e._v(e._s(t)+" : "+e._s(r[0]))])],1)})),0)})),a("div",{staticClass:"header-detail"},[e.form.photo?a("b-avatar",{attrs:{src:e.$store.getters["general/apiUrl"]+"/"+e.form.photo,size:"70px"}}):e._e()],1),a("form-wizard",{staticClass:"mb-3 formUsers",attrs:{subtitle:null,title:null,"back-button-text":"Precedent",color:"rgb(40, 167, 69)","finish-button-text":"Soumettre","next-button-text":"Suivant",shape:"circle",stepSize:"sm"},on:{"on-complete":e.createLine}},[a("tab-content",{attrs:{"before-change":e.validationForm,title:"Information personnel"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-6"},[a("label",[e._v("nom ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.nom,expression:"form.nom"}],class:e.errors.nom?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.nom},on:{input:function(t){t.target.composing||e.$set(e.form,"nom",t.target.value)}}}),e.errors.nom?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.nom,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"form-group col-sm-6"},[a("label",[e._v("prenom ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.prenom,expression:"form.prenom"}],class:e.errors.prenom?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.prenom},on:{input:function(t){t.target.composing||e.$set(e.form,"prenom",t.target.value)}}}),e.errors.prenom?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.prenom,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12"},[a("label",[e._v("email ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],class:e.errors.email?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}}),e.errors.email?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.email,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-6 "},[a("label",[e._v("sexes ")]),a("CustomSelect",{key:e.form.sexe,attrs:{columnDefs:["libelle"],oldValue:e.form.sexe,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){return e.form.sexe_id=t.id},url:e.axios.defaults.baseURL+"/api/sexes-Aggrid1","filter-key":"","filter-value":""}}),e.errors.sexe_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.sexe_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1),a("div",{staticClass:"form-group col-sm-6"},[a("label",[e._v("password ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],class:e.errors.password?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e.errors.password?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.password,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-6"},[a("label",[e._v("code sur la pointeuse ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.emp_code,expression:"form.emp_code"}],class:e.errors.emp_code?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.emp_code},on:{input:function(t){t.target.composing||e.$set(e.form,"emp_code",t.target.value)}}}),e.errors.emp_code?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.emp_code,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"form-group col-sm-6 "},[a("label",[e._v("Roles/Profils ")]),a("CustomSelect",{key:e.form.role,attrs:{columnDefs:["id","name"],oldValue:e.form.role,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){return e.form.role_id=t.id},url:e.axios.defaults.baseURL+"/api/roles-Aggrid1","filter-key":"","filter-value":""}}),e.errors.role_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.role_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1)])])],1)],2)])},l=[],c=(a("d3b7"),a("b8bb")),d=a("2ee4"),u=a("7bb1"),f=a("9dbc"),m=a("4a7a"),p=a.n(m),h=a("8364"),g=(a("da93"),{name:"CreateUsers",components:{VSelect:p.a,CustomSelect:c["a"],Files:f["a"],PhotoSgs:h["a"],FormWizard:d["FormWizard"],TabContent:d["TabContent"],ValidationProvider:u["b"],ValidationObserver:u["a"]},computed:{$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e}},props:["gridApi","modalFormId","actifsData","contratsData","fonctionsData","matrimonialesData","nationalitesData","onlinesData","rolesData","typesData","usersData","typeCreation"],data:function(){return{errors:[],isLoading:!1,form:{id:"",name:"",email:"",email_verified_at:"",password:"",matricule:"",emp_code:"",nom:"",prenom:"",num_badge:"",date_naissance:"",num_cnss:"",num_cnamgs:"",telephone1:"",telephone2:"",nationalite_id:"",nombre_enfant:"",photo:"",actif_id:1,online_id:1,date_embauche:"",sexe_id:"",role_id:"",type:1,contrat_id:"",matrimoniale_id:"",fonction_id:"",user_id:0,remember_token:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:""}}},methods:{createLine:function(){var e=this;this.isLoading=!0,"SU"==this.$routeData.meta.type&&(console.log("on veut cree ",this.$routeData.meta.type,this.form),this.form.type=4),this.axios.post("/api/users",this.form).then((function(t){e.isLoading=!1,e.resetForm(),e.gridApi.applyServerSideTransaction({add:[t.data]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$emit("close"),e.$toast.success("Operation effectuer avec succes"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},resetForm:function(){this.form={id:"",name:"",email:"",email_verified_at:"",password:"",matricule:"",emp_code:"",nom:"",prenom:"",num_badge:"",date_naissance:"",num_cnss:"",num_cnamgs:"",telephone1:"",telephone2:"",nationalite_id:"",nombre_enfant:"",photo:"",actif_id:"",online_id:"",date_embauche:"",sexe_id:"",type:"",contrat_id:"",matrimoniale_id:"",fonction_id:"",user_id:"",remember_token:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:""}},validationForm:function(){return new Promise((function(e,t){e(!0)}))},validationFormInfo:function(){var e=this;return new Promise((function(t,a){e.$refs.infoRules.validate().then((function(e){e?t(!0):a()}))}))},validationFormAddress:function(){var e=this;return new Promise((function(t,a){e.$refs.addressRules.validate().then((function(e){e?t(!0):a()}))}))},validationFormSocial:function(){var e=this;return new Promise((function(t,a){e.$refs.socialRules.validate().then((function(e){e?t(!0):a()}))}))}}}),v=g,b=(a("fb0f"),a("2877")),_=Object(b["a"])(v,n,l,!1,null,null,null),y=_.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-overlay",{attrs:{show:e.isLoading}},[e._l(Object.keys(e.errors),(function(t){return a("div",e._l(Object.values(e.errors[t]),(function(r){return a("div",[a("b-alert",{staticStyle:{padding:"5px"},attrs:{show:"",variant:"danger"}},[e._v(e._s(t)+" : "+e._s(r[0]))])],1)})),0)})),a("div",{staticClass:"header-detail"},[e.form.photo?a("b-avatar",{attrs:{src:e.$store.getters["general/apiUrl"]+"/"+e.form.photo,size:"70px"}}):e._e(),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.DeleteLine()}}},[a("i",{staticClass:"fas fa-close"}),e._v(" Supprimer l'users ")])],1),a("form-wizard",{staticClass:"mb-3 formUsers",attrs:{subtitle:null,title:null,"back-button-text":"Precedent",color:"rgb(40, 167, 69)","finish-button-text":"Soumettre","next-button-text":"Suivant",shape:"circle",stepSize:"sm"},on:{"on-complete":e.EditLine}},[a("tab-content",{attrs:{"before-change":e.validationForm,title:"Information personnel"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-6"},[a("label",[e._v("nom ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.nom,expression:"form.nom"}],class:e.errors.nom?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.nom},on:{input:function(t){t.target.composing||e.$set(e.form,"nom",t.target.value)}}}),e.errors.nom?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.nom,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"form-group col-sm-6"},[a("label",[e._v("prenom ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.prenom,expression:"form.prenom"}],class:e.errors.prenom?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.prenom},on:{input:function(t){t.target.composing||e.$set(e.form,"prenom",t.target.value)}}}),e.errors.prenom?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.prenom,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-6"},[a("label",[e._v("email ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],class:e.errors.email?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}}),e.errors.email?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.email,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"form-group col-sm-6 "},[a("label",[e._v("sexes ")]),a("CustomSelect",{key:e.form.sexes,attrs:{columnDefs:["id","libelle"],oldValue:e.form.sexes,renderCallBack:function(e){return""+e.libelle},selectCallBack:function(t){return e.form.sexe_id=t.id},url:e.axios.defaults.baseURL+"/api/sexes-Aggrid1","filter-key":"","filter-value":""}}),e.errors.sexe_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.sexe_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-6"},[a("label",[e._v("code sur la pointeuse ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.emp_code,expression:"form.emp_code"}],class:e.errors.emp_code?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.emp_code},on:{input:function(t){t.target.composing||e.$set(e.form,"emp_code",t.target.value)}}}),e.errors.emp_code?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.emp_code,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"form-group col-sm-6 "},[a("label",[e._v("Roles/Profils ")]),a("CustomSelect",{key:e.form.roles,attrs:{columnDefs:["id","name"],oldValue:e.form.roles,renderCallBack:function(e){return""+e.name},selectCallBack:function(t){return e.form.role_id=t.id},url:e.axios.defaults.baseURL+"/api/roles-Aggrid1","filter-key":"","filter-value":""}}),e.errors.role_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.role_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12"},[a("label",[e._v("Nouveau mot de passe ")]),a("br"),a("span",[e._v("Attention en renseignant ce champs le mot de passe l'utilisateur sera modifier")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],class:e.errors.newPassword?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.newPassword},on:{input:function(t){t.target.composing||(e.newPassword=t.target.value)}}}),e.errors.newPassword?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.newPassword,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()])])]),a("tab-content",{attrs:{"before-change":e.validationForm,title:"Permissions Par zone"}},[a("Userszones",{key:e.form.id,attrs:{UsersData:e.form.id}})],1),a("tab-content",{attrs:{"before-change":e.validationForm,title:"Stat dashboard"}},[a("Statszones",{attrs:{parentId:e.form.id}})],1),a("tab-content",{attrs:{"before-change":e.validationForm,title:"Activites Recente"}},[a("Activitesrecentes",{key:e.form.id,attrs:{"user-select":e.form.id}})],1)],1)],2)},w=[],x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{position:"relative",width:"100%"}},[r("div",{staticClass:"allButtons"},[r("button",{staticClass:"btn btn-secondary",on:{click:function(t){return e.imprimer()}}},[e._v("Imprimer")]),r("button",{staticClass:"btn btn-secondary",on:{click:function(t){return e.telecharger()}}},[e._v("Telecharger")])]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"row badges"},[r("div",{staticClass:"badge-parent"},[r("div",{staticClass:"badge-recto-min badge-element",attrs:{id:"badge_recto"+e.agent.id}},[r("img",{attrs:{src:a("73d6")}}),r("img",{staticClass:"rounded mx-auto images infoPhoto",attrs:{id:"rectophoto",src:e.$store.getters["general/apiUrl"]+"/"+e.agent.photo,"cross-origin":"Anonymous"}}),r("div",{staticClass:"detailBadge"},[e.agent.prenom?r("div",{staticClass:"infoPrenom"},[e._v(" "+e._s(e.agent.prenom)+" ")]):e._e(),e.agent.nom?r("div",{staticClass:"infoNom"},[e._v(" "+e._s(e.agent.nom)+" ")]):e._e(),e.agent.fonction?[e.agent.fonction.Selectlabel?r("div",{staticClass:"infoFonction"},[e._v(" "+e._s(e.agent.fonction.Selectlabel)+" ")]):e._e()]:e._e(),e.agent.direction?[e.agent.direction.Selectlabel?r("div",{staticClass:"infoService"},[e._v(" "+e._s(e.agent.direction.Selectlabel)+" ")]):e._e()]:e._e(),r("div",{staticClass:"infoMatricule"},[e._v(" Matricule "),e.agent.matricule?r("span",[e._v(e._s(e.agent.matricule))]):e._e()])],2)])]),r("div",{staticClass:" badge-parent"},[r("div",{staticClass:"badge-recto-min badge-element badge-element-verso",attrs:{id:"badge_verso"+e.agent.id}},[r("img",{attrs:{src:a("28b7")}}),e.agent.date_naissance?r("div",{staticClass:"dateNaissance"},[e._v(" "+e._s(e.date(e.agent.date_naissance))+" ")]):e._e(),e.agent.date_embauche?r("div",{staticClass:"dateEmbauche"},[e._v(" "+e._s(e.date(e.agent.date_embauche))+" ")]):e._e(),e.agent.nationalite?r("div",{staticClass:"nationalite"},[e._v(" "+e._s(e.agent.nationalite.Selectlabel)+" ")]):e._e(),e.agent.num_cnss?r("div",{staticClass:"numeroCnss"},[e._v(" "+e._s(e.agent.num_cnss)+" ")]):e._e(),e.agent.num_cnamgs?r("div",{staticClass:"numeroCnamgs"},[e._v(" "+e._s(e.agent.num_cnamgs)+" ")]):e._e()])])])])},S=[],D=(a("99af"),a("e774")),k=a("aeb1"),T=a.n(k),A=a("c1df"),$=a.n(A),I={props:["agent"],data:function(){return{show:!0,badge:"",base64:"",error:""}},mounted:function(){this.show=!0},methods:{imprimer:function(){function e(e){return"img"!==e.tagName}var t=document.getElementById("badge_recto".concat(this.agent.id)),a=document.getElementById("badge_verso".concat(this.agent.id));D["a"](t,{filter:e}).then((function(t){D["a"](a,{filter:e}).then((function(e){var a=window.open("");a.document.write('<img src="'+t+'" onload="window.print();window.close()" />'),a.document.write('<img src="'+e+'" onload="window.print();window.close()" />'),a.focus()}))})).catch((function(e){console.error("oops, something went wrong!",e)}))},telecharger:function(){function e(e){return"img"!==e.tagName}var t=document.getElementById("badge_recto".concat(this.agent.id)),a=document.getElementById("badge_verso".concat(this.agent.id));D["a"](t,{filter:e}).then((function(t){D["a"](a,{filter:e}).then((function(e){T()(t,"agent-verso-badge.png"),T()(e,"agent-recto-badge.png")}))})).catch((function(e){console.error("oops, something went wrong!",e)}))},returnDateFormat:function(e){if(null!=e){var t=new Date(e);return t.toLocaleDateString("fr")}},generateBase64:function(){var e=this,t=document.createElement("CANVAS"),a=document.createElement("img");a.src=this.$store.getters["general/apiUrl"]+"/"+this.agent.photo,a.onload=function(){t.height=a.height,t.width=a.width,e.base64=t.toDataURL("image/png"),t=null},a.onerror=function(t){e.error="Could not load image, please check that the file is accessible and an image!"}},download:function(e,t){this.generateBase64();var a=this;function r(e){return"img"!==e.tagName}var i=document.getElementById(e);D["a"](i,{filter:r}).then((function(e){T()(e,"agent-".concat(a.agent.matricule,"-badge-").concat(t,".png"))})).catch((function(e){console.error("oops, something went wrong!",e)}))},date:function(e){var t=e;try{t=$()(e,"YYYY-MM-DD").format("DD/MM/YYYY")}catch(a){}return t}}},z=I,F=(a("837e"),Object(b["a"])(z,x,S,!1,null,null,null)),L=F.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group col-12"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.search,expression:"search",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.search},on:{change:function(t){e.search=t.target.value}}})]),a("AgGridTable",{key:e.userSelect,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefs,"extras-data":e.extrasData,"in-card":!1,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowHeight:50,rowModelType:e.rowModelType,sideBar:!1,url:e.url,className:"ag-theme-alpine",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady},scopedSlots:e._u([{key:"header_buttons",fn:function(){},proxy:!0}])})],1)])},P=[],B=(a("a9e3"),a("ac1f"),a("841c"),a("47b7")),q=a("c6f7"),U=a("27c5"),R={name:"PermsView",components:{DataTable:s["a"],AgGridTable:o["a"],DataModal:B["a"],AgGridBtnClicked:U["a"],AdminPerms:q["a"]},props:{userSelect:{type:Number,default:0}},data:function(){return{search:"",formId:"perms",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/perms-Aggrid1",table:"perms",usersData:[],requette:1,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:10,cacheBlockSize:10,maxBlocksInCache:1}},computed:{$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},taille:function(){var e="col-sm-12";return this.filtre&&(e="col-sm-9"),e},extrasData:function(){var e={};return e["user_id"]={values:[this.userSelect],filterType:"set"},""!==this.search&&(e["permission_label"]={filter:this.search,filterType:"text",type:"contains"}),{baseFilter:e}}},watch:{$route:{handler:function(e,t){this.gridApi.setFilterModel(null),this.gridApi.refreshServerSide(),this.tableKey++},deep:!0},extrasData:{handler:function(e,t){this.gridApi.sizeColumnsToFit(),this.gridApi.refreshServerSide()},deep:!0}},created:function(){this.url=this.axios.defaults.baseURL+"/api/perms-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2},beforeMount:function(){var e=this;this.columnDefs=[{field:"type",headerName:"Etats",cellRendererSelector:function(t){return t.api.sizeColumnsToFit(),{component:"AdminPerms",params:{clicked:function(a){e.showForm("Update",a,t.api)}}}},maxWidth:100},{headerName:"Permission",field:"Selectlabel"}]},mounted:function(){this.requette},methods:{closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},openCreate:function(){this.showForm("Create",{},this.gridApi)},showForm:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=r,this.formState=e,this.formData=t,this.formGridApi=a,this.$bvModal.show(this.formId)},onGridReady:function(e){console.log("on demarre",e),this.gridApi=e.api,this.columnApi=e.columnApi,this.isLoading=!1,this.gridApi.sizeColumnsToFit()},getusers:function(){var e=this;this.axios.get("/api/users").then((function(t){e.requette--,e.requette,e.usersData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))}}},M=R,N=Object(b["a"])(M,E,P,!1,null,null,null),O=N.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["Update"==e.formState?a("div",[e._v("Update Cruds #"+e._s(e.formData.id))]):e._e(),"Create"==e.formState?a("div",[e._v("Create Cruds")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div")]},proxy:!0}])},["Update"==e.formState?a("EditCruds",{key:e.formKey,attrs:{data:e.formData,gridApi:e.formGridApi,modalFormId:e.formId,usersData:e.usersData},on:{close:e.closeForm}}):e._e(),"Create"==e.formState?a("CreateCruds",{key:e.formKey,attrs:{gridApi:e.formGridApi,modalFormId:e.formId,usersData:e.usersData},on:{close:e.closeForm}}):e._e()],1),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group col-12"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.search,expression:"search",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.search},on:{change:function(t){e.search=t.target.value}}})]),a("AgGridTable",{key:e.userSelect,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefs,"extras-data":e.extrasData,"in-card":!1,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,sideBar:!1,url:e.url,className:"ag-theme-alpine",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady},scopedSlots:e._u([{key:"header_buttons",fn:function(){},proxy:!0}])})],1)],1)},j=[],V=a("91b5"),W={name:"Activitesrecentes",components:{DataTable:s["a"],AgGridTable:o["a"],DataModal:B["a"],AgGridBtnClicked:U["a"],AdminPerms:q["a"],EditCruds:V["a"]},props:{userSelect:{type:Number,default:0}},data:function(){return{search:"",formId:"perms",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/perms-Aggrid1",table:"perms",usersData:[],requette:1,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:10,cacheBlockSize:10,maxBlocksInCache:1}},computed:{$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},taille:function(){var e="col-sm-12";return this.filtre&&(e="col-sm-9"),e},extrasData:function(){var e={};return e["user_id"]={values:[this.userSelect],filterType:"set"},""!==this.search&&(e["filterFields"]=["action"],e["globalSearch"]=this.search),{baseFilter:e}}},watch:{$route:{handler:function(e,t){this.gridApi.setFilterModel(null),this.gridApi.refreshServerSide(),this.tableKey++},deep:!0},extrasData:{handler:function(e,t){this.gridApi.sizeColumnsToFit(),this.gridApi.refreshServerSide()},deep:!0}},created:function(){this.url=this.axios.defaults.baseURL+"/api/cruds-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2},beforeMount:function(){var e=this;this.columnDefs=[{field:"id",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},hide:!0,headerName:"#Id"},{field:null,headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(a){e.showForm("Update",a,t.api)},render:'<div class="" style="width:100%;height:100%;background:#ff8000;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-pen-to-square "></i></div>'}}}},{field:"action",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"action"},{field:"entite",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"Element modifier"},{field:"entite_cle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"Identifiant"}]},mounted:function(){this.requette},methods:{closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},openCreate:function(){this.showForm("Create",{},this.gridApi)},showForm:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=r,this.formState=e,this.formData=t,this.formGridApi=a,this.$bvModal.show(this.formId)},onGridReady:function(e){console.log("on demarre",e),this.gridApi=e.api,this.columnApi=e.columnApi,this.isLoading=!1,this.gridApi.sizeColumnsToFit()},getusers:function(){var e=this;this.axios.get("/api/users").then((function(t){e.requette--,e.requette,e.usersData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))}}},K=W,H=Object(b["a"])(K,G,j,!1,null,null,null),Y=H.exports,Z=a("a0fb"),X=a("df5d"),J=a("1b65"),Q=a("e1c2"),ee={name:"EditAgents",components:{VSelect:p.a,CustomSelect:c["a"],Files:f["a"],PhotoSgs:h["a"],FormWizard:d["FormWizard"],TabContent:d["TabContent"],ValidationProvider:u["b"],ValidationObserver:u["a"],PrintBadge:L,Permissions:O,Activitesrecentes:Y,Userszones:Z["default"],Usersgraphiques:X["default"],Userstypespostes:J["default"],Statszones:Q["default"]},props:["data","gridApi","modalFormId","actifsData","contratsData","fonctionsData","matrimonialesData","nationalitesData","onlinesData","sexesData","typesData","usersData"],data:function(){return{errors:[],isLoading:!1,newPassword:"",form:{id:"",name:"",email:"",email_verified_at:"",password:"",matricule:"",emp_code:"",nom:"",prenom:"",num_badge:"",date_naissance:"",num_cnss:"",num_cnamgs:"",telephone1:"",telephone2:"",nationalite_id:"",nombre_enfant:"",photo:"",actif_id:"",online_id:"",date_embauche:"",sexe_id:"",role_id:"",type:"",contrat_id:"",matrimoniale_id:"",fonction_id:"",user_id:"",remember_token:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:""}}},computed:{$domaine:function(){var e="supervizr";try{e=window.domaine}catch(t){}return console.log("voila le domaine ==>",e),e},$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},taille:function(){var e="col-sm-12";return this.filtre&&(e="col-sm-9"),e}},mounted:function(){this.form=this.data,this.form["date_naissance"]=this.form["date_naissance"].split(" ")[0],this.form["date_embauche"]=this.form["date_embauche"].split(" ")[0]},methods:{EditLine:function(){var e=this;this.isLoading=!0,""!=this.newPassword&&(this.form.password=this.newPassword),this.axios.post("/api/users/"+this.form.id+"/update",this.form).then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({update:[t.data]}),e.$bvModal.hide(e.modalFormId),e.$emit("close"),e.$toast.success("Operation effectuer avec succes"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},DeleteLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/users/"+this.form.id+"/delete").then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({remove:[e.form]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$emit("close"),e.$toast.success("Operation effectuer avec succes"),console.log(t.data)})).catch((function(t){console.log(t.response.data),e.isLoading=!1,e.$toast.error("Erreur survenue lors de la suppression")}))}}},te=ee,ae=(a("dc60"),Object(b["a"])(te,C,w,!1,null,null,null)),re=ae.exports,ie=a("d2e9"),se={name:"UsersView",components:{DataTable:s["a"],AgGridTable:o["a"],CreateUsers:y,EditUsers:re,DataModal:B["a"],AgGridBtnClicked:U["a"],CustomFiltre:ie["a"]},data:function(){return{defaultEntite:"User",formId:"users",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/users-Aggrid1",table:"users",actifsData:[],contratsData:[],fonctionsData:[],matrimonialesData:[],nationalitesData:[],onlinesData:[],sexesData:[],typesData:[],usersData:[],requette:9,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:25,cacheBlockSize:10,maxBlocksInCache:1}},computed:{$domaine:function(){var e="supervizr";try{e=window.domaine}catch(t){}return console.log("voila le domaine ==>",e),e},$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},taille:function(){var e="col-sm-12";return this.filtre&&(e="col-sm-9"),e},extrasData:function(){console.log("voila les params de la route",this.$routeData);var e={};return Object.keys(this.$routeData).includes("meta")&&Object.keys(this.$routeData.meta).includes("type")&&"users"==this.$routeData.meta.type.toLowerCase()&&(e["users.type"]={values:[1],filterType:"set"}),Object.keys(this.$routeData).includes("meta")&&Object.keys(this.$routeData.meta).includes("type")&&"su"==this.$routeData.meta.type.toLowerCase()&&(e["users.type"]={values:[4],filterType:"set"}),this.tableKey++,{baseFilter:e}}},watch:{$route:{handler:function(e,t){this.gridApi.setFilterModel(null),this.gridApi.refreshServerSide(),this.tableKey++},deep:!0}},created:function(){this.url=this.axios.defaults.baseURL+"/api/users-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2},beforeMount:function(){var e=this;this.columnDefs=[{field:null,headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(a){e.showForm("Update",a,t.api)},render:'<div class="btn btn-primary" style="width:100%;height:100%;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-pen-to-square "></i></div>'}}}},{field:"users.id",sortable:!0,floatingFilter:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"id",hide:!0},{field:"nom",sortable:!0,floatingFilter:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"nom",valueFormatter:function(e){var t="";try{return e.data["nom"].toUpperCase()}catch(a){}return t}},{field:"prenom",sortable:!0,floatingFilter:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"prenom",valueFormatter:function(e){var t="";try{return e.data["prenom"].toUpperCase()}catch(a){}return t}},{field:"roles.name",sortable:!0,floatingFilter:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"profils",join:{table:"roles",champ1:"users.role_id",champ2:"roles.id",operateur:"="}},{field:"email",sortable:!0,floatingFilter:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"email"},{field:"users.created_at",sortable:!0,floatingFilter:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"Créer le",valueFormatter:function(e){var t=e.value;try{t=$()(e.value).format("DD/MM/YYYY à HH:mm")}catch(a){}return t}}];var t="User";try{t=this.$routeData.meta.defaultEntite}catch(a){}this.defaultEntite=t},mounted:function(){this.requette},methods:{openCreate:function(){this.showForm("Create",{},this.gridApi,"xl")},closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},showForm:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=r,this.formState=e,this.formData=t,this.formGridApi=a,this.$bvModal.show(this.formId)},onGridReady:function(e){console.log("on demarre",e),this.gridApi=e.api,this.columnApi=e.columnApi,this.isLoading=!1},getactifs:function(){var e=this;this.axios.get("/api/actifs").then((function(t){e.requette--,e.requette,e.actifsData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getcontrats:function(){var e=this;this.axios.get("/api/contrats").then((function(t){e.requette--,e.requette,e.contratsData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getfonctions:function(){var e=this;this.axios.get("/api/fonctions").then((function(t){e.requette--,e.requette,e.fonctionsData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getmatrimoniales:function(){var e=this;this.axios.get("/api/matrimoniales").then((function(t){e.requette--,e.requette,e.matrimonialesData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getnationalites:function(){var e=this;this.axios.get("/api/nationalites").then((function(t){e.requette--,e.requette,e.nationalitesData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getonlines:function(){var e=this;this.axios.get("/api/onlines").then((function(t){e.requette--,e.requette,e.onlinesData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getsexes:function(){var e=this;this.axios.get("/api/sexes").then((function(t){e.requette--,e.requette,e.sexesData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},gettypes:function(){var e=this;this.axios.get("/api/types").then((function(t){e.requette--,e.requette,e.typesData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getusers:function(){var e=this;this.axios.get("/api/users").then((function(t){e.requette--,e.requette,e.usersData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))}}},oe=se,ne=Object(b["a"])(oe,r,i,!1,null,null,null);t["default"]=ne.exports},da93:function(e,t,a){},dc60:function(e,t,a){"use strict";a("3880")},df5d:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["Update"==e.formState?a("div",[e._v("Update Usersgraphiques #"+e._s(e.formData.id))]):e._e(),"Create"==e.formState?a("div",[e._v("Create Usersgraphiques")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div"),"Create"==e.formState?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.finishAddPointeuse()}}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Valider ")]):e._e()]},proxy:!0}])},["Update"==e.formState?a("EditUsersgraphiques",{key:e.formKey,attrs:{data:e.formData,graphiquesData:e.graphiquesData,gridApi:e.formGridApi,modalFormId:e.formId,usersData:e.usersData},on:{close:e.closeForm}}):e._e(),"Create"==e.formState?a("div",[a("AgGridSearch",{attrs:{columnDefs:e.columnDefs2,filterFields:["code","libelle"],url:e.url2},on:{destruction:e.finishAddPointeuse}})],1):e._e()],1),a("div",{staticClass:"col-sm-12"},[a("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefs,extrasData:e.extrasData,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,showActu:!1,showExport:!1,url:e.url,className:"ag-theme-alpine",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady},scopedSlots:e._u([{key:"header_buttons",fn:function(){return[e.routeData.meta.hideCreate?e._e():a("div",{staticClass:"btn btn-primary",on:{click:e.openCreate}},[a("i",{staticClass:"fa fa-plus"}),e._v(" Nouveau ")])]},proxy:!0}])})],1)],1)},i=[],s=(a("14d9"),a("1fdb")),o=a("bad1"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-overlay",{attrs:{show:e.isLoading}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.createLine()}}},[a("div",{staticClass:"mb-3"},[a("div",{staticClass:"form-group"},[a("label",[e._v("creat_by ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.creat_by,expression:"form.creat_by"}],class:e.errors.creat_by?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.creat_by},on:{input:function(t){t.target.composing||e.$set(e.form,"creat_by",t.target.value)}}}),e.errors.creat_by?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.creat_by,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v("graphiques ")]),a("CustomSelect",{key:e.form.graphique,attrs:{columnDefs:["libelle"],oldValue:e.form.graphique,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){e.form.graphique_id=t.id,e.form.graphique=t},url:e.axios.defaults.baseURL+"/api/graphiques-Aggrid1","filter-key":"","filter-value":""}}),e.errors.graphique_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.graphique_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1),a("div",{staticClass:"form-group"},[a("label",[e._v("users ")]),a("CustomSelect",{key:e.form.user,attrs:{columnDefs:["libelle"],oldValue:e.form.user,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){e.form.user_id=t.id,e.form.user=t},url:e.axios.defaults.baseURL+"/api/users-Aggrid1","filter-key":"","filter-value":""}}),e.errors.user_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.user_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1)]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Créer ")])])])},l=[],c=a("9dbc"),d=a("b8bb"),u={name:"CreateUsersgraphiques",components:{CustomSelect:d["a"],Files:c["a"]},props:["gridApi","modalFormId","graphiquesData","usersData"],data:function(){return{errors:[],isLoading:!1,form:{id:"",user_id:"",graphique_id:"",creat_by:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:""}}},methods:{createLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/usersgraphiques",this.form).then((function(t){e.isLoading=!1,e.resetForm(),e.gridApi.applyServerSideTransaction({add:[t.data]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},resetForm:function(){this.form={id:"",user_id:"",graphique_id:"",creat_by:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:""}}}},f=u,m=a("2877"),p=Object(m["a"])(f,n,l,!1,null,null,null),h=p.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-overlay",{attrs:{show:e.isLoading}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.EditLine()}}},[a("div",{staticClass:"mb-3"},[a("div",{staticClass:"form-group"},[a("label",[e._v("creat_by ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.creat_by,expression:"form.creat_by"}],class:e.errors.creat_by?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.creat_by},on:{input:function(t){t.target.composing||e.$set(e.form,"creat_by",t.target.value)}}}),e.errors.creat_by?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.creat_by,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v("graphiques ")]),a("CustomSelect",{key:e.form.graphique,attrs:{columnDefs:["libelle"],oldValue:e.form.graphique,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){e.form.graphique_id=t.id,e.form.graphique=t},url:e.axios.defaults.baseURL+"/api/graphiques-Aggrid1","filter-key":"","filter-value":""}}),e.errors.graphique_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.graphique_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1),a("div",{staticClass:"form-group"},[a("label",[e._v("users ")]),a("CustomSelect",{key:e.form.user,attrs:{columnDefs:["libelle"],oldValue:e.form.user,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){e.form.user_id=t.id,e.form.user=t},url:e.axios.defaults.baseURL+"/api/users-Aggrid1","filter-key":"","filter-value":""}}),e.errors.user_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.user_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1)]),a("div",{staticClass:"d-flex justify-content-between"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Mettre à jour ")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.DeleteLine()}}},[a("i",{staticClass:"fas fa-close"}),e._v(" Supprimer ")])])])])},v=[],b={name:"EditUsersgraphiques",components:{CustomSelect:d["a"],Files:c["a"]},props:["data","gridApi","modalFormId","graphiquesData","usersData"],data:function(){return{errors:[],isLoading:!1,form:{id:"",user_id:"",graphique_id:"",creat_by:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:""}}},mounted:function(){this.form=this.data},methods:{EditLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/usersgraphiques/"+this.form.id+"/update",this.form).then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({update:[t.data]}),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},DeleteLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/usersgraphiques/"+this.form.id+"/delete").then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({remove:[e.form]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){console.log(t.response.data),e.isLoading=!1,e.$toast.error("Erreur survenue lors de la suppression")}))}}},_=b,y=Object(m["a"])(_,g,v,!1,null,null,null),C=y.exports,w=a("d2e9"),x=a("47b7"),S=a("99d2"),D=a("27c5"),k={name:"UsersgraphiquesView",components:{DataTable:s["a"],AgGridTable:o["a"],CreateUsersgraphiques:h,EditUsersgraphiques:C,DataModal:x["a"],AgGridBtnClicked:D["a"],CustomSelect:d["a"],AgGridSearch:S["a"],CustomFiltre:w["a"]},props:["parentId"],data:function(){return{formId:"usersgraphiques",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/usersgraphiques-Aggrid1",table:"usersgraphiques",graphiquesData:[],usersData:[],requette:2,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:100,columnDefs2:null,cacheBlockSize:10,maxBlocksInCache:1,posteSelect:[],lastPosteSelectCount:0,form:{id:"",user_id:"",graphique_id:"",creat_by:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:""}}},computed:{routeData:function(){var e={meta:{}};if(window.router)try{e=window.router}catch(t){}return e},taille:function(){var e="col-sm-12";return this.filtre&&(e="col-sm-9"),e},extrasData:function(){var e={baseFilter:{}};return e["baseFilter"]["user_id"]={values:[this.parentId],filterType:"set"},e}},watch:{routeData:{handler:function(e,t){this.gridApi.setFilterModel(null),this.gridApi.refreshServerSide()},deep:!0}},created:function(){this.url=this.axios.defaults.baseURL+"/api/usersgraphiques-Aggrid1",this.url2=this.axios.defaults.baseURL+"/api/graphiques-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2},beforeMount:function(){var e=this;this.columnDefs=[{field:null,headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(t){e.deleteGraphique(t)},render:'<div class="" style="width:100%;height:100%;background:#e31d3b;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-trash-can"></i></div>'}}}},{headerName:"graphique",field:"graphique.Selectlabel"},{hide:!0,suppressColumnsToolPanel:!0,headerName:"graphique",field:"graphique_id",valueFormatter:function(e){var t="";try{return e.data["graphique"]["Selectlabel"]}catch(a){}return t},filter:"CustomFiltre",filterParams:{url:this.axios.defaults.baseURL+"/api/graphiques-Aggrid1",columnDefs:[{field:"",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"",cellStyle:{fontSize:"11px"},valueFormatter:function(e){var t="";try{return"".concat(e.data["Selectlabel"])}catch(a){}return t}}],filterFields:["libelle"]}}],this.columnDefs2=[{field:null,minWidth:80,maxWidth:80,pinned:"left",suppressColumnsToolPanel:!0,sortable:!1,headerName:"",cellRendererSelector:function(t){var a={component:"AgGridBtnClicked",params:{clicked:function(t){e.addgraphique(t)},render:'<div class="" style="width:100%;height:100%;background:#2885a7;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa fa-plus"></i></div>'}};return a}},{field:"code",sortable:!0,maxWidth:120,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"code"},{field:"libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"libelle"}]},mounted:function(){this.requette},methods:{finishAddPointeuse:function(){this.posteSelect.length!=this.lastPosteSelectCount&&(this.lastPosteSelectCount=this.posteSelect.length,this.tableKey++),this.$bvModal.hide(this.formId)},addgraphique:function(e){var t=this;this.form.user_id=this.parentId,this.form.graphique_id=e.Selectvalue,console.log("data.Selectvalue",this.form),this.isLoading=!0,this.axios.post("/api/usersgraphiques",this.form).then((function(e){t.isLoading=!1,t.posteSelect.push(e.data),t.$toast.success("Operation effectuer avec succes"),console.log(e.data)})).catch((function(e){t.errors=e.response.data.errors,t.isLoading=!1,t.$toast.error("Erreur survenue lors de l'enregistrement")}))},deleteGraphique:function(e){var t=this,a=e.id;console.log("data=>",a),this.isLoading=!0,this.axios.post("/api/usersgraphiques/"+a+"/delete").then((function(e){t.isLoading=!1,t.gridApi.applyServerSideTransaction({remove:[t.form]}),t.gridApi.refreshServerSide(),t.$bvModal.hide(t.modalFormId),t.$toast.success("Operation effectuer avec succes"),t.tableKey++,console.log(e.data)})).catch((function(e){console.log(e.response.data),t.isLoading=!1,t.$toast.error("Erreur survenue lors de la suppression")}))},closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},openCreate:function(){this.showForm("Create",{},this.gridApi)},showForm:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=r,this.formState=e,this.formData=t,this.formGridApi=a,this.$bvModal.show(this.formId)},onGridReady:function(e){console.log("on demarre",e),this.gridApi=e.api,this.columnApi=e.columnApi,this.isLoading=!1,this.gridApi.sizeColumnsToFit()},getgraphiques:function(){var e=this;this.axios.get("/api/graphiques").then((function(t){e.requette--,e.requette,e.graphiquesData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getusers:function(){var e=this;this.axios.get("/api/users").then((function(t){e.requette--,e.requette,e.usersData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))}}},T=k,A=Object(m["a"])(T,r,i,!1,null,null,null);t["default"]=A.exports},e774:function(e,t,a){"use strict";function r(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const a=document.implementation.createHTMLDocument(),r=a.createElement("base"),i=a.createElement("a");return a.head.appendChild(r),a.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}a.d(t,"a",(function(){return be}));const i=(()=>{let e=0;const t=()=>("0000"+(Math.random()*36**4<<0).toString(36)).slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function s(e){const t=[];for(let a=0,r=e.length;a<r;a++)t.push(e[a]);return t}function o(e,t){const a=e.ownerDocument.defaultView||window,r=a.getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function n(e){const t=o(e,"border-left-width"),a=o(e,"border-right-width");return e.clientWidth+t+a}function l(e){const t=o(e,"border-top-width"),a=o(e,"border-bottom-width");return e.clientHeight+t+a}function c(e,t={}){const a=t.width||n(e),r=t.height||l(e);return{width:a,height:r}}function d(){let e,t;try{t=process}catch(r){}const a=t&&t.env?t.env.devicePixelRatio:null;return a&&(e=parseInt(a,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const u=16384;function f(e){(e.width>u||e.height>u)&&(e.width>u&&e.height>u?e.width>e.height?(e.height*=u/e.width,e.width=u):(e.width*=u/e.height,e.height=u):e.width>u?(e.height*=u/e.width,e.width=u):(e.width*=u/e.height,e.height=u))}function m(e){return new Promise((t,a)=>{const r=new Image;r.decode=()=>t(r),r.onload=()=>t(r),r.onerror=a,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function p(e){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(e)).then(encodeURIComponent).then(e=>"data:image/svg+xml;charset=utf-8,"+e)}async function h(e,t,a){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),s=document.createElementNS(r,"foreignObject");return i.setAttribute("width",""+t),i.setAttribute("height",""+a),i.setAttribute("viewBox",`0 0 ${t} ${a}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),i.appendChild(s),s.appendChild(e),p(i)}const g=(e,t)=>{if(e instanceof t)return!0;const a=Object.getPrototypeOf(e);return null!==a&&(a.constructor.name===t.name||g(a,t))};function v(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function b(e){return s(e).map(t=>{const a=e.getPropertyValue(t),r=e.getPropertyPriority(t);return`${t}: ${a}${r?" !important":""};`}).join(" ")}function _(e,t,a){const r=`.${e}:${t}`,i=a.cssText?v(a):b(a);return document.createTextNode(`${r}{${i}}`)}function y(e,t,a){const r=window.getComputedStyle(e,a),s=r.getPropertyValue("content");if(""===s||"none"===s)return;const o=i();try{t.className=`${t.className} ${o}`}catch(l){return}const n=document.createElement("style");n.appendChild(_(o,a,r)),t.appendChild(n)}function C(e,t){y(e,t,":before"),y(e,t,":after")}const w="application/font-woff",x="image/jpeg",S={woff:w,woff2:w,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:x,jpeg:x,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function D(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function k(e){const t=D(e).toLowerCase();return S[t]||""}function T(e){return e.split(/,/)[1]}function A(e){return-1!==e.search(/^(data:)/)}function $(e,t){return`data:${t};base64,${e}`}async function I(e,t,a){const r=await fetch(e,t);if(404===r.status)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((e,t)=>{const s=new FileReader;s.onerror=t,s.onloadend=()=>{try{e(a({res:r,result:s.result}))}catch(i){t(i)}},s.readAsDataURL(i)})}const z={};function F(e,t,a){let r=e.replace(/\?.*/,"");return a&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function L(e,t,a){const r=F(e,t,a.includeQueryParams);if(null!=z[r])return z[r];let i;a.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());try{const r=await I(e,a.fetchRequestInit,({res:e,result:a})=>(t||(t=e.headers.get("Content-Type")||""),T(a)));i=$(r,t)}catch(s){i=a.imagePlaceholder||"";let t="Failed to fetch resource: "+e;s&&(t="string"===typeof s?s:s.message),t&&console.warn(t)}return z[r]=i,i}async function E(e){const t=e.toDataURL();return"data:,"===t?e.cloneNode(!1):m(t)}async function P(e,t){if(e.currentSrc){const t=document.createElement("canvas"),a=t.getContext("2d");t.width=e.clientWidth,t.height=e.clientHeight,null===a||void 0===a||a.drawImage(e,0,0,t.width,t.height);const r=t.toDataURL();return m(r)}const a=e.poster,r=k(a),i=await L(a,r,t);return m(i)}async function B(e){var t;try{if(null===(t=null===e||void 0===e?void 0:e.contentDocument)||void 0===t?void 0:t.body)return await V(e.contentDocument.body,{},!0)}catch(a){}return e.cloneNode(!1)}async function q(e,t){return g(e,HTMLCanvasElement)?E(e):g(e,HTMLVideoElement)?P(e,t):g(e,HTMLIFrameElement)?B(e):e.cloneNode(!1)}const U=e=>null!=e.tagName&&"SLOT"===e.tagName.toUpperCase();async function R(e,t,a){var r,i;let o=[];return o=U(e)&&e.assignedNodes?s(e.assignedNodes()):g(e,HTMLIFrameElement)&&(null===(r=e.contentDocument)||void 0===r?void 0:r.body)?s(e.contentDocument.body.childNodes):s((null!==(i=e.shadowRoot)&&void 0!==i?i:e).childNodes),0===o.length||g(e,HTMLVideoElement)||await o.reduce((e,r)=>e.then(()=>V(r,a)).then(e=>{e&&t.appendChild(e)}),Promise.resolve()),t}function M(e,t){const a=t.style;if(!a)return;const r=window.getComputedStyle(e);r.cssText?(a.cssText=r.cssText,a.transformOrigin=r.transformOrigin):s(r).forEach(i=>{let s=r.getPropertyValue(i);if("font-size"===i&&s.endsWith("px")){const e=Math.floor(parseFloat(s.substring(0,s.length-2)))-.1;s=e+"px"}g(e,HTMLIFrameElement)&&"display"===i&&"inline"===s&&(s="block"),"d"===i&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),a.setProperty(i,s,r.getPropertyPriority(i))})}function N(e,t){g(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),g(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function O(e,t){if(g(e,HTMLSelectElement)){const a=t,r=Array.from(a.children).find(t=>e.value===t.getAttribute("value"));r&&r.setAttribute("selected","")}}function G(e,t){return g(t,Element)&&(M(e,t),C(e,t),N(e,t),O(e,t)),t}async function j(e,t){const a=e.querySelectorAll?e.querySelectorAll("use"):[];if(0===a.length)return e;const r={};for(let s=0;s<a.length;s++){const i=a[s],o=i.getAttribute("xlink:href");if(o){const a=e.querySelector(o),i=document.querySelector(o);a||!i||r[o]||(r[o]=await V(i,t,!0))}}const i=Object.values(r);if(i.length){const t="http://www.w3.org/1999/xhtml",a=document.createElementNS(t,"svg");a.setAttribute("xmlns",t),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const r=document.createElementNS(t,"defs");a.appendChild(r);for(let e=0;e<i.length;e++)r.appendChild(i[e]);e.appendChild(a)}return e}async function V(e,t,a){return a||!t.filter||t.filter(e)?Promise.resolve(e).then(e=>q(e,t)).then(a=>R(e,a,t)).then(t=>G(e,t)).then(e=>j(e,t)):null}const W=/url\((['"]?)([^'"]+?)\1\)/g,K=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,H=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Y(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Z(e){const t=[];return e.replace(W,(e,a,r)=>(t.push(r),e)),t.filter(e=>!A(e))}async function X(e,t,a,i,s){try{const o=a?r(t,a):t,n=k(t);let l;if(s){const e=await s(o);l=$(e,n)}else l=await L(o,n,i);return e.replace(Y(t),`$1${l}$3`)}catch(o){}return e}function J(e,{preferredFontFormat:t}){return t?e.replace(H,e=>{while(1){const[a,,r]=K.exec(e)||[];if(!r)return"";if(r===t)return`src: ${a};`}}):e}function Q(e){return-1!==e.search(W)}async function ee(e,t,a){if(!Q(e))return e;const r=J(e,a),i=Z(r);return i.reduce((e,r)=>e.then(e=>X(e,r,t,a)),Promise.resolve(r))}async function te(e,t,a){var r;const i=null===(r=t.style)||void 0===r?void 0:r.getPropertyValue(e);if(i){const r=await ee(i,null,a);return t.style.setProperty(e,r,t.style.getPropertyPriority(e)),!0}return!1}async function ae(e,t){await te("background",e,t)||await te("background-image",e,t),await te("mask",e,t)||await te("mask-image",e,t)}async function re(e,t){const a=g(e,HTMLImageElement);if((!a||A(e.src))&&(!g(e,SVGImageElement)||A(e.href.baseVal)))return;const r=a?e.src:e.href.baseVal,i=await L(r,k(r),t);await new Promise((t,r)=>{e.onload=t,e.onerror=r;const s=e;s.decode&&(s.decode=t),"lazy"===s.loading&&(s.loading="eager"),a?(e.srcset="",e.src=i):e.href.baseVal=i})}async function ie(e,t){const a=s(e.childNodes),r=a.map(e=>se(e,t));await Promise.all(r).then(()=>e)}async function se(e,t){g(e,Element)&&(await ae(e,t),await re(e,t),await ie(e,t))}function oe(e,t){const{style:a}=e;t.backgroundColor&&(a.backgroundColor=t.backgroundColor),t.width&&(a.width=t.width+"px"),t.height&&(a.height=t.height+"px");const r=t.style;return null!=r&&Object.keys(r).forEach(e=>{a[e]=r[e]}),e}const ne={};async function le(e){let t=ne[e];if(null!=t)return t;const a=await fetch(e),r=await a.text();return t={url:e,cssText:r},ne[e]=t,t}async function ce(e,t){let a=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,i=a.match(/url\([^)]+\)/g)||[],s=i.map(async i=>{let s=i.replace(r,"$1");return s.startsWith("https://")||(s=new URL(s,e.url).href),I(s,t.fetchRequestInit,({result:e})=>(a=a.replace(i,`url(${e})`),[i,e]))});return Promise.all(s).then(()=>a)}function de(e){if(null==e)return[];const t=[],a=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(a,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");while(1){const e=i.exec(r);if(null===e)break;t.push(e[0])}r=r.replace(i,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",n=new RegExp(o,"gi");while(1){let e=s.exec(r);if(null===e){if(e=n.exec(r),null===e)break;s.lastIndex=n.lastIndex}else n.lastIndex=s.lastIndex;t.push(e[0])}return t}async function ue(e,t){const a=[],r=[];return e.forEach(a=>{if("cssRules"in a)try{s(a.cssRules||[]).forEach((e,i)=>{if(e.type===CSSRule.IMPORT_RULE){let s=i+1;const o=e.href,n=le(o).then(e=>ce(e,t)).then(e=>de(e).forEach(e=>{try{a.insertRule(e,e.startsWith("@import")?s+=1:a.cssRules.length)}catch(t){console.error("Error inserting rule from remote css",{rule:e,error:t})}})).catch(e=>{console.error("Error loading remote css",e.toString())});r.push(n)}})}catch(i){const s=e.find(e=>null==e.href)||document.styleSheets[0];null!=a.href&&r.push(le(a.href).then(e=>ce(e,t)).then(e=>de(e).forEach(e=>{s.insertRule(e,a.cssRules.length)})).catch(e=>{console.error("Error loading remote stylesheet",e)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(e=>{if("cssRules"in e)try{s(e.cssRules||[]).forEach(e=>{a.push(e)})}catch(t){console.error("Error while reading CSS rules from "+e.href,t)}}),a))}function fe(e){return e.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>Q(e.style.getPropertyValue("src")))}async function me(e,t){if(null==e.ownerDocument)throw new Error("Provided element is not within a Document");const a=s(e.ownerDocument.styleSheets),r=await ue(a,t);return fe(r)}async function pe(e,t){const a=await me(e,t),r=await Promise.all(a.map(e=>{const a=e.parentStyleSheet?e.parentStyleSheet.href:null;return ee(e.cssText,a,t)}));return r.join("\n")}async function he(e,t){const a=null!=t.fontEmbedCSS?t.fontEmbedCSS:t.skipFonts?null:await pe(e,t);if(a){const t=document.createElement("style"),r=document.createTextNode(a);t.appendChild(r),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}}async function ge(e,t={}){const{width:a,height:r}=c(e,t),i=await V(e,t,!0);await he(i,t),await se(i,t),oe(i,t);const s=await h(i,a,r);return s}async function ve(e,t={}){const{width:a,height:r}=c(e,t),i=await ge(e,t),s=await m(i),o=document.createElement("canvas"),n=o.getContext("2d"),l=t.pixelRatio||d(),u=t.canvasWidth||a,p=t.canvasHeight||r;return o.width=u*l,o.height=p*l,t.skipAutoScale||f(o),o.style.width=""+u,o.style.height=""+p,t.backgroundColor&&(n.fillStyle=t.backgroundColor,n.fillRect(0,0,o.width,o.height)),n.drawImage(s,0,0,o.width,o.height),o}async function be(e,t={}){const a=await ve(e,t);return a.toDataURL("image/jpeg",t.quality||1)}},fb0f:function(e,t,a){"use strict";a("a669")}}]);
//# sourceMappingURL=chunk-0e3cbf92.3a2a2d3a.js.map