(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cdbad8be"],{"1a62":function(e,t,i){"use strict";i("624e")},"2ee4":function(e,t,i){!function(t,i){e.exports=i()}("undefined"!=typeof self&&self,(function(){return function(e){function t(a){if(i[a])return i[a].exports;var r=i[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,a){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t){e.exports=function(e,t,i,a,r,s){var o,n=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(o=e,n=e.default);var d,c="function"==typeof n?n.options:n;if(t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),i&&(c.functional=!0),r&&(c._scopeId=r),s?(d=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=d):a&&(d=a),d){var u=c.functional,f=u?c.render:c.beforeCreate;u?(c._injectStyles=d,c.render=function(e,t){return d.call(t),f(e,t)}):c.beforeCreate=f?[].concat(f,d):[d]}return{esModule:o,exports:n,options:c}}},function(e,t,i){"use strict";var a=i(2),r=i(4),s=i(14);t.a={name:"form-wizard",components:{WizardButton:a.a,WizardStep:r.a},props:{title:{type:String,default:"Awesome Wizard"},subtitle:{type:String,default:"Split a complicated flow in multiple steps"},nextButtonText:{type:String,default:"Next"},backButtonText:{type:String,default:"Back"},finishButtonText:{type:String,default:"Finish"},hideButtons:{type:Boolean,default:!1},validateOnBack:Boolean,color:{type:String,default:"#e74c3c"},errorColor:{type:String,default:"#8b0000"},shape:{type:String,default:"circle"},layout:{type:String,default:"horizontal"},stepsClasses:{type:[String,Array],default:""},stepSize:{type:String,default:"md",validator:function(e){return-1!==["xs","sm","md","lg"].indexOf(e)}},transition:{type:String,default:""},startIndex:{type:Number,default:0,validator:function(e){return e>=0}}},provide:function(){return{addTab:this.addTab,removeTab:this.removeTab}},data:function(){return{activeTabIndex:0,currentPercentage:0,maxStep:0,loading:!1,tabs:[]}},computed:{slotProps:function(){return{nextTab:this.nextTab,prevTab:this.prevTab,activeTabIndex:this.activeTabIndex,isLastStep:this.isLastStep,fillButtonStyle:this.fillButtonStyle}},tabCount:function(){return this.tabs.length},isLastStep:function(){return this.activeTabIndex===this.tabCount-1},isVertical:function(){return"vertical"===this.layout},displayPrevButton:function(){return 0!==this.activeTabIndex},stepPercentage:function(){return 1/(2*this.tabCount)*100},progressBarStyle:function(){return{backgroundColor:this.color,width:this.progress+"%",color:this.color}},fillButtonStyle:function(){return{backgroundColor:this.color,borderColor:this.color,color:"white"}},progress:function(){return this.activeTabIndex>0?this.stepPercentage*(2*this.activeTabIndex+1):this.stepPercentage}},methods:{emitTabChange:function(e,t){this.$emit("on-change",e,t),this.$emit("update:startIndex",t)},addTab:function(e){var t=this.$slots.default.indexOf(e.$vnode);e.tabId=""+e.title.replace(/ /g,"")+t,this.tabs.splice(t,0,e),t<this.activeTabIndex+1&&(this.maxStep=t,this.changeTab(this.activeTabIndex+1,t))},removeTab:function(e){var t=this.tabs,i=t.indexOf(e);i>-1&&(i===this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.changeTab(this.activeTabIndex,this.activeTabIndex-1)),i<this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.activeTabIndex=this.activeTabIndex-1,this.emitTabChange(this.activeTabIndex+1,this.activeTabIndex)),t.splice(i,1))},reset:function(){this.maxStep=0,this.tabs.forEach((function(e){e.checked=!1})),this.navigateToTab(0)},activateAll:function(){this.maxStep=this.tabs.length-1,this.tabs.forEach((function(e){e.checked=!0}))},navigateToTab:function(e){var t=this,i=e>this.activeTabIndex;if(e<=this.maxStep){var a=function a(){i&&e-t.activeTabIndex>1?(t.changeTab(t.activeTabIndex,t.activeTabIndex+1),t.beforeTabChange(t.activeTabIndex,a)):(t.changeTab(t.activeTabIndex,e),t.afterTabChange(t.activeTabIndex))};i?this.beforeTabChange(this.activeTabIndex,a):(this.setValidationError(null),a())}return e<=this.maxStep},nextTab:function(){var e=this,t=function(){e.activeTabIndex<e.tabCount-1?(e.changeTab(e.activeTabIndex,e.activeTabIndex+1),e.afterTabChange(e.activeTabIndex)):e.$emit("on-complete")};this.beforeTabChange(this.activeTabIndex,t)},prevTab:function(){var e=this,t=function(){e.activeTabIndex>0&&(e.setValidationError(null),e.changeTab(e.activeTabIndex,e.activeTabIndex-1))};this.validateOnBack?this.beforeTabChange(this.activeTabIndex,t):t()},focusNextTab:function(){var e=Object(s.b)(this.tabs);if(-1!==e&&e<this.tabs.length-1){var t=this.tabs[e+1];t.checked&&Object(s.a)(t.tabId)}},focusPrevTab:function(){var e=Object(s.b)(this.tabs);if(-1!==e&&e>0){var t=this.tabs[e-1].tabId;Object(s.a)(t)}},setLoading:function(e){this.loading=e,this.$emit("on-loading",e)},setValidationError:function(e){this.tabs[this.activeTabIndex].validationError=e,this.$emit("on-error",e)},validateBeforeChange:function(e,t){var i=this;if(this.setValidationError(null),Object(s.c)(e))this.setLoading(!0),e.then((function(e){i.setLoading(!1);var a=!0===e;i.executeBeforeChange(a,t)})).catch((function(e){i.setLoading(!1),i.setValidationError(e)}));else{var a=!0===e;this.executeBeforeChange(a,t)}},executeBeforeChange:function(e,t){this.$emit("on-validate",e,this.activeTabIndex),e?t():this.tabs[this.activeTabIndex].validationError="error"},beforeTabChange:function(e,t){if(!this.loading){var i=this.tabs[e];if(i&&void 0!==i.beforeChange){var a=i.beforeChange();this.validateBeforeChange(a,t)}else t()}},afterTabChange:function(e){if(!this.loading){var t=this.tabs[e];t&&void 0!==t.afterChange&&t.afterChange()}},changeTab:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this.tabs[e],r=this.tabs[t];return a&&(a.active=!1),r&&(r.active=!0),i&&this.activeTabIndex!==t&&this.emitTabChange(e,t),this.activeTabIndex=t,this.activateTabAndCheckStep(this.activeTabIndex),!0},tryChangeRoute:function(e){this.$router&&e.route&&this.$router.push(e.route)},checkRouteChange:function(e){var t=-1,i=this.tabs.find((function(i,a){var r=i.route===e;return r&&(t=a),r}));if(i&&!i.active){var a=t>this.activeTabIndex;this.navigateToTab(t,a)}},deactivateTabs:function(){this.tabs.forEach((function(e){e.active=!1}))},activateTab:function(e){this.deactivateTabs();var t=this.tabs[e];t&&(t.active=!0,t.checked=!0,this.tryChangeRoute(t))},activateTabAndCheckStep:function(e){this.activateTab(e),e>this.maxStep&&(this.maxStep=e),this.activeTabIndex=e},initializeTabs:function(){this.tabs.length>0&&0===this.startIndex&&this.activateTab(this.activeTabIndex),this.startIndex<this.tabs.length?this.activateTabAndCheckStep(this.startIndex):window.console.warn("Prop startIndex set to "+this.startIndex+" is greater than the number of tabs - "+this.tabs.length+". Make sure that the starting index is less than the number of tabs registered")}},mounted:function(){this.initializeTabs()},watch:{"$route.path":function(e){this.checkRouteChange(e)}}}},function(e,t,i){"use strict";function a(e){i(10)}var r=i(3),s=i(11),o=i(0),n=a,l=o(r.a,s.a,!1,n,null,null);t.a=l.exports},function(e,t,i){"use strict";t.a={}},function(e,t,i){"use strict";function a(e){i(12)}var r=i(5),s=i(13),o=i(0),n=a,l=o(r.a,s.a,!1,n,null,null);t.a=l.exports},function(e,t,i){"use strict";t.a={name:"wizard-step",props:{tab:{type:Object,default:function(){}},transition:{type:String,default:""},index:{type:Number,default:0}},computed:{iconActiveStyle:function(){return{backgroundColor:this.tab.color}},stepCheckedStyle:function(){return{borderColor:this.tab.color}},errorStyle:function(){return{borderColor:this.tab.errorColor,backgroundColor:this.tab.errorColor}},stepTitleStyle:function(){return{color:this.tab.validationError?this.tab.errorColor:this.tab.color}},isStepSquare:function(){return"square"===this.tab.shape},isTabShape:function(){return"tab"===this.tab.shape}}}},function(e,t,i){"use strict";t.a={name:"tab-content",props:{title:{type:String,default:""},icon:{type:String,default:""},beforeChange:{type:Function},afterChange:{type:Function},route:{type:[String,Object]},additionalInfo:{type:Object,default:function(){}}},inject:["addTab","removeTab"],data:function(){return{active:!1,validationError:null,checked:!1,tabId:""}},computed:{shape:function(){return this.$parent.shape},color:function(){return this.$parent.color},errorColor:function(){return this.$parent.errorColor}},mounted:function(){this.addTab(this)},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.removeTab(this)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(8),r=i(16),s=i(2),o=i(4);i.d(t,"FormWizard",(function(){return a.a})),i.d(t,"TabContent",(function(){return r.a})),i.d(t,"WizardButton",(function(){return s.a})),i.d(t,"WizardStep",(function(){return o.a}));var n={install:function(e){e.component("form-wizard",a.a),e.component("tab-content",r.a),e.component("wizard-button",s.a),e.component("wizard-step",o.a)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(n),t.default=n},function(e,t,i){"use strict";function a(e){i(9)}var r=i(1),s=i(15),o=i(0),n=a,l=o(r.a,s.a,!1,n,null,null);t.a=l.exports},function(e,t){},function(e,t){},function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{staticClass:"wizard-btn",attrs:{tabindex:"-1",type:"button"}},[e._t("default")],2)},r=[],s={render:a,staticRenderFns:r};t.a=s},function(e,t){},function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{class:{active:e.tab.active}},[i("a",{class:{disabled:!e.tab.checked},attrs:{href:"javascript:void(0)"}},[i("div",{staticClass:"wizard-icon-circle md",class:{checked:e.tab.checked,square_shape:e.isStepSquare,tab_shape:e.isTabShape},style:[e.tab.checked?e.stepCheckedStyle:{},e.tab.validationError?e.errorStyle:{}],attrs:{role:"tab",tabindex:e.tab.checked?0:"",id:"step-"+e.tab.tabId,"aria-controls":e.tab.tabId,"aria-disabled":e.tab.active,"aria-selected":e.tab.active}},[i("transition",{attrs:{name:e.transition,mode:"out-in"}},[e.tab.active?i("div",{staticClass:"wizard-icon-container",class:{square_shape:e.isStepSquare,tab_shape:e.isTabShape},style:[e.tab.active?e.iconActiveStyle:{},e.tab.validationError?e.errorStyle:{}]},[e._t("active-step",[e.tab.icon?i("i",{staticClass:"wizard-icon",class:e.tab.icon}):i("i",{staticClass:"wizard-icon"},[e._v(e._s(e.index+1))])])],2):e._e(),e._v(" "),e.tab.active?e._e():e._t("default",[!e.tab.active&&e.tab.icon?i("i",{staticClass:"wizard-icon",class:e.tab.icon}):e._e(),e._v(" "),e.tab.active||e.tab.icon?e._e():i("i",{staticClass:"wizard-icon"},[e._v(e._s(e.index+1))])])],2)],1),e._v(" "),e._t("title",[i("span",{staticClass:"stepTitle",class:{active:e.tab.active,has_error:e.tab.validationError},style:e.tab.active?e.stepTitleStyle:{}},[e._v("\n            "+e._s(e.tab.title)+"\n      ")])])],2)])},r=[],s={render:a,staticRenderFns:r};t.a=s},function(e,t,i){"use strict";function a(){return document.activeElement.id}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=a();return e.findIndex((function(e){return e.tabId===t}))}function s(e){document.getElementById(e).focus()}function o(e){return e.then&&"function"==typeof e.then}t.b=r,t.a=s,t.c=o},function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vue-form-wizard",class:[e.stepSize,{vertical:e.isVertical}],on:{keyup:[function(t){return"button"in t||!e._k(t.keyCode,"right",39,t.key)?"button"in t&&2!==t.button?null:void e.focusNextTab(t):null},function(t){return"button"in t||!e._k(t.keyCode,"left",37,t.key)?"button"in t&&0!==t.button?null:void e.focusPrevTab(t):null}]}},[i("div",{staticClass:"wizard-header"},[e._t("title",[i("h4",{staticClass:"wizard-title"},[e._v(e._s(e.title))]),e._v(" "),i("p",{staticClass:"category"},[e._v(e._s(e.subtitle))])])],2),e._v(" "),i("div",{staticClass:"wizard-navigation"},[e.isVertical?e._e():i("div",{staticClass:"wizard-progress-with-circle"},[i("div",{staticClass:"wizard-progress-bar",style:e.progressBarStyle})]),e._v(" "),i("ul",{staticClass:"wizard-nav wizard-nav-pills",class:e.stepsClasses,attrs:{role:"tablist"}},[e._l(e.tabs,(function(t,a){return e._t("step",[i("wizard-step",{attrs:{tab:t,"step-size":e.stepSize,transition:e.transition,index:a},nativeOn:{click:function(t){e.navigateToTab(a)},keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.navigateToTab(a)}}})],{tab:t,index:a,navigateToTab:e.navigateToTab,stepSize:e.stepSize,transition:e.transition})}))],2),e._v(" "),i("div",{staticClass:"wizard-tab-content"},[e._t("default",null,null,e.slotProps)],2)]),e._v(" "),e.hideButtons?e._e():i("div",{staticClass:"wizard-card-footer clearfix"},[e._t("footer",[i("div",{staticClass:"wizard-footer-left"},[e.displayPrevButton?i("span",{attrs:{role:"button",tabindex:"0"},on:{click:e.prevTab,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.prevTab(t)}}},[e._t("prev",[i("wizard-button",{style:e.fillButtonStyle,attrs:{disabled:e.loading}},[e._v("\n              "+e._s(e.backButtonText)+"\n            ")])],null,e.slotProps)],2):e._e(),e._v(" "),e._t("custom-buttons-left",null,null,e.slotProps)],2),e._v(" "),i("div",{staticClass:"wizard-footer-right"},[e._t("custom-buttons-right",null,null,e.slotProps),e._v(" "),e.isLastStep?i("span",{attrs:{role:"button",tabindex:"0"},on:{click:e.nextTab,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.nextTab(t)}}},[e._t("finish",[i("wizard-button",{style:e.fillButtonStyle},[e._v("\n              "+e._s(e.finishButtonText)+"\n            ")])],null,e.slotProps)],2):i("span",{attrs:{role:"button",tabindex:"0"},on:{click:e.nextTab,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.nextTab(t)}}},[e._t("next",[i("wizard-button",{style:e.fillButtonStyle,attrs:{disabled:e.loading}},[e._v("\n            "+e._s(e.nextButtonText)+"\n           ")])],null,e.slotProps)],2)],2)],null,e.slotProps)],2)])},r=[],s={render:a,staticRenderFns:r};t.a=s},function(e,t,i){"use strict";var a=i(6),r=i(17),s=i(0),o=s(a.a,r.a,!1,null,null,null);t.a=o.exports},function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],staticClass:"wizard-tab-container",attrs:{role:"tabpanel",id:e.tabId,"aria-hidden":!e.active,"aria-labelledby":"step-"+e.tabId}},[e._t("default",null,{active:e.active})],2)},r=[],s={render:a,staticRenderFns:r};t.a=s}])}))},"485e":function(e,t,i){"use strict";i("f54f")},"624e":function(e,t,i){},6986:function(e,t,i){},"86b6":function(e,t,i){"use strict";i("6986")},b20a:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row"},[i("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["Update"==e.formState?i("div",[e._v(" Update Modelslistings #"+e._s(e.formData.id)+" ")]):e._e(),"Create"==e.formState?i("div",[e._v("Create Modelslistings")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return[i("div")]},proxy:!0}])},["Update"==e.formState?i("EditModelslistings",{key:e.formKey,attrs:{data:e.formData,factionsData:e.factionsData,gridApi:e.formGridApi,modalFormId:e.formId,usersData:e.usersData,zonesData:e.zonesData},on:{close:e.closeForm}}):e._e(),"Create"==e.formState?i("CreateModelslistings",{key:e.formKey,attrs:{factionsData:e.factionsData,gridApi:e.formGridApi,modalFormId:e.formId,usersData:e.usersData,zonesData:e.zonesData},on:{close:e.closeForm}}):e._e()],1),i("div",{staticClass:"col-sm-12"},[i("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefs,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,url:e.url,className:"ag-theme-alpine",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady},scopedSlots:e._u([{key:"header_buttons",fn:function(){return[e.routeData.meta.hideCreate?e._e():i("div",{staticClass:"btn btn-primary",on:{click:e.openCreate}},[i("i",{staticClass:"fa fa-plus"}),e._v(" Nouveau ")])]},proxy:!0}])})],1)],1)},r=[],s=(i("4de4"),i("d3b7"),i("1fdb")),o=i("bad1"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-overlay",{attrs:{show:e.isLoading}},[e._l(Object.keys(e.errors),(function(t){return i("div",e._l(Object.values(e.errors[t]),(function(a){return i("div",[i("b-alert",{staticStyle:{padding:"5px"},attrs:{show:"",variant:"danger"}},[e._v(e._s(t)+" : "+e._s(a[0])+" ")])],1)})),0)})),i("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["Update"==e.formState?i("div",[e._v(" Update Modelslistings #"+e._s(e.formData.id)+" ")]):e._e(),"Create"==e.formState?i("div",[e._v("Create Modelslistings")]):e._e(),"Createdirections"==e.formState?i("div",[e._v("add Directions")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return["Create"==e.formState?i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.finishAddPoste()}}},[i("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Valider ")]):e._e(),"Createdirections"==e.formState?i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.finishAddDirection()}}},[i("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Valider ")]):e._e()]},proxy:!0}])},["Create"==e.formState?i("div",[i("AgGridSearch",{key:"Horaires",attrs:{columnDefs:e.add.columnDefs,filterFields:["horaires.libelle","sites.libelle","clients.libelle","zones.libelle"],url:e.add.url,filterKey:"zones.id",filterValue:e.form.zone_id.toString()},on:{destruction:e.finishAddPoste}})],1):e._e(),"Createdirections"==e.formState?i("div",[i("AgGridSearch",{key:"Directions",attrs:{columnDefs:e.adddirections.columnDefs,filterFields:["libelle","code"],extrasData:{},url:e.adddirections.url},on:{destruction:e.finishAddDirection}})],1):e._e()]),i("div",[i("form",{on:{submit:function(t){return t.preventDefault(),e.createLine()}}},[i("div",{staticClass:"row"},[Object.keys(e.form).includes("Libelle")?i("div",{staticClass:"form-group col-sm-2"},[i("label",[e._v("Libelle ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.Libelle,expression:"form.Libelle"}],class:e.errors.Libelle?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.Libelle},on:{input:function(t){t.target.composing||e.$set(e.form,"Libelle",t.target.value)}}}),e.errors.Libelle?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.Libelle,(function(t){return[e._v(" "+e._s(t[0])+" ")]}))],2):e._e()]):e._e(),Object.keys(e.form).includes("min_partage")?i("div",{staticClass:"form-group col-sm-2"},[i("label",[e._v("minimum de pointage")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.min_partage,expression:"form.min_partage"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.form.min_partage},on:{input:function(t){t.target.composing||e.$set(e.form,"min_partage",t.target.value)}}})]):e._e(),Object.keys(e.form).includes("date_debut")?i("div",{staticClass:"form-group col-sm-2"},[i("label",[e._v("date de debut ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.date_debut,expression:"form.date_debut"}],staticClass:"form-control",attrs:{required:"",type:"date"},domProps:{value:e.form.date_debut},on:{input:function(t){t.target.composing||e.$set(e.form,"date_debut",t.target.value)}}})]):e._e(),Object.keys(e.form).includes("zones")&&Object.keys(e.form).includes("zone_id")?i("div",{staticClass:"form-group col-sm-3"},[i("label",[e._v("zones ")]),i("CustomSelect",{key:e.form.zones,attrs:{columnDefs:["id","libelle"],oldValue:e.form.zones,renderCallBack:function(e){return""+e.libelle},selectCallBack:function(t){return e.form.zone_id=t.id},url:e.axios.defaults.baseURL+"/api/zones-Aggrid1","filter-key":"","filter-value":""}}),e.errors.zone_id?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.zone_id,(function(t){return[e._v(" "+e._s(t[0])+" ")]}))],2):e._e()],1):e._e(),Object.keys(e.form).includes("postesbaladeur")&&Object.keys(e.form).includes("postesbaladeur_id")?i("div",{staticClass:"form-group col-sm-3"},[i("label",[e._v("postes baladeur ")]),i("CustomSelect1",{key:e.form.postesbaladeur,attrs:{columnDefs:e.addPostesBaladeur.columns,extrasData:e.addPostesBaladeur.extrasData,filterFields:["postes.libelle","clients.libelle","sites.libelle"],oldValue:e.form.postesbaladeur,renderCallBack:function(e){return e.postes.libelle+" "},selectCallBack:function(t){return e.form.postesbaladeur_id=t.id},url:e.axios.defaults.baseURL+"/api/postes-Aggrid1"}}),e.errors.postesbaladeur?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.postesbaladeur,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1):e._e(),Object.keys(e.form).includes("user")?i("div",{staticClass:"form-group col-sm-3"},[i("label",[e._v("valideur 1")]),i("CustomSelect",{key:e.form.user,attrs:{columnDefs:["id","nom","prenom"],oldValue:e.form.user,renderCallBack:function(e){return e.nom+" "+e.prenom},selectCallBack:function(t){return e.form.user_id=t.id},url:e.axios.defaults.baseURL+"/api/users-Aggrid1",extrasData:{baseFilter:{type:{values:[1],filterType:"set"}}}}}),e.errors.user_id?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.user_id,(function(t){return[e._v(" "+e._s(t[0])+" ")]}))],2):e._e()],1):e._e(),Object.keys(e.form).includes("user2")?i("div",{staticClass:"form-group col-sm-3"},[i("label",[e._v("valideur 1 ")]),i("CustomSelect",{key:e.form.user2,attrs:{columnDefs:["id","nom","prenom"],oldValue:e.form.user2,renderCallBack:function(e){return e.nom+" "+e.prenom},selectCallBack:function(t){return e.form.user_id_2=t.id},url:e.axios.defaults.baseURL+"/api/users-Aggrid1",extrasData:{baseFilter:{type:{values:[1],filterType:"set"}}}}}),e.errors.user_id_2?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.user_id_2,(function(t){return[e._v(" "+e._s(t[0])+" ")]}))],2):e._e()],1):e._e(),Object.keys(e.form).includes("user3")?i("div",{staticClass:"form-group col-sm-3"},[i("label",[e._v("valideur 2 ")]),i("CustomSelect",{key:e.form.user3,attrs:{columnDefs:["id","nom","prenom"],oldValue:e.form.user3,renderCallBack:function(e){return e.nom+" "+e.prenom},selectCallBack:function(t){return e.form.user_id_3=t.id},url:e.axios.defaults.baseURL+"/api/users-Aggrid1",extrasData:{baseFilter:{type:{values:[1],filterType:"set"}}}}}),e.errors.user_id_3?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.user_id_3,(function(t){return[e._v(" "+e._s(t[0])+" ")]}))],2):e._e()],1):e._e(),Object.keys(e.form).includes("user4")?i("div",{staticClass:"form-group col-sm-3"},[i("label",[e._v("valideur 2 ")]),i("CustomSelect",{key:e.form.user4,attrs:{columnDefs:["id","nom","prenom"],oldValue:e.form.user4,renderCallBack:function(e){return e.nom+" "+e.prenom},selectCallBack:function(t){return e.form.user_id_4=t.id},url:e.axios.defaults.baseURL+"/api/users-Aggrid1",extrasData:{baseFilter:{type:{values:[1],filterType:"set"}}}}}),e.errors.user_id_4?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.user_id_4,(function(t){return[e._v(" "+e._s(t[0])+" ")]}))],2):e._e()],1):e._e()]),i("div",{staticClass:"col-sm-12 card"},[i("div",{staticClass:"card-body allBoutons"},[i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn",style:"Postes"==e.actualPage?"border: 3px solid  green":"",on:{click:function(t){return t.preventDefault(),e.togglePage("Postes")}}},[i("div",{staticClass:"iconParent"},[i("span",[i("i",{staticClass:"fa-solid fa-filter"}),e._v(" Postes ")])])]),i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn",style:"Directions"==e.actualPage?"border: 3px solid  green":"",on:{click:function(t){return t.preventDefault(),e.togglePage("Directions")}}},[i("div",{staticClass:"iconParent"},[i("span",[i("i",{staticClass:"fa-solid fa-filter"}),e._v(" Directions ")])])])])]),"Postes"==e.actualPage?i("div",{staticClass:"form-group"},[i("label",[e._v("Postes")]),i("div",{staticClass:"col-sm-12"},[i("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefs,extrasData:e.postesExtrasData,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,"show-export":!1,"show-pagination":!1,url:e.url,className:"ag-theme-alpine","dom-layout":"normal",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady,newData:e.newData},scopedSlots:e._u([{key:"header_buttons",fn:function(){return[0!=e.form.zone_id?i("div",{staticClass:"btn btn-primary",on:{click:function(t){return e.openCreate("horaires")}}},[i("i",{staticClass:"fa fa-plus"}),e._v(" Ajouter des horaires ")]):e._e()]},proxy:!0}],null,!1,180963374)})],1)]):e._e(),"Directions"==e.actualPage?i("div",{staticClass:"form-group"},[i("label",[e._v("Directions")]),i("div",{staticClass:"col-sm-12"},[i("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefsDirection,extrasData:e.directionExtrasData,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,"show-export":!1,"show-pagination":!1,url:e.url3,className:"ag-theme-alpine","dom-layout":"normal",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady,newData:e.newData},scopedSlots:e._u([{key:"header_buttons",fn:function(){return[i("div",{staticClass:"btn btn-primary",on:{click:function(t){return e.openCreate("directions")}}},[i("i",{staticClass:"fa fa-plus"}),e._v(" Ajouter des directions ")])]},proxy:!0}],null,!1,1934021929)})],1)]):e._e(),i("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[i("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Créer ")])])])],2)},l=[],d=(i("a15b"),i("14d9"),i("a434"),i("e9c4"),i("ac1f"),i("841c"),i("159b"),i("b8bb")),c=i("1cdd"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"col-sm-12"},[e._v(" "+e._s(e.allAddElements)+" "),i("AgGridSearch",{attrs:{columnDefs:e.columnDefs,extrasData:e.extrasData,filterFields:["nom","prenom","matricule"],url:e.url,"filter-key":"type","filter-value":"2"},on:{destruction:e.finishAddUser}})],1)},f=[],m=(i("99af"),i("caad"),i("2532"),i("99d2")),p=i("4a7a"),h=i.n(p),b={name:"AddAgents",components:{VSelect:h.a,CustomSelect:d["a"],AgGridSearch:m["a"]},props:{addId:{type:Array,default:[]},excludeId:{type:Array,default:[]}},computed:{allAddElements:function(){return this.addId.concat(this.addAgent)},allExcludeElements:function(){return this.excludeId.concat(this.excludeAgent)}},data:function(){return{addAgent:[],excludeAgent:[],errors:[],isLoading:!1,defaultEntite:"User",formId:"users",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/users-Aggrid1",table:"users",requette:9,columnDefs:null,rowData:null,gridApi1:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:20,cacheBlockSize:10,maxBlocksInCache:1,extrasData:{},agGridData:null}},created:function(){this.url=this.axios.defaults.baseURL+"/api/users-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2;var e={type:{values:[2,3],filterType:"set"}};this.extrasData["baseFilter"]=e,this.extrasData["selectAllFilter"]=1},methods:{selectElement:function(e){this.addAgent.push(e),this.excludeAgent=this.excludeAgent.filter((function(t){return t!=e})),this.$emit("addAgent",e)},excludeElement:function(e){this.excludeAgent.push(e),this.addAgent=this.addAgent.filter((function(t){return t!=e})),this.$emit("excludeAgent",e)}},beforeMount:function(){var e=this;this.columnDefs=[{field:"nom",headerName:"",cellRendererSelector:function(t){var i={component:"AgGridBtnClicked",params:{clicked:function(i){e.selectElement(t.data.id)},render:'<div class="" style="width:100%;height:100%;background:#646464;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-pen-to-square "></i></div>'}};return e.allAddElements.includes(t.data.id)&&(i={component:"AgGridBtnClicked",params:{clicked:function(i){e.selectElement(t.data.id)},render:'<div class="btn btn-primary" style="width:100%;height:100%;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-pen-to-square "></i></div>'}}),e.allExcludeElements.includes(t.data.id)&&(i={component:"AgGridBtnClicked",params:{clicked:function(i){e.selectElement(t.data.id)},render:'<div class="" style="width:100%;height:100%;background:red;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-pen-to-square "></i></div>'}}),i}},{field:"nom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"nom"},{field:"prenom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"prenom"},{field:"matricule",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"matricule"}]}},g=b,v=i("2877"),C=Object(v["a"])(g,u,f,!1,null,"2f7d729e",null),y=(C.exports,i("2ee4")),_=i("9dbc"),x=(i("da93"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"parent"},[i("FullCalendar",{attrs:{options:e.calendarOptions}})],1)}),S=[],D=(i("b64b"),i("5574"),i("f5ff")),k=i("3cdd"),A=i("a20c"),T={name:"Pointageagents",components:{FullCalendar:D["a"]},props:["modellistingsData"],data:function(){return{calendarOptions:{plugins:[k["a"],A["a"]],dateClick:this.handleDateClick,initialView:"dayGridMonth",events:[],locale:"fr",selectable:!0},selectedDates:[]}},mounted:function(){this.generateEvents()},methods:{handleDateClick:function(e){var t=e.dateStr,i=this.selectedDates.indexOf(t);i>-1?this.selectedDates.splice(i,1):this.selectedDates.push(t),this.updateCalendarEvents(),console.log("selectedDates",this.selectedDates),this.$emit("selectDays",this.selectedDates)},updateCalendarEvents:function(){var e=this;this.calendarOptions.events=[],this.selectedDates.forEach((function(t){e.calendarOptions.events.push({title:"Selectionner",date:t})}))},generateEvents:function(){var e=this.modellistingsData.date,t=JSON.parse(e);console.log("modellistingsDates",t),this.selectedDates=t;var i=[];t.forEach((function(e){i.push({title:"Selectionner",date:e.split(" ")[0]})})),this.calendarOptions.events=i}}},w=T,F=Object(v["a"])(w,x,S,!1,null,null,null),P=F.exports,z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weekday-checkbox"},e._l(e.days,(function(t,a){return i("label",{key:a,staticClass:"btn btn-warning"},[i("input",{staticClass:"badgebox",attrs:{type:"checkbox"},domProps:{checked:e.isChecked(t)},on:{change:function(i){return e.toggleCheckbox(t)}}}),e._v(" "+e._s(t)+" "),i("span",{staticClass:"badge"},[e._v("✓")])])})),0)},I=[],B=i("2909"),L={props:{value:Array},data:function(){return{days:["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"]}},methods:{isChecked:function(e){return this.value.includes(e)},toggleCheckbox:function(e){this.isChecked(e)?this.$emit("input",this.value.filter((function(t){return t!==e}))):this.$emit("input",[].concat(Object(B["a"])(this.value),[e]))}},watch:{value:{handler:function(e){this.selectedDays=e},immediate:!0}}},O=L,N=(i("1a62"),Object(v["a"])(O,z,I,!1,null,"3f11bc3e",null)),M=N.exports,$=i("c1df"),E=i.n($),G=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row"},[i("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["Update"==e.formState?i("div",[e._v("Update Cruds #"+e._s(e.formData.id))]):e._e(),"Create"==e.formState?i("div",[e._v("Create Cruds")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return[i("div")]},proxy:!0}])},["Update"==e.formState?i("EditCruds",{key:e.formKey,attrs:{data:e.formData,gridApi:e.formGridApi,modalFormId:e.formId,usersData:e.usersData},on:{close:e.closeForm}}):e._e(),"Create"==e.formState?i("CreateCruds",{key:e.formKey,attrs:{gridApi:e.formGridApi,modalFormId:e.formId,usersData:e.usersData},on:{close:e.closeForm}}):e._e()],1),i("div",{staticClass:"col-sm-12"},[i("AgGridTable",{key:e.programmationSelect,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefs,"extras-data":e.extrasData,"in-card":!1,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,sideBar:!1,url:e.url,className:"ag-theme-alpine",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady},scopedSlots:e._u([{key:"header_buttons",fn:function(){},proxy:!0}])})],1)],1)},R=[],j=(i("a9e3"),i("47b7")),U=i("c6f7"),W=i("91b5"),q=i("27c5"),K={name:"Activitesrecentes",components:{DataTable:s["a"],AgGridTable:o["a"],DataModal:j["a"],AgGridBtnClicked:q["a"],AdminPerms:U["a"],EditCruds:W["a"]},props:{programmationSelect:{type:Number,default:0}},data:function(){return{search:"",formId:"perms",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/programmations-Aggrid1",table:"perms",usersData:[],requette:1,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:10,cacheBlockSize:10,maxBlocksInCache:1}},computed:{$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},taille:function(){var e="col-sm-12";return this.filtre&&(e="col-sm-9"),e},extrasData:function(){var e={};return e["type"]={value:"listings-du-model-"+this.programmationSelect,filterType:"equals"},{baseFilter:e}}},watch:{$route:{handler:function(e,t){this.gridApi.setFilterModel(null),this.gridApi.refreshServerSide(),this.tableKey++},deep:!0},extrasData:{handler:function(e,t){this.gridApi.sizeColumnsToFit(),this.gridApi.refreshServerSide()},deep:!0}},created:function(){this.url=this.axios.defaults.baseURL+"/api/programmations-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2},beforeMount:function(){var e=this;this.columnDefs=[{field:"id",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},hide:!0,headerName:"#Id"},{field:null,headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(i){e.showForm("Update",i,t.api)},render:'<div class="btn btn-primary" style="width:100%;height:100%;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-pen-to-square "></i></div>'}}}},{field:"libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"Action"},{field:"created_at",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"Créer le",valueFormatter:function(e){var t=e.value;try{t=E()(e.value).format("DD/MM/YYYY à HH:mm")}catch(i){}return t}}]},mounted:function(){this.requette},methods:{closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},openCreate:function(){this.showForm("Create",{},this.gridApi)},showForm:function(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=a,this.formState=e,this.formData=t,this.formGridApi=i,this.$bvModal.show(this.formId)},onGridReady:function(e){console.log("on demarre",e),this.gridApi=e.api,this.columnApi=e.columnApi,this.isLoading=!1,this.gridApi.sizeColumnsToFit()},getusers:function(){var e=this;this.axios.get("/api/users").then((function(t){e.requette--,e.requette,e.usersData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))}}},V=K,H=Object(v["a"])(V,G,R,!1,null,null,null),J=H.exports,Y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row"},[i("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["Update"==e.formState?i("div",[e._v("Update Listingspostes #"+e._s(e.formData.id))]):e._e(),"Create"==e.formState?i("div",[e._v("Create Listingspostes")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return[i("div")]},proxy:!0}])},["Update"==e.formState?i("EditListingspostes",{key:e.formKey,attrs:{data:e.formData,gridApi:e.formGridApi,modalFormId:e.formId,modelslistingsData:e.modelslistingsData,postesData:e.postesData},on:{close:e.closeForm}}):e._e(),"Create"==e.formState?i("CreateListingspostes",{key:e.formKey,attrs:{gridApi:e.formGridApi,modalFormId:e.formId,modelslistingsData:e.modelslistingsData,postesData:e.postesData},on:{close:e.closeForm}}):e._e()],1),i("div",{staticClass:"col-sm-12"},[i("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefs,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,url:e.url,className:"ag-theme-alpine",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady},scopedSlots:e._u([{key:"header_buttons",fn:function(){return[e.routeData.meta.hideCreate?e._e():i("div",{staticClass:"btn btn-primary",on:{click:e.openCreate}},[i("i",{staticClass:"fa fa-plus"}),e._v(" Nouveau ")])]},proxy:!0}])})],1)],1)},X=[],Q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-overlay",{attrs:{show:e.isLoading}},[i("form",{on:{submit:function(t){return t.preventDefault(),e.createLine()}}},[i("div",{staticClass:"mb-3"},[i("div",{staticClass:"form-group"},[i("label",[e._v("etats ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.etats,expression:"form.etats"}],class:e.errors.etats?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.etats},on:{input:function(t){t.target.composing||e.$set(e.form,"etats",t.target.value)}}}),e.errors.etats?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.etats,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),i("div",{staticClass:"form-group"},[i("label",[e._v("modelslistings ")]),i("CustomSelect",{key:e.form.modelslisting,attrs:{columnDefs:["libelle"],oldValue:e.form.modelslisting,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){return e.form.modelslisting_id=t.id},url:e.axios.defaults.baseURL+"/api/modelslistings-Aggrid1","filter-key":"","filter-value":""}}),e.errors.modelslisting_id?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.modelslisting_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1),i("div",{staticClass:"form-group"},[i("label",[e._v("postes ")]),i("CustomSelect",{key:e.form.poste,attrs:{columnDefs:["libelle"],oldValue:e.form.poste,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){return e.form.poste_id=t.id},url:e.axios.defaults.baseURL+"/api/postes-Aggrid1","filter-key":"","filter-value":""}}),e.errors.poste_id?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.poste_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1)]),i("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[i("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Créer ")])])])},Z=[],ee={name:"CreateListingspostes",components:{VSelect:h.a,CustomSelect:d["a"],Files:_["a"]},props:["gridApi","modalFormId","modelslistingsData","postesData"],data:function(){return{errors:[],isLoading:!1,form:{id:"",modelslisting_id:"",poste_id:"",etats:"",created_at:"",updated_at:"",extra_attributes:"",deleted_at:""}}},methods:{createLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/listingspostes",this.form).then((function(t){e.isLoading=!1,e.resetForm(),e.gridApi.applyServerSideTransaction({add:[t.data]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},resetForm:function(){this.form={id:"",modelslisting_id:"",poste_id:"",etats:"",created_at:"",updated_at:"",extra_attributes:"",deleted_at:""}}}},te=ee,ie=Object(v["a"])(te,Q,Z,!1,null,null,null),ae=ie.exports,re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-overlay",{attrs:{show:e.isLoading}},[i("form",{on:{submit:function(t){return t.preventDefault(),e.EditLine()}}},[i("div",{staticClass:"mb-3"},[i("div",{staticClass:"form-group"},[i("label",[e._v("etats ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.etats,expression:"form.etats"}],class:e.errors.etats?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.etats},on:{input:function(t){t.target.composing||e.$set(e.form,"etats",t.target.value)}}}),e.errors.etats?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.etats,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),i("div",{staticClass:"form-group"},[i("label",[e._v("modelslistings ")]),i("CustomSelect",{key:e.form.modelslisting,attrs:{columnDefs:["libelle"],oldValue:e.form.modelslisting,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){return e.form.modelslisting_id=t.id},url:e.axios.defaults.baseURL+"/api/modelslistings-Aggrid1","filter-key":"","filter-value":""}}),e.errors.modelslisting_id?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.modelslisting_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1),i("div",{staticClass:"form-group"},[i("label",[e._v("postes ")]),i("CustomSelect",{key:e.form.poste,attrs:{columnDefs:["libelle"],oldValue:e.form.poste,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){return e.form.poste_id=t.id},url:e.axios.defaults.baseURL+"/api/postes-Aggrid1","filter-key":"","filter-value":""}}),e.errors.poste_id?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.poste_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1)]),i("div",{staticClass:"d-flex justify-content-between"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[i("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Mettre à jour ")]),i("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.DeleteLine()}}},[i("i",{staticClass:"fas fa-close"}),e._v(" Supprimer ")])])])])},se=[],oe={name:"EditListingspostes",components:{VSelect:h.a,CustomSelect:d["a"],Files:_["a"]},props:["data","gridApi","modalFormId","modelslistingsData","postesData"],data:function(){return{errors:[],isLoading:!1,form:{id:"",modelslisting_id:"",poste_id:"",etats:"",created_at:"",updated_at:"",extra_attributes:"",deleted_at:""}}},mounted:function(){this.form=this.data},methods:{EditLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/listingspostes/"+this.form.id+"/update",this.form).then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({update:[t.data]}),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},DeleteLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/listingspostes/"+this.form.id+"/delete").then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({remove:[e.form]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){console.log(t.response.data),e.isLoading=!1,e.$toast.error("Erreur survenue lors de la suppression")}))}}},ne=oe,le=Object(v["a"])(ne,re,se,!1,null,null,null),de=le.exports,ce={name:"ListingspostesView",components:{DataTable:s["a"],AgGridTable:o["a"],CreateListingspostes:ae,EditListingspostes:de,DataModal:j["a"],AgGridBtnClicked:q["a"]},data:function(){return{formId:"listingspostes",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/listingspostes-Aggrid1",table:"listingspostes",modelslistingsData:[],postesData:[],requette:2,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:100,cacheBlockSize:10,maxBlocksInCache:1}},computed:{routeData:function(){var e={meta:{}};if(window.router)try{e=window.router}catch(t){}return e},taille:function(){var e="col-sm-12";return this.filtre&&(e="col-sm-9"),e}},watch:{routeData:{handler:function(e,t){this.gridApi.setFilterModel(null),this.gridApi.refreshServerSide()},deep:!0}},created:function(){this.url=this.axios.defaults.baseURL+"/api/listingspostes-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2},beforeMount:function(){var e=this;this.columnDefs=[{field:"id",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},hide:!0,headerName:"#Id"},{field:null,headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(i){e.showForm("Update",i,t.api)},render:'<div class="btn btn-primary" style="width:100%;height:100%;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-pen-to-square "></i></div>'}}}},{field:"etats",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"etats"},{headerName:"modelslisting",field:"modelslisting.Selectlabel"},{hide:!0,suppressColumnsToolPanel:!0,headerName:"modelslisting",field:"modelslisting_id",valueFormatter:function(e){var t="";try{return e.data["modelslisting"]["Selectlabel"]}catch(i){}return t},filter:"agSetColumnFilter",filterParams:{suppressAndOrCondition:!0,keyCreator:function(e){return e.value.id},valueFormatter:function(e){return e.value.Selectlabel},values:function(t){t.success(e.modelslistingsData)},refreshValuesOnOpen:!0}},{headerName:"poste",field:"poste.Selectlabel"},{hide:!0,suppressColumnsToolPanel:!0,headerName:"poste",field:"poste_id",valueFormatter:function(e){var t="";try{return e.data["poste"]["Selectlabel"]}catch(i){}return t},filter:"agSetColumnFilter",filterParams:{suppressAndOrCondition:!0,keyCreator:function(e){return e.value.id},valueFormatter:function(e){return e.value.Selectlabel},values:function(t){t.success(e.postesData)},refreshValuesOnOpen:!0}}]},mounted:function(){this.requette},methods:{closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},openCreate:function(){this.showForm("Create",{},this.gridApi)},showForm:function(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=a,this.formState=e,this.formData=t,this.formGridApi=i,this.$bvModal.show(this.formId)},onGridReady:function(e){console.log("on demarre",e),this.gridApi=e.api,this.columnApi=e.columnApi,this.isLoading=!1},getmodelslistings:function(){var e=this;this.axios.get("/api/modelslistings").then((function(t){e.requette--,e.requette,e.modelslistingsData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getpostes:function(){var e=this;this.axios.get("/api/postes").then((function(t){e.requette--,e.requette,e.postesData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))}}},ue=ce,fe=Object(v["a"])(ue,Y,X,!1,null,null,null),me=fe.exports,pe=i("c14d"),he=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row"},[i("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["Update"==e.formState?i("div",[e._v("Update Validations #"+e._s(e.formData.id))]):e._e(),"Create"==e.formState?i("div",[e._v("Create Validations")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return[i("div")]},proxy:!0}])},["Update"==e.formState?i("EditValidations",{key:e.formKey,attrs:{data:e.formData,gridApi:e.formGridApi,modalFormId:e.formId,parentId:e.parentId},on:{close:e.closeForm}}):e._e(),"Create"==e.formState?i("CreateValidations",{key:e.formKey,attrs:{gridApi:e.formGridApi,modalFormId:e.formId,parentId:e.parentId},on:{close:e.closeForm}}):e._e()],1),i("div",{staticClass:"col-sm-12"},[i("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefs,extrasData:e.extrasData,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,url:e.url,className:"ag-theme-alpine",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady},scopedSlots:e._u([{key:"header_buttons",fn:function(){return[e.$routeData.meta.hideCreate?e._e():i("div",{staticClass:"btn btn-primary",on:{click:e.openCreate}},[i("i",{staticClass:"fa fa-plus"}),e._v(" Nouveau ")])]},proxy:!0}])})],1)],1)},be=[],ge=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-overlay",{attrs:{show:e.isLoading}},[i("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["Update"==e.formState?i("div",[e._v(" Update Modelslistings #"+e._s(e.formData.id)+" ")]):e._e(),"Create"==e.formState?i("div",[e._v("Create Modelslistings")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return["Create"==e.formState?i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.finishAddUser()}}},[i("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Valider ")]):e._e()]},proxy:!0}])},[i("div",["Create"==e.formState?i("AgGridSearch",{attrs:{columnDefs:e.addListing.columnDefs,extrasData:e.addListing.extrasData,filterFields:["matricule","nom","prenom"],paginationPageSize:10,url:e.addListing.url,"filter-key":"type","filter-value":"2,3"},on:{destruction:e.finishAddUser}}):e._e()],1)]),i("form",{on:{submit:function(t){return t.preventDefault(),e.createLine()}}},[i("div",{staticClass:"mb-3"},[i("div",{staticClass:"form-group"},[i("label",[e._v("libelle ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.libelle,expression:"form.libelle"}],class:e.errors.libelle?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.libelle},on:{input:function(t){t.target.composing||e.$set(e.form,"libelle",t.target.value)}}}),e.errors.libelle?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.libelle,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),i("div",{staticClass:"form-group"},[i("label",[e._v("nombre de valideur ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.nmbvalideurs,expression:"form.nmbvalideurs"}],class:e.errors.nmbvalideurs?"form-control is-invalid":"form-control",attrs:{min:"1",type:"number"},domProps:{value:e.form.nmbvalideurs},on:{input:function(t){t.target.composing||e.$set(e.form,"nmbvalideurs",t.target.value)}}}),e.errors.nmbvalideurs?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.nmbvalideurs,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()])]),i("div",{staticClass:"col-sm-12"},[i("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefs,extrasData:e.extrasData,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,url:e.url,className:"ag-theme-alpine",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady},scopedSlots:e._u([{key:"header_buttons",fn:function(){return[i("div",{staticClass:"btn btn-primary",on:{click:e.openCreate}},[i("i",{staticClass:"fa fa-plus"}),e._v(" Ajouter un agent ")])]},proxy:!0}])})],1),i("div",{staticClass:"d-flex justify-content-between"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[i("i",{staticClass:"fas fa-floppy-disk"}),e._v(" creer ")])])])],1)},ve=[],Ce={name:"CreateValidations",components:{VSelect:h.a,CustomSelect:d["a"],AgGridTable:o["a"],AgGridSearch:m["a"],Files:_["a"]},props:["modalFormId","parentId"],data:function(){return{errors:[],isLoading:!1,form:{id:"",libelle:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:""},formId:"users",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/users-Aggrid1",table:"users",usersData:[],requette:2,columnDefs:null,rowData:null,gridApi2:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:10,cacheBlockSize:10,lastUserSelectCount:0,userSelect:[],maxBlocksInCache:1,addListing:{formId:"listings",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/users-Aggrid1",table:"Users",requette:18,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:10,cacheBlockSize:10,maxBlocksInCache:1,extrasData:{}}}},computed:{extrasData:function(){var e={baseFilter:{}};return e["baseFilter"]["id"]={values:this.userSelect,filterType:"set"},e}},created:function(){var e=this;this.url=this.axios.defaults.baseURL+"/api/users-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2,this.addListing.url=this.axios.defaults.baseURL+"/api/users-Aggrid1",this.addListing.rowBuffer=0,this.addListing.rowModelType="serverSide",this.addListing.columnDefs=[{field:null,width:100,pinned:"left",suppressColumnsToolPanel:!0,sortable:!1,headerName:"",cellRendererSelector:function(t){var i={component:"AgGridBtnClicked",params:{clicked:function(t){e.addUser(t)},render:'<div class="" style="width:100%;height:100%;background:#2885a7;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa fa-plus"></i></div>'}};return i}},{field:"matricule",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"matricule"},{field:"nom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"nom"},{field:"prenom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"prenom"},{field:"num_badge",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"num_badge"}],this.addListing.cacheBlockSize=50,this.addListing.maxBlocksInCache=2},beforeMount:function(){var e=this;this.columnDefs=[{field:null,headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(t){e.deleteUser(t)},render:'<div class="" style="width:100%;height:100%;background:#e31d3b;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-trash-can"></i></div>'}}}},{field:"matricule",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"matricule",pinned:"left"},{field:"nom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"Nom",pinned:"left"},{field:"prenom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"prenom",pinned:"left"}]},methods:{openCreate:function(){this.showForm("Create",{},this.gridApi2)},closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},showForm:function(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=a,this.formState=e,this.formData=t,this.formGridApi=i,this.$bvModal.show(this.formId)},onGridReady:function(e){console.log("on demarre",e),this.gridApi=e.api,this.columnApi=e.columnApi,this.isLoading=!1},createLine:function(){var e=this;this.isLoading=!0,this.form.modelslisting_id=this.parentId,this.form.users=this.userSelect.join(","),this.axios.post("/api/validations",this.form).then((function(t){e.isLoading=!1,e.resetForm(),e.gridApi.applyServerSideTransaction({add:[t.data]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$emit("close"),e.$toast.success("Operation effectuer avec succes"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},resetForm:function(){this.form={id:"",libelle:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:""}},addUser:function(e){var t=e.Selectvalue,i=this.userSelect.indexOf(t);i>-1||this.userSelect.push(t),this.$toast.success("Operation effectuer avec succes")},deleteUser:function(e){var t=e.Selectvalue,i=this.userSelect.indexOf(t);i>-1&&(this.userSelect.splice(i,1),this.tableKey++,this.$toast.success("Operation effectuer avec succes"))},finishAddUser:function(){this.userSelect.length!=this.lastUserSelectCount&&(this.lastUserSelectCount=this.userSelect.length,this.tableKey++),this.$bvModal.hide(this.formId)}}},ye=Ce,_e=Object(v["a"])(ye,ge,ve,!1,null,null,null),xe=_e.exports,Se=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-overlay",{attrs:{show:e.isLoading}},[i("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["Update"==e.formState?i("div",[e._v(" Update Modelslistings #"+e._s(e.formData.id)+" ")]):e._e(),"Create"==e.formState?i("div",[e._v("Create Modelslistings")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return["Create"==e.formState?i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.finishAddUser()}}},[i("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Valider ")]):e._e()]},proxy:!0}])},["Create"==e.formState?i("div",["Create"==e.formState?i("AgGridSearch",{attrs:{columnDefs:e.addListing.columnDefs,extrasData:e.addListing.extrasData,filterFields:["matricule","nom","prenom"],paginationPageSize:10,url:e.addListing.url,"filter-key":"type","filter-value":"2,3"},on:{destruction:e.finishAddUser}}):e._e()],1):e._e()]),i("form",{on:{submit:function(t){return t.preventDefault(),e.EditLine()}}},[i("div",{staticClass:"mb-3"},[i("div",{staticClass:"form-group"},[i("label",[e._v("libelle ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.libelle,expression:"form.libelle"}],class:e.errors.libelle?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.libelle},on:{input:function(t){t.target.composing||e.$set(e.form,"libelle",t.target.value)}}}),e.errors.libelle?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.libelle,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),i("div",{staticClass:"form-group"},[i("label",[e._v("nombre de valideur ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.nmbvalideurs,expression:"form.nmbvalideurs"}],class:e.errors.nmbvalideurs?"form-control is-invalid":"form-control",attrs:{min:"1",type:"number"},domProps:{value:e.form.nmbvalideurs},on:{input:function(t){t.target.composing||e.$set(e.form,"nmbvalideurs",t.target.value)}}}),e.errors.nmbvalideurs?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.nmbvalideurs,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()])]),i("div",{staticClass:"col-sm-12"},[i("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefs,extrasData:e.extrasData,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,url:e.url,className:"ag-theme-alpine",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady},scopedSlots:e._u([{key:"header_buttons",fn:function(){return[i("div",{staticClass:"btn btn-primary",on:{click:e.openCreate}},[i("i",{staticClass:"fa fa-plus"}),e._v(" Ajouter un agent ")])]},proxy:!0}])})],1),i("div",{staticClass:"d-flex justify-content-between"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[i("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Mettre à jour ")]),i("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.DeleteLine()}}},[i("i",{staticClass:"fas fa-close"}),e._v(" Supprimer ")])])])],1)},De=[],ke={name:"EditValidations",components:{VSelect:h.a,CustomSelect:d["a"],AgGridTable:o["a"],AgGridSearch:m["a"],Files:_["a"]},props:["data","modalFormId"],data:function(){return{errors:[],isLoading:!1,form:{id:"",nom:"",code:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:""},formId:"users",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/users-Aggrid1",table:"users",usersData:[],requette:2,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:10,cacheBlockSize:10,lastUserSelectCount:0,userSelect:[],maxBlocksInCache:1,addListing:{formId:"listings",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/listings-Aggrid1",table:"Users",requette:18,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:10,cacheBlockSize:10,maxBlocksInCache:1,extrasData:{}}}},computed:{extrasData:function(){var e={baseFilter:{}};return e["baseFilter"]["id"]={values:this.userSelect,filterType:"set"},e}},created:function(){var e=this;this.url=this.axios.defaults.baseURL+"/api/users-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2,this.addListing.url=this.axios.defaults.baseURL+"/api/users-Aggrid1",this.addListing.rowBuffer=0,this.addListing.rowModelType="serverSide",this.addListing.columnDefs=[{field:null,width:100,pinned:"left",suppressColumnsToolPanel:!0,sortable:!1,headerName:"",cellRendererSelector:function(t){var i={component:"AgGridBtnClicked",params:{clicked:function(t){e.addUser(t)},render:'<div class="" style="width:100%;height:100%;background:#2885a7;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa fa-plus"></i></div>'}};return i}},{field:"matricule",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"matricule"},{field:"nom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"nom"},{field:"prenom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"prenom"},{field:"num_badge",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"num_badge"}],this.addListing.cacheBlockSize=50,this.addListing.maxBlocksInCache=2},beforeMount:function(){var e=this;this.columnDefs=[{field:null,headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(t){e.deleteUser(t)},render:'<div class="" style="width:100%;height:100%;background:#e31d3b;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-trash-can"></i></div>'}}}},{field:"matricule",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"matricule",pinned:"left"},{field:"nom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"Nom",pinned:"left"},{field:"prenom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"prenom",pinned:"left"}]},mounted:function(){this.form=this.data,this.userSelect=this.data.users.split(",")},methods:{openCreate:function(){this.showForm("Create",{},this.gridApi)},closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},showForm:function(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=a,this.formState=e,this.formData=t,this.formGridApi=i,this.$bvModal.show(this.formId)},onGridReady:function(e){console.log("on demarre",e),this.gridApi=e.api,this.columnApi=e.columnApi,this.isLoading=!1},EditLine:function(){var e=this;this.isLoading=!0,this.form.users=this.userSelect.join(","),this.axios.post("/api/validations/"+this.form.id+"/update",this.form).then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({update:[t.data]}),e.$bvModal.hide(e.modalFormId),e.$emit("close"),e.$toast.success("Operation effectuer avec succes"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},DeleteLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/validations/"+this.form.id+"/delete").then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({remove:[e.form]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$emit("close"),e.$toast.success("Operation effectuer avec succes"),console.log(t.data)})).catch((function(t){console.log(t.response.data),e.isLoading=!1,e.$toast.error("Erreur survenue lors de la suppression")}))},addUser:function(e){var t=e.Selectvalue,i=this.userSelect.indexOf(t);i>-1||this.userSelect.push(t),this.$toast.success("Operation effectuer avec succes")},deleteUser:function(e){var t=e.Selectvalue,i=this.userSelect.indexOf(t);i>-1&&(this.userSelect.splice(i,1),this.tableKey++,this.$toast.success("Operation effectuer avec succes"))},finishAddUser:function(){this.userSelect.length!=this.lastUserSelectCount&&(this.lastUserSelectCount=this.userSelect.length,this.tableKey++),this.$bvModal.hide(this.formId)}}},Ae=ke,Te=Object(v["a"])(Ae,Se,De,!1,null,null,null),we=Te.exports,Fe={name:"ValidationsView",components:{DataTable:s["a"],AgGridTable:o["a"],CreateValidations:xe,EditValidations:we,DataModal:j["a"],AgGridBtnClicked:q["a"]},props:["parentId"],data:function(){return{formId:"validations",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/validations-Aggrid1",table:"validations",requette:0,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:100,cacheBlockSize:10,maxBlocksInCache:1}},computed:{$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},taille:function(){var e="col-sm-12";return this.filtre&&(e="col-sm-9"),e},extrasData:function(){var e={};return e["modelslisting_id"]={values:[this.parentId],filterType:"set"},{baseFilter:e}}},watch:{$route:{handler:function(e,t){this.gridApi.setFilterModel(null),this.gridApi.refreshServerSide(),this.tableKey++},deep:!0}},created:function(){this.url=this.axios.defaults.baseURL+"/api/validations-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2},beforeMount:function(){var e=this;this.columnDefs=[{field:"id",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},hide:!0,headerName:"#Id"},{field:null,headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(i){e.showForm("Update",i,t.api)},render:'<div class="btn btn-primary" style="width:100%;height:100%;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-pen-to-square "></i></div>'}}}},{field:"libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"libelle"},{field:"nmbvalideurs",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"nombre de valideur"}]},mounted:function(){this.requette},methods:{openCreate:function(){this.showForm("Create",{},this.gridApi)},closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},showForm:function(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=a,this.formState=e,this.formData=t,this.formGridApi=i,this.$bvModal.show(this.formId)},onGridReady:function(e){console.log("on demarre",e),this.gridApi=e.api,this.columnApi=e.columnApi,this.isLoading=!1}}},Pe=Fe,ze=Object(v["a"])(Pe,he,be,!1,null,null,null),Ie=ze.exports,Be={name:"CreateModelslistings",components:{VSelect:h.a,CustomSelect:d["a"],CustomSelect1:c["a"],Files:_["a"],FormWizard:y["FormWizard"],TabContent:y["TabContent"],AgGridTable:o["a"],calendrierModelslistings:P,Activitesrecentes:J,ListingspostesView:me,AgGridSearch:m["a"],EditPostes:pe["a"],WeekdayCheckbox:M,ValidationsView:Ie},props:["data","gridApi","modalFormId","actifsData","balisesData","categoriesData","contratsData","directionsData","echelonsData","factionsData","fonctionsData","matrimonialesData","nationalitesData","onlinesData","postesData","sexesData","sitesData","situationsData","typesData","usersData","villesData","zonesData"],data:function(){return{calendarKey:0,errors:[],isLoading:!1,historique:0,validationsData:[],selectedDays:[],form:{id:"",Libelle:"",faction:"",user_id:"",user_id_2:"",user_id_3:"",user_id_4:"",userFiltre:"",userMatricule:"",created_at:"",updated_at:"",extra_attributes:"",deleted_at:"",identifiants_sadge:"",zones:{},zone_id:0,min_partage:"",postesbaladeur:"",postesbaladeur_id:0,date_debut:"",user:{},user2:{},user3:{},user4:{}},defaultEntite:"User",formId:"users",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/users-Aggrid1",table:"users",requette:9,columnDefs:null,rowData:null,gridApi1:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:20,cacheBlockSize:10,maxBlocksInCache:1,agGridData:null,dateSelect:[],read:!1,horairesSelect:[],directionSelect:[],lastPosteSelectCount:0,lastdirectionSelectCount:0,actualPage:"",add:{formId:"listings",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/listings-Aggrid1",table:"Users",requette:18,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:100,cacheBlockSize:10,maxBlocksInCache:1,extrasData:{},extrasData2:{}},adddirections:{formId:"listings",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/listings-Aggrid1",table:"Users",requette:18,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:100,cacheBlockSize:10,maxBlocksInCache:1,extrasData:{},extrasData2:{}},addPostesBaladeur:{columns:[{headerName:"id",field:"postes.id",minWidth:120,maxWidth:120,filterParams:{suppressAndOrCondition:!0}},{headerName:"poste",field:"postes.libelle",minWidth:120,maxWidth:120,filterParams:{suppressAndOrCondition:!0}},{headerName:"site",field:"sites.libelle",minWidth:120,maxWidth:120,filterParams:{suppressAndOrCondition:!0},join:{table:"sites",champ2:"sites.id",champ1:"postes.site_id",operateur:"="}},{headerName:"client",field:"clients.libelle",minWidth:120,maxWidth:120,filterParams:{suppressAndOrCondition:!0},join:{table:"clients",champ2:"clients.id",champ1:"sites.client_id",operateur:"="}},{headerName:"typespostes",field:"typespostes.libelle",minWidth:120,maxWidth:120,filterParams:{suppressAndOrCondition:!0},join:{table:"typespostes",champ2:"typespostes.id",champ1:"postes.typesposte_id",operateur:"="}}],extrasData:{baseFilter:{"typespostes.libelle":{value:"baladeur",filterType:"contains"}}}}}},watch:{"form.zone_id":{handler:function(e,t){console.log("Le formulaire a changé :",t),t&&(this.horairesSelect=[],this.lastPosteSelectCount=0)},deep:!0}},computed:{postesExtrasData:function(){var e={baseFilter:{}};return this.horairesSelect.length>0?e["baseFilter"]["horaires.id"]={values:this.horairesSelect,filterType:"set"}:e["baseFilter"]["horaires.id"]={values:[-1],filterType:"set"},e},historiquesExtrasData:function(){var e={};return e["cle"]={values:[this.form.id],filterType:"set"},e["type"]={values:["posteModelslisting"],filterType:"set"},""!==this.search&&(e["filterFields"]=["action"],e["globalSearch"]=this.search),{baseFilter:e}},directionExtrasData:function(){var e={baseFilter:{}};return this.directionSelect.length>0?e["baseFilter"]["id"]={values:this.directionSelect,filterType:"set"}:e["baseFilter"]["id"]={values:[-1],filterType:"set"},e}},created:function(){this.url=this.axios.defaults.baseURL+"/api/horaires-Aggrid1",this.url2=this.axios.defaults.baseURL+"/api/programmations-Aggrid1",this.url3=this.axios.defaults.baseURL+"/api/directions-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2;this.add.url=this.axios.defaults.baseURL+"/api/horaires-Aggrid1",this.adddirections.url=this.axios.defaults.baseURL+"/api/directions-Aggrid1",this.add.rowBuffer=0,this.add.rowModelType="serverSide",this.add.cacheBlockSize=50,this.add.maxBlocksInCache=2},beforeMount:function(){var e=this;this.columnDefs=[{field:"horaires.id",headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(t){e.deletePoste(t)},render:'<div class="" style="width:100%;height:100%;background:#e31d3b;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-trash-can"></i></div>'}}}},{field:"horaires.libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"libelle"},{field:"postes.libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"postes",join:{table:"postes",champ1:"horaires.poste_id",champ2:"postes.id",operateur:"="}},{field:"sites.libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"sites",join:{table:"sites",champ1:"postes.site_id",champ2:"sites.id",operateur:"="}},{field:"clients.libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"clients",join:{table:"clients",champ1:"sites.client_id",champ2:"clients.id",operateur:"="}},{field:"zones.libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"zones",join:{table:"zones",champ1:"sites.zone_id",champ2:"zones.id",operateur:"="}}],this.historiqueColumnDefs=[{headerName:"Poste",field:"poste.Selectlabel"},{headerName:"poste",field:"valeur",hide:!0,suppressColumnsToolPanel:!0,valueFormatter:function(e){var t="";try{return e.data["poste"]["Selectlabel"]}catch(i){}return t}},{field:"created_at",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"Attribuer le",valueFormatter:function(e){var t=e.value;try{t=E()(e.value).format("DD/MM/YYYY à HH:mm")}catch(i){}return t}}],this.columnDefsDirection=[{field:null,headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(t){e.deleteDirection(t)},render:'<div class="" style="width:100%;height:100%;background:#e31d3b;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-trash-can"></i></div>'}}}},{field:"id",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"libelle",hide:!0},{field:"libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"libelle"},{field:"code",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"code"}],this.adddirections.columnDefs=[{field:null,headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(t){e.addDirection(t)},render:'<div class="btn btn-primary" style="width:100%;height:100%;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-pen-to-square "></i></div>'}}}},{field:"id",hide:!0,sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"libelle"},{field:"libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"libelle"},{field:"code",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"code"}],this.add.columnDefs=[{field:null,maxWidth:60,pinned:"left",suppressColumnsToolPanel:!0,sortable:!1,headerName:"",cellRendererSelector:function(t){var i={component:"AgGridBtnClicked",params:{clicked:function(t){e.addPoste(t)},render:'<div class="btn btn-primary" style="width:100%;height:100%;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-pen-to-square "></i></div>'}};return i}},{field:"horaires.id",sortable:!0,hide:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"horaire",width:60},{field:"horaires.libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"horaire",width:60},{field:"postes.id",sortable:!0,hide:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},join:{table:"postes",champ1:"horaires.poste_id",champ2:"postes.id",operateur:"="}},{field:"postes.libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"libelle"},{field:"sites.id",sortable:!0,filter:"agTextColumnFilter",hide:!0,filterParams:{suppressAndOrCondition:!0},join:{table:"sites",champ1:"postes.site_id",champ2:"sites.id",operateur:"="}},{field:"sites.libelle",headerName:"site",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0}},{field:"clients.id",sortable:!0,hide:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},join:{table:"clients",champ1:"sites.client_id",champ2:"clients.id",operateur:"="}},{field:"clients.libelle",headerName:"client",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0}},{field:"zones.id",sortable:!0,hide:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},join:{table:"zones",champ1:"sites.zone_id",champ2:"zones.id",operateur:"="}},{field:"zones.libelle",headerName:"zone",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0}}]},mounted:function(){this.horairesSelect=[-1],this.directionSelect=[-1],this.actualPage="Postes"},methods:{togglePage:function(e){console.log("page ",e),this.actualPage=e,this.tableKey++},EditLine:function(){var e=this;this.isLoading=!0,0==this.dateSelect.length?this.form.date=this.form.date:this.form.date=JSON.stringify(this.dateSelect),this.selectedDays.forEach((function(t){switch(t){case"Lundi":e.form.lun=!0;break;case"Mardi":e.form.mar=!0;break;case"Mercredi":e.form.mer=!0;break;case"Jeudi":e.form.jeu=!0;break;case"Vendredi":e.form.ven=!0;break;case"Samedi":e.form.sam=!0;break;case"Dimanche":e.form.dim=!0;break}})),this.form.horaires=this.horairesSelect.join(","),this.form.directions=this.directionSelect.join(","),this.form.userFiltre=JSON.stringify(this.form.userFiltre),this.axios.post("/api/modelslistings/"+this.form.id+"/update",this.form).then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({update:[t.data]}),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},DeleteLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/modelslistings/"+this.form.id+"/delete").then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({remove:[e.form]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){console.log(t.response.data),e.isLoading=!1,e.$toast.error("Erreur survenue lors de la suppression")}))},onGridReady:function(e){console.log("on demarre",e),this.gridApi1=e.api,this.columnApi=e.columnApi,this.isLoading=!1,this.calendarKey++},openCreate:function(e){"directions"==e?this.showForm("Createdirections",{},this.gridApi,"lg"):this.showForm("Create",{},this.gridApi,"xl")},newData:function(e){console.log("voici la nouvelle data",e),this.agGridData=e;try{this.form.userFiltre=e.__allFilters}catch(t){}},createLine:function(){var e=this;this.isLoading=!0;var t=this.gridApi1.getFilterModel();console.log("model ===>",t),this.form.horaires=this.horairesSelect.join(","),this.form.directions=this.directionSelect.join(","),this.form.userFiltre=JSON.stringify(this.form.userFiltre),this.axios.post("/api/modelslistings",this.form).then((function(t){e.isLoading=!1,e.resetForm(),e.gridApi.applyServerSideTransaction({add:[t.data]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},resetForm:function(){this.form={id:"",Libelle:"",userFiltre:"",userMatricule:"",created_at:"",updated_at:"",extra_attributes:"",deleted_at:"",identifiants_sadge:""}},addPoste:function(e){var t=e.id,i=this.horairesSelect.indexOf(t);i>-1||this.horairesSelect.push(t),console.log("this.horairesSelect",this.horairesSelect),this.$toast.success("Operation effectuer avec succes")},addDirection:function(e){var t=e.id,i=this.directionSelect.indexOf(t);i>-1||this.directionSelect.push(t),this.$toast.success("Operation effectuer avec succes")},deletePoste:function(e){var t=e.id,i=this.horairesSelect.indexOf(t);i>-1&&(this.horairesSelect.splice(i,1),this.tableKey++,this.$toast.success("Operation effectuer avec succes"))},deleteDirection:function(e){var t=e.id,i=this.directionSelect.indexOf(t);i>-1&&(this.directionSelect.splice(i,1),this.tableKey++,this.$toast.success("Operation effectuer avec succes"))},finishAddPoste:function(){this.horairesSelect.length!=this.lastPosteSelectCount&&(this.lastPosteSelectCount=this.horairesSelect.length,this.tableKey++),this.$bvModal.hide(this.formId)},finishAddDirection:function(){this.directionSelect.length!=this.lastdirectionSelectCount&&(this.lastdirectionSelectCount=this.directionSelect.length,this.tableKey++),this.$bvModal.hide(this.formId)},readhistorique:function(){this.historique=1,this.historiquetype="postePointeuse"},fermerhistorique:function(){this.historique=!1},showForm:function(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=a,this.formState=e,this.formData=t,this.formGridApi=i,this.$bvModal.show(this.formId)},getselectedDays:function(){1===this.form.lun&&this.selectedDays.push("Lundi"),1===this.form.mar&&this.selectedDays.push("Mardi"),1===this.form.mer&&this.selectedDays.push("Mercredi"),1===this.form.jeu&&this.selectedDays.push("Jeudi"),1===this.form.ven&&this.selectedDays.push("Vendredi"),1===this.form.sam&&this.selectedDays.push("Samedi"),1===this.form.dim&&this.selectedDays.push("Dimanche")}}},Le=Be,Oe=Object(v["a"])(Le,n,l,!1,null,null,null),Ne=Oe.exports,Me=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-overlay",{attrs:{show:e.isLoading}},[e._l(Object.keys(e.errors),(function(t){return i("div",e._l(Object.values(e.errors[t]),(function(a){return i("div",[i("b-alert",{staticStyle:{padding:"5px"},attrs:{show:"",variant:"danger"}},[e._v(e._s(t)+" : "+e._s(a[0])+" ")])],1)})),0)})),i("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["Update"==e.formState?i("div",[e._v(" Update Modelslistings #"+e._s(e.formData.id)+" ")]):e._e(),"Create"==e.formState?i("div",[e._v("Create Modelslistings")]):e._e(),"Createdirections"==e.formState?i("div",[e._v("add Directions")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return["Create"==e.formState?i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.finishAddPoste()}}},[i("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Valider ")]):e._e(),"Createdirections"==e.formState?i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.finishAddDirection()}}},[i("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Valider ")]):e._e()]},proxy:!0}])},["Create"==e.formState?i("div",[i("AgGridSearch",{key:"Horaires",attrs:{columnDefs:e.add.columnDefs,filterFields:["horaires.libelle","sites.libelle","clients.libelle","zones.libelle"],url:e.add.url,filterKey:"zones.id",filterValue:e.form.zone_id.toString()},on:{destruction:e.finishAddPoste}})],1):e._e(),"Createdirections"==e.formState?i("div",[i("AgGridSearch",{key:"Directions",attrs:{columnDefs:e.adddirections.columnDefs,filterFields:["libelle","code"],extrasData:{},url:e.adddirections.url},on:{destruction:e.finishAddDirection}})],1):e._e(),"Update"==e.formState?i("EditPostes",{key:e.formKey,attrs:{contratsclientsData:e.contratsclientsData,data:e.formData,gridApi:e.formGridApi,modalFormId:e.formId,pointeusesData:e.pointeusesData,sitesData:e.sitesData},on:{close:e.closeForm}}):e._e()],1),i("div",{staticClass:"header-detail"},[i("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.DeleteLine()}}},[i("i",{staticClass:"fas fa-close"}),e._v(" Supprimer la planification ")])]),i("form-wizard",{staticClass:"mb-3 formUsers",attrs:{subtitle:null,title:null,"back-button-text":"Precedent",color:"rgb(40, 167, 69)","finish-button-text":"Soumettre","next-button-text":"Suivant",shape:"circle",stepSize:"sm"},on:{"on-complete":e.EditLine}},[i("tab-content",{attrs:{"before-change":e.validationForm,title:"Information planification"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"form-group col-sm"},[i("label",[e._v("Libelle ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.Libelle,expression:"form.Libelle"}],class:e.errors.Libelle?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.Libelle},on:{input:function(t){t.target.composing||e.$set(e.form,"Libelle",t.target.value)}}}),e.errors.Libelle?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.Libelle,(function(t){return[e._v(" "+e._s(t[0])+" ")]}))],2):e._e()]),i("div",{staticClass:"form-group col-sm"},[i("label",[e._v("minimum de pointage")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.min_partage,expression:"form.min_partage"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.form.min_partage},on:{input:function(t){t.target.composing||e.$set(e.form,"min_partage",t.target.value)}}})]),i("div",{staticClass:"form-group col-sm"},[i("label",[e._v("date de debut ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.date_debut,expression:"form.date_debut"}],staticClass:"form-control",attrs:{required:"",type:"date"},domProps:{value:e.form.date_debut},on:{input:function(t){t.target.composing||e.$set(e.form,"date_debut",t.target.value)}}})]),i("div",{staticClass:"form-group col-sm"},[i("label",[e._v("zones ")]),i("CustomSelect",{key:e.form.zones,attrs:{columnDefs:["id","libelle"],oldValue:e.form.zones,renderCallBack:function(e){return""+e.libelle},selectCallBack:function(t){return e.form.zone_id=t.id},url:e.axios.defaults.baseURL+"/api/zones-Aggrid1","filter-key":"","filter-value":""}}),e.errors.zone_id?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.zone_id,(function(t){return[e._v(" "+e._s(t[0])+" ")]}))],2):e._e()],1),i("div",{staticClass:"form-group col-sm"},[i("label",[e._v("postes baladeur ")]),i("CustomSelect1",{key:e.form.postesbaladeur,attrs:{columnDefs:e.addPostesBaladeur.columns,extrasData:e.addPostesBaladeur.extrasData,filterFields:["postes.libelle","clients.libelle","sites.libelle"],oldValue:e.form.postesbaladeur,renderCallBack:function(e){return e.postes.libelle+" "},selectCallBack:function(t){return e.form.postesbaladeur_id=t.id},url:e.axios.defaults.baseURL+"/api/postes-Aggrid1"}}),e.errors.postesbaladeur?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.postesbaladeur,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"form-group col-sm"},[i("label",[e._v("valideur 1")]),i("CustomSelect",{key:e.form.user,attrs:{columnDefs:["id","nom","prenom"],oldValue:e.form.user,renderCallBack:function(e){return e.nom+" "+e.prenom},selectCallBack:function(t){return e.form.user_id=t.id},url:e.axios.defaults.baseURL+"/api/users-Aggrid1",extrasData:{baseFilter:{type:{values:[1],filterType:"set"}}}}}),e.errors.user_id?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.user_id,(function(t){return[e._v(" "+e._s(t[0])+" ")]}))],2):e._e()],1),i("div",{staticClass:"form-group col-sm"},[i("label",[e._v("valideur 1 ")]),i("CustomSelect",{key:e.form.user2,attrs:{columnDefs:["id","nom","prenom"],oldValue:e.form.user2,renderCallBack:function(e){return e.nom+" "+e.prenom},selectCallBack:function(t){return e.form.user_id_2=t.id},url:e.axios.defaults.baseURL+"/api/users-Aggrid1",extrasData:{baseFilter:{type:{values:[1],filterType:"set"}}}}}),e.errors.user_id_2?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.user_id_2,(function(t){return[e._v(" "+e._s(t[0])+" ")]}))],2):e._e()],1),i("div",{staticClass:"form-group col-sm"},[i("label",[e._v("valideur 2 ")]),i("CustomSelect",{key:e.form.user3,attrs:{columnDefs:["id","nom","prenom"],oldValue:e.form.user3,renderCallBack:function(e){return e.nom+" "+e.prenom},selectCallBack:function(t){return e.form.user_id_3=t.id},url:e.axios.defaults.baseURL+"/api/users-Aggrid1",extrasData:{baseFilter:{type:{values:[1],filterType:"set"}}}}}),e.errors.user_id_3?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.user_id_3,(function(t){return[e._v(" "+e._s(t[0])+" ")]}))],2):e._e()],1),i("div",{staticClass:"form-group col-sm"},[i("label",[e._v("valideur 2 ")]),i("CustomSelect",{key:e.form.user4,attrs:{columnDefs:["id","nom","prenom"],oldValue:e.form.user4,renderCallBack:function(e){return e.nom+" "+e.prenom},selectCallBack:function(t){return e.form.user_id_4=t.id},url:e.axios.defaults.baseURL+"/api/users-Aggrid1",extrasData:{baseFilter:{type:{values:[1],filterType:"set"}}}}}),e.errors.user_id_4?i("div",{staticClass:"invalid-feedback"},[e._l(e.errors.user_id_4,(function(t){return[e._v(" "+e._s(t[0])+" ")]}))],2):e._e()],1)]),i("div",{staticClass:"col-sm-12 card"},[i("div",{staticClass:"card-body allBoutons"},[i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn",style:"Postes"==e.actualPage?"border: 3px solid  green":"",on:{click:function(t){return t.preventDefault(),e.togglePage("Postes")}}},[i("div",{staticClass:"iconParent"},[i("span",[i("i",{staticClass:"fa-solid fa-filter"}),e._v(" Postes ")])])]),i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn",style:"Directions"==e.actualPage?"border: 3px solid  green":"",on:{click:function(t){return t.preventDefault(),e.togglePage("Directions")}}},[i("div",{staticClass:"iconParent"},[i("span",[i("i",{staticClass:"fa-solid fa-filter"}),e._v(" Directions ")])])])])]),"Postes"==e.actualPage?i("div",{staticClass:"form-group"},[i("label",[e._v("Postes")]),i("div",{staticClass:"col-sm-12"},[i("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefs,extrasData:e.postesExtrasData,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,"show-export":!1,url:e.url,className:"ag-theme-alpine","dom-layout":"normal",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady,newData:e.newData},scopedSlots:e._u([{key:"header_buttons",fn:function(){return[i("div",{staticClass:"btn btn-primary",on:{click:function(t){return e.openCreate("horaires")}}},[i("i",{staticClass:"fa fa-plus"}),e._v(" Ajouter des horaires ")])]},proxy:!0}],null,!1,3927746057)})],1)]):e._e(),"Directions"==e.actualPage?i("div",{staticClass:"form-group"},[i("label",[e._v("Directions")]),i("div",{staticClass:"col-sm-12"},[i("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefsDirection,extrasData:e.directionExtrasData,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,"show-export":!1,"show-pagination":!1,url:e.url3,className:"ag-theme-alpine","dom-layout":"normal",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady,newData:e.newData},scopedSlots:e._u([{key:"header_buttons",fn:function(){return[i("div",{staticClass:"btn btn-primary",on:{click:function(t){return e.openCreate("directions")}}},[i("i",{staticClass:"fa fa-plus"}),e._v(" Ajouter des directions ")])]},proxy:!0}],null,!1,1934021929)})],1)]):e._e()]),i("tab-content",{attrs:{"before-change":e.validationForm,title:"Validation"}},[i("div",{staticClass:"col-sm-12"},[i("h3",[e._v("Validation ")]),i("ValidationsView",{attrs:{parentId:e.data.id}})],1)]),i("tab-content",{attrs:{"before-change":e.validationForm,title:"Activites Recente"}},[i("Activitesrecentes",{key:e.form.id,attrs:{"programmation-select":e.form.id}}),i("div",{staticClass:"blockPointages"},[[e.historique?e._e():i("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:e.readhistorique}},[i("i",{staticClass:"fa-solid fa-clipboard-check"}),e._v(" Historique Postes ")]),e.historique?i("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:e.fermerhistorique}},[i("i",{staticClass:"fas fa-close"}),e._v(" Close ")]):e._e()]],2),1===e.historique?i("div",{staticClass:"form-group"},[i("div",{staticClass:"col-sm-12"},[i("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.historiqueColumnDefs,extrasData:e.historiquesExtrasData,"in-card":!1,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,sideBar:!1,url:e.url2,className:"ag-theme-alpine","dom-layout":"normal",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady},scopedSlots:e._u([{key:"header_buttons",fn:function(){},proxy:!0}],null,!1,2935565580)})],1)]):e._e()],1)],1)],2)},$e=[],Ee={name:"UpdateModelslistings",components:{VSelect:h.a,CustomSelect:d["a"],CustomSelect1:c["a"],Files:_["a"],FormWizard:y["FormWizard"],TabContent:y["TabContent"],AgGridTable:o["a"],calendrierModelslistings:P,Activitesrecentes:J,ListingspostesView:me,AgGridSearch:m["a"],EditPostes:pe["a"],WeekdayCheckbox:M,ValidationsView:Ie},props:["data","gridApi","modalFormId","actifsData","balisesData","categoriesData","contratsData","directionsData","echelonsData","factionsData","fonctionsData","matrimonialesData","nationalitesData","onlinesData","postesData","sexesData","sitesData","situationsData","typesData","usersData","villesData","zonesData"],data:function(){return{calendarKey:0,errors:[],isLoading:!1,historique:0,validationsData:[],selectedDays:[],form:{id:"",Libelle:"",faction:"",user_id:"",user_id_2:"",user_id_3:"",user_id_4:"",userFiltre:"",userMatricule:"",created_at:"",updated_at:"",extra_attributes:"",deleted_at:"",identifiants_sadge:""},defaultEntite:"User",formId:"users",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/users-Aggrid1",table:"users",requette:9,columnDefs:null,rowData:null,gridApi1:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:20,cacheBlockSize:10,maxBlocksInCache:1,agGridData:null,dateSelect:[],read:!1,horairesSelect:[],directionSelect:[],lastPosteSelectCount:0,lastdirectionSelectCount:0,actualPage:"",add:{formId:"listings",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/listings-Aggrid1",table:"Users",requette:18,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:100,cacheBlockSize:10,maxBlocksInCache:1,extrasData:{},extrasData2:{}},adddirections:{formId:"listings",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/listings-Aggrid1",table:"Users",requette:18,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:100,cacheBlockSize:10,maxBlocksInCache:1,extrasData:{},extrasData2:{}},addPostesBaladeur:{columns:[{headerName:"id",field:"postes.id",minWidth:120,maxWidth:120,filterParams:{suppressAndOrCondition:!0}},{headerName:"poste",field:"postes.libelle",minWidth:120,maxWidth:120,filterParams:{suppressAndOrCondition:!0}},{headerName:"site",field:"sites.libelle",minWidth:120,maxWidth:120,filterParams:{suppressAndOrCondition:!0},join:{table:"sites",champ2:"sites.id",champ1:"postes.site_id",operateur:"="}},{headerName:"client",field:"clients.libelle",minWidth:120,maxWidth:120,filterParams:{suppressAndOrCondition:!0},join:{table:"clients",champ2:"clients.id",champ1:"sites.client_id",operateur:"="}},{headerName:"typespostes",field:"typespostes.libelle",minWidth:120,maxWidth:120,filterParams:{suppressAndOrCondition:!0},join:{table:"typespostes",champ2:"typespostes.id",champ1:"postes.typesposte_id",operateur:"="}}],extrasData:{baseFilter:{"typespostes.libelle":{value:"baladeur",filterType:"contains"}}}}}},watch:{"form.zone_id":{handler:function(e,t){console.log("Le formulaire a changé :",t),t&&(this.horairesSelect=[],this.lastPosteSelectCount=0)},deep:!0}},computed:{postesExtrasData:function(){var e={baseFilter:{}};return this.horairesSelect.length>0?e["baseFilter"]["horaires.id"]={values:this.horairesSelect,filterType:"set"}:e["baseFilter"]["horaires.id"]={values:[-1],filterType:"set"},e},historiquesExtrasData:function(){var e={};return e["historiques.cle"]={values:[this.form.id],filterType:"set"},e["historiques.type"]={values:["posteModelslisting"],filterType:"set"},""!==this.search&&(e["filterFields"]=["action"],e["globalSearch"]=this.search),{baseFilter:e}},directionExtrasData:function(){var e={baseFilter:{}};return this.directionSelect.length>0?e["baseFilter"]["id"]={values:this.directionSelect,filterType:"set"}:e["baseFilter"]["id"]={values:[-1],filterType:"set"},e}},created:function(){this.url=this.axios.defaults.baseURL+"/api/horaires-Aggrid1",this.url2=this.axios.defaults.baseURL+"/api/historiques-Aggrid1",this.url3=this.axios.defaults.baseURL+"/api/directions-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2;this.add.url=this.axios.defaults.baseURL+"/api/horaires-Aggrid1",this.adddirections.url=this.axios.defaults.baseURL+"/api/directions-Aggrid1",this.add.rowBuffer=0,this.add.rowModelType="serverSide",this.add.cacheBlockSize=50,this.add.maxBlocksInCache=2},beforeMount:function(){var e=this;this.columnDefs=[{field:"horaires.id",headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(t){e.deletePoste(t)},render:'<div class="" style="width:100%;height:100%;background:#e31d3b;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-trash-can"></i></div>'}}}},{field:"horaires.libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"libelle"},{field:"postes.libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"postes",join:{table:"postes",champ1:"horaires.poste_id",champ2:"postes.id",operateur:"="}},{field:"sites.libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"sites",join:{table:"sites",champ1:"postes.site_id",champ2:"sites.id",operateur:"="}},{field:"clients.libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"clients",join:{table:"clients",champ1:"sites.client_id",champ2:"clients.id",operateur:"="}},{field:"zones.libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"zones",join:{table:"zones",champ1:"sites.zone_id",champ2:"zones.id",operateur:"="}}],this.historiqueColumnDefs=[{headerName:"Poste",field:"historiques.id",hide:!0},{headerName:"Poste",field:"postes.libelle",join:{table:"postes",champ1:"historiques.valeur",champ2:"postes.id",operateur:"="}},{field:"historiques.created_at",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"Attribuer le",valueFormatter:function(e){var t=e.value;try{t=E()(e.value).format("DD/MM/YYYY à HH:mm")}catch(i){}return t}}],this.columnDefsDirection=[{field:null,headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(t){e.deleteDirection(t)},render:'<div class="" style="width:100%;height:100%;background:#e31d3b;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-trash-can"></i></div>'}}}},{field:"id",sortable:!0,hide:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"libelle"},{field:"libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"libelle"},{field:"code",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"code"}],this.adddirections.columnDefs=[{field:null,headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(t){e.addDirection(t)},render:'<div class="btn btn-primary" style="width:100%;height:100%;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-pen-to-square "></i></div>'}}}},{field:"id",sortable:!0,hide:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"libelle"},{field:"libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"libelle"},{field:"code",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"code"}],this.add.columnDefs=[{field:null,maxWidth:60,pinned:"left",suppressColumnsToolPanel:!0,sortable:!1,headerName:"",cellRendererSelector:function(t){var i={component:"AgGridBtnClicked",params:{clicked:function(t){e.addPoste(t)},render:'<div class="btn btn-primary" style="width:100%;height:100%;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-pen-to-square "></i></div>'}};return i}},{field:"horaires.id",sortable:!0,hide:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"horaire",width:60},{field:"horaires.libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"horaire",width:60},{field:"postes.id",sortable:!0,hide:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},join:{table:"postes",champ1:"horaires.poste_id",champ2:"postes.id",operateur:"="}},{field:"postes.libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"libelle"},{field:"sites.id",sortable:!0,filter:"agTextColumnFilter",hide:!0,filterParams:{suppressAndOrCondition:!0},join:{table:"sites",champ1:"postes.site_id",champ2:"sites.id",operateur:"="}},{field:"sites.libelle",headerName:"site",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0}},{field:"clients.id",sortable:!0,hide:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},join:{table:"clients",champ1:"sites.client_id",champ2:"clients.id",operateur:"="}},{field:"clients.libelle",headerName:"client",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0}},{field:"zones.id",sortable:!0,hide:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},join:{table:"zones",champ1:"sites.zone_id",champ2:"zones.id",operateur:"="}},{field:"zones.libelle",headerName:"zone",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0}}]},mounted:function(){this.form=this.data,this.form.zone_id=this.data.zones.id,this.form.Libelle=this.data.modelslistings.Libelle,this.form.min_partage=this.data.modelslistings.min_partage,console.log("voici la data transmise ==>",this.data),this.data.horaires&&(this.horairesSelect=this.data.horaires.split(",").filter((function(e){return null!=e&&""!=e}))),this.data.directions&&(this.directionSelect=this.data.directions.split(",").filter((function(e){return null!=e&&""!=e}))),console.log("this.form.postes=>",this.horairesSelect,this.directionSelect),this.actualPage="Postes"},methods:{togglePage:function(e){this.actualPage=e,this.tableKey++},EditLine:function(){var e=this;this.isLoading=!0,0==this.dateSelect.length?this.form.date=this.form.date:this.form.date=JSON.stringify(this.dateSelect),this.selectedDays.forEach((function(t){switch(t){case"Lundi":e.form.lun=!0;break;case"Mardi":e.form.mar=!0;break;case"Mercredi":e.form.mer=!0;break;case"Jeudi":e.form.jeu=!0;break;case"Vendredi":e.form.ven=!0;break;case"Samedi":e.form.sam=!0;break;case"Dimanche":e.form.dim=!0;break}})),this.form.horaires=this.horairesSelect.join(","),this.form.directions=this.directionSelect.join(","),this.form.userFiltre=JSON.stringify(this.form.userFiltre),this.axios.post("/api/modelslistings/"+this.form.id+"/update",this.form).then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({update:[t.data]}),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},DeleteLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/modelslistings/"+this.form.id+"/delete").then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({remove:[e.form]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){console.log(t.response.data),e.isLoading=!1,e.$toast.error("Erreur survenue lors de la suppression")}))},onGridReady:function(e){console.log("on demarre",e),this.gridApi1=e.api,this.columnApi=e.columnApi,this.isLoading=!1,this.calendarKey++},openCreate:function(e){"directions"==e?this.showForm("Createdirections",{},this.gridApi,"lg"):this.showForm("Create",{},this.gridApi,"xl")},newData:function(e){console.log("voici la nouvelle data",e),this.agGridData=e;try{this.form.userFiltre=e.__allFilters}catch(t){}},createLine:function(){var e=this;this.isLoading=!0;var t=this.gridApi1.getFilterModel();console.log("model ===>",t),this.form.userFiltre=JSON.stringify(this.form.userFiltre),this.axios.post("/api/modelslistings",this.form).then((function(t){e.isLoading=!1,e.resetForm(),e.gridApi.applyServerSideTransaction({add:[t.data]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},resetForm:function(){this.form={id:"",Libelle:"",userFiltre:"",userMatricule:"",created_at:"",updated_at:"",extra_attributes:"",deleted_at:"",identifiants_sadge:""}},addPoste:function(e){var t=e.id,i=this.horairesSelect.indexOf(t);i>-1||this.horairesSelect.push(t),console.log("this.horairesSelect",this.horairesSelect),this.$toast.success("Operation effectuer avec succes")},addDirection:function(e){var t=e.id,i=this.directionSelect.indexOf(t);i>-1||this.directionSelect.push(t),this.$toast.success("Operation effectuer avec succes")},deletePoste:function(e){var t=e.id,i=this.horairesSelect.indexOf(t);i>-1&&(this.horairesSelect.splice(i,1),this.tableKey++,this.$toast.success("Operation effectuer avec succes"))},deleteDirection:function(e){var t=e.id,i=this.directionSelect.indexOf(t);i>-1&&(this.directionSelect.splice(i,1),this.tableKey++,this.$toast.success("Operation effectuer avec succes"))},finishAddPoste:function(){console.log("on as finit de selectionner",this.horairesSelect,this.lastPosteSelectCount),this.horairesSelect.length!=this.lastPosteSelectCount&&(this.lastPosteSelectCount=this.horairesSelect.length,this.tableKey++),this.$bvModal.hide(this.formId)},finishAddDirection:function(){this.directionSelect.length!=this.lastdirectionSelectCount&&(this.lastdirectionSelectCount=this.directionSelect.length,this.tableKey++),this.$bvModal.hide(this.formId)},readhistorique:function(){this.historique=1,this.historiquetype="postePointeuse"},fermerhistorique:function(){this.historique=!1},showForm:function(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=a,this.formState=e,this.formData=t,this.formGridApi=i,this.$bvModal.show(this.formId)},getselectedDays:function(){1===this.form.lun&&this.selectedDays.push("Lundi"),1===this.form.mar&&this.selectedDays.push("Mardi"),1===this.form.mer&&this.selectedDays.push("Mercredi"),1===this.form.jeu&&this.selectedDays.push("Jeudi"),1===this.form.ven&&this.selectedDays.push("Vendredi"),1===this.form.sam&&this.selectedDays.push("Samedi"),1===this.form.dim&&this.selectedDays.push("Dimanche")}}},Ge=Ee,Re=(i("86b6"),Object(v["a"])(Ge,Me,$e,!1,null,"4aac52fc",null)),je=Re.exports,Ue=i("d2e9"),We=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-overlay",{attrs:{show:e.isLoading}},[i("div",{key:e.etats},["1"==e.etats?i("div",{staticStyle:{width:"100%",height:"100%",background:"#2885a7",color:"#fff","border-radius":"5px","text-align":"center",cursor:"pointer",display:"flex",gap:"5px","align-items":"center"}},[i("div",{staticClass:"spinner-border text-light",staticStyle:{width:"20px",height:"20px","margin-left":"2px"},attrs:{role:"status"}},[i("span",{staticClass:"sr-only"},[e._v("Loading...")])]),i("div",[e._v("Traitement")])]):i("div",{staticStyle:{width:"100%",height:"100%","border-radius":"5px","text-align":"center",cursor:"pointer"}},[i("div",[e._v("Traitement terminer")])])])])},qe=[],Ke={name:"AgGridBtnClicked",components:{},props:[],data:function(){return{etats:1}},created:function(){this.id="AgGridBtnClicked"+Date.now()},mounted:function(){this.etats=this.params.data.etats},methods:{btnClickedHandler:function(){this.params.clicked(this.params.data)},annulerImport:function(){var e=this,t=this.params.data;t.etats=4,this.axios.post("/api/imports/"+t.id+"/update",t).then((function(t){e.isLoading=!1,e.$toast.success("Operation effectuer avec succes"),e.etats=4})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},validerImport:function(){var e=this,t=this.params.data;t.etats=3,this.axios.post("/api/imports/"+t.id+"/update",t).then((function(t){e.isLoading=!1,e.$toast.success("Operation effectuer avec succes"),e.etats=3})).catch((function(t){e.errors=t,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))}}},Ve=Ke,He=(i("485e"),Object(v["a"])(Ve,We,qe,!1,null,null,null)),Je=He.exports,Ye={name:"ModelslistingsView",components:{DataTable:s["a"],AgGridTable:o["a"],CreateModelslistings:Ne,EditModelslistings:je,DataModal:j["a"],CustomFiltre:Ue["a"],AgGridBtnClicked:q["a"],AnalysesImports:Je},data:function(){return{formId:"modelslistings",formState:"",formData:{},formWidth:"xl",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/modelslistings-Aggrid1",table:"modelslistings",zonesData:[],factionsData:["Jour","Nuit"],usersData:[],requette:1,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:100,cacheBlockSize:10,maxBlocksInCache:1}},computed:{routeData:function(){var e={meta:{}};if(window.router)try{e=window.router}catch(t){}return e},taille:function(){var e="col-sm-12";return this.filtre&&(e="col-sm-9"),e}},watch:{routeData:{handler:function(e,t){this.gridApi.setFilterModel(null),this.gridApi.refreshServerSide()},deep:!0}},created:function(){this.url=this.axios.defaults.baseURL+"/api/modelslistings-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2},beforeMount:function(){var e=this;this.columnDefs=[{field:null,headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(i){e.showForm("Update",i,t.api)},render:'<div class="btn btn-primary" style="width:100%;height:100%;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-pen-to-square "></i></div>'}}}},{field:"modelslistings.id",headerName:"",suppressCellSelection:!0,hide:!0},{headerName:"zone",field:"zones.libelle",sortable:!0,suppressColumnsToolPanel:!0,filterParams:{suppressAndOrCondition:!0},join:{table:"zones",champ2:"zones.id",champ1:"modelslistings.zone_id",operateur:"="}},{headerName:"zone",field:"zones.id",valueFormatter:function(e){var t="";try{return e.data["zone"]["Selectlabel"]}catch(i){}return t},filter:"FiltreEntete",filterParams:{url:this.axios.defaults.baseURL+"/api/zones-Aggrid1",columnDefs:[{field:"",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"",cellStyle:{fontSize:"11px"},valueFormatter:function(e){var t="";try{return"".concat(e.data["Selectlabel"])}catch(i){}return t}}],filterFields:["libelle"]}},{field:"modelslistings.Libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"Libelle"},{field:"modelslistings.min_partage",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"Nbrs Pts Requis",maxWidth:150},{field:"horaires",sortable:!0,maxWidth:150,headerName:"Nbrs Postes",valueFormatter:function(e){var t="";try{var i=e.data["horaires"].split(",").filter((function(e){return null!=e&&""!=e}));t=i.length}catch(a){}return t}},{field:"directions",sortable:!0,hide:!0},{headerName:"valideur1",field:"user.nom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},join:{table:"users",tableAlias:"user",champ2:"users.id",champ1:"modelslistings.user_id",operateur:"="}},{headerName:"valideur1",field:"user2.nom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},join:{table:"users",tableAlias:"user2",champ2:"users.id",champ1:"modelslistings.user_id_2",operateur:"="}},{headerName:"valideur2",field:"user3.nom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},join:{table:"users",tableAlias:"user3",champ2:"users.id",champ1:"modelslistings.user_id_3",operateur:"="}},{headerName:"valideur2",field:"user4.nom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},join:{table:"users",tableAlias:"user4",champ2:"users.id",champ1:"modelslistings.user_id_4",operateur:"="}},{headerName:"valideur1",field:"user.prenom",sortable:!0,hide:!0},{headerName:"valideur1",field:"user2.prenom",sortable:!0,hide:!0},{headerName:"valideur1",field:"user3.prenom",sortable:!0,hide:!0},,{headerName:"valideur1",field:"user4.prenom",sortable:!0,hide:!0}]},mounted:function(){this.requette,console.log("factionsData=>",this.factionsData)},methods:{closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},openCreate:function(){this.showForm("Create",{},this.gridApi)},showForm:function(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"xl";this.formKey++,this.formWidth=a,this.formState=e,this.formData=t,this.formGridApi=i,this.$bvModal.show(this.formId)},onGridReady:function(e){console.log("on demarre",e),this.gridApi=e.api,this.columnApi=e.columnApi,this.isLoading=!1},getzones:function(){var e=this;this.axios.get("/api/zones").then((function(t){e.requette--,e.requette,e.zonesData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getusers:function(){var e=this;this.axios.get("/api/users/type/2,3").then((function(t){e.requette--,e.requette,e.usersData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))}}},Xe=Ye,Qe=Object(v["a"])(Xe,a,r,!1,null,null,null);t["default"]=Qe.exports},da93:function(e,t,i){},f54f:function(e,t,i){}}]);
//# sourceMappingURL=chunk-cdbad8be.5544dc77.js.map