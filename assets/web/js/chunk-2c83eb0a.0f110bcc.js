(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c83eb0a"],{"07ac":function(e,t,a){"use strict";var r=a("23e7"),i=a("6f53").values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},"07c7":function(e,t,a){},"094a":function(e,t,a){"use strict";var r=a("e330"),i=Map.prototype;e.exports={Map:Map,set:r(i.set),get:r(i.get),has:r(i.has),remove:r(i["delete"]),proto:i}},"095b":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",{attrs:{"no-body":""}},[a("b-card-body",{staticClass:"align-content-center",style:"background:"+e.background+";border-radius:5px"},[a("h3",{staticClass:"mb-25 font-weight-bolder",style:"color:"+e.textColor},[e._v(" "+e._s(e.statistic)+" ")]),a("span",{style:"color:"+e.textColor},[e._v(e._s(e.statisticTitle)+" ")])])],1)},i=[],s=(a("a9e3"),a("205f")),o=a("6197"),n=a("e8a3"),l={components:{BCard:s["a"],BCardBody:o["a"],BAvatar:n["a"]},props:{icon:{type:String,required:!0},iconColor:{type:String,default:"#fff"},statistic:{type:[Number,String],required:!0},donner1:{type:[Number,String],required:!0},donner2:{type:[Number,String],required:!0},donner3:{type:[Number,String],required:!0},statisticTitle:{type:String,default:""},Title:{type:String,default:""},Titledonner1:{type:String,default:""},Titledonner2:{type:String,default:""},Titledonner3:{type:String,default:""},color:{type:String,default:"primary"},textColor:{type:String,default:"#fff"},background:{type:String,default:"#fff"}}},c=l,d=a("2877"),u=Object(d["a"])(c,r,i,!1,null,null,null);t["a"]=u.exports},"0dba":function(e,t,a){},"12d3":function(e,t,a){},"12d9":function(e,t,a){"use strict";a("3393")},"17fd":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["Update"==e.formState?a("div",[e._v(" Update Programmations #"+e._s(e.formData.id)+" ")]):e._e(),"Validation"==e.formState?a("div",[e._v(" Confirmation #"+e._s(e.formData.id)+" ")]):e._e(),"Duplicate"==e.formState?a("div",[e._v(" Dupliquer Programmations #"+e._s(e.formData.id)+" ")]):e._e(),"Create"==e.formState?a("div",[e._v("Create Programmations")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div")]},proxy:!0}])},["Duplicate"==e.formState?a("DuplicateHebdoProgrammations",{key:e.formKey,attrs:{data:e.formData,gridApi:e.formGridApi,modalFormId:e.formId,tachesData:e.tachesData,usersData:e.usersData},on:{close:e.closeForm}}):e._e(),"Update"==e.formState?a("EditProgrammations",{key:e.formKey,attrs:{data:e.formData,gridApi:e.formGridApi,modalFormId:e.formId,tachesData:e.tachesData,usersData:e.usersData},on:{close:e.closeForm}}):e._e(),"Create"==e.formState?a("CreateHebdoProgrammations",{key:e.formKey,attrs:{gridApi:e.formGridApi,modalFormId:e.formId,tachesData:e.tachesData,usersData:e.usersData},on:{close:e.closeForm}}):e._e(),"CreateListings"==e.formState?a("CreateListingsjours",{key:e.formKey,attrs:{actifsData:e.actifsData,balisesData:e.balisesData,categoriesData:e.categoriesData,contratsData:e.contratsData,directionsData:e.directionsData,echelonsData:e.echelonsData,factionsData:e.factionsData,fonctionsData:e.fonctionsData,gridApi:e.formGridApi,matrimonialesData:e.matrimonialesData,modalFormId:e.formId,nationalitesData:e.nationalitesData,onlinesData:e.onlinesData,postesData:e.postesData,sexesData:e.sexesData,sitesData:e.sitesData,situationsData:e.situationsData,tachesData:e.tachesData,typesData:e.typesData,usersData:e.usersData,villesData:e.villesData,zonesData:e.zonesData},on:{close:e.closeForm}}):e._e(),"Validation"==e.formState?a("validation",{key:e.formKey,attrs:{data:e.formData,gridApi:e.formGridApi,modalFormId:e.formId,tachesData:e.tachesData,usersData:e.usersData,valider:e.valider},on:{close:e.closeForm}}):e._e()],1),a("div",{staticClass:"row col-sm-12",staticStyle:{display:"flex","justify-content":"space-around"}},[a("div",{staticClass:"col-sm-12"},[a("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefs,extrasData:e.extrasData,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,defaultColumnsOrder:["date_debut","programmations.libelle","Presents","Abscents","valider1","user.nom","valider2","user2.nom"],url:e.url,className:"ag-theme-alpine",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady},scopedSlots:e._u([{key:"header_buttons",fn:function(){return[e.$routeData.meta.isProgrammations?a("div",{staticClass:"btn btn-primary",on:{click:e.openCreate}},[a("i",{staticClass:"fa fa-plus"}),e._v(" Nouvelle programmations ")]):e._e(),e.$routeData.meta.isHebdo?a("div",{staticClass:"btn btn-primary",on:{click:e.openListings}},[a("i",{staticClass:"fa fa-plus"}),e._v(" Nouveau Listings ")]):e._e(),e.$routeData.meta.isHebdo?a("div",{staticClass:"btn btn-primary",on:{click:e.openListings}},[a("i",{staticClass:"fa fa-plus"}),e._v(" Nouvelle programmation Hebdomadaire ")]):e._e(),e.$routeData.meta.isProgrammations?e._e():a("input",{directives:[{name:"model",rawName:"v-model",value:e.jourselectioner,expression:"jourselectioner"}],staticClass:"form-control",staticStyle:{width:"auto !important"},attrs:{placeholder:"Veuillez selectioner la date",type:"date"},domProps:{value:e.jourselectioner},on:{input:function(t){t.target.composing||(e.jourselectioner=t.target.value)}}})]},proxy:!0}])})],1)])],1)},i=[],s=(a("caad"),a("14d9"),a("fb6a"),a("a434"),a("2532"),a("1fdb")),o=a("bad1"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-overlay",{attrs:{show:e.isLoading}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.createLine()}}},[a("div",{staticClass:"mb-3"},[a("div",{staticClass:"form-group"},[a("label",[e._v("libelle ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.libelle,expression:"form.libelle"}],class:e.errors.libelle?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.libelle},on:{input:function(t){t.target.composing||e.$set(e.form,"libelle",t.target.value)}}}),e.errors.libelle?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.libelle,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v("description ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],class:e.errors.description?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.description},on:{input:function(t){t.target.composing||e.$set(e.form,"description",t.target.value)}}}),e.errors.description?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.description,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("date_debut ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.date_debut,expression:"form.date_debut"}],class:e.errors.date_debut?"form-control is-invalid":"form-control",attrs:{type:"date"},domProps:{value:e.form.date_debut},on:{input:function(t){t.target.composing||e.$set(e.form,"date_debut",t.target.value)}}}),e.errors.date_debut?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.date_debut,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()])]),a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("date_fin ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.date_fin,expression:"form.date_fin"}],class:e.errors.date_fin?"form-control is-invalid":"form-control",attrs:{type:"date"},domProps:{value:e.form.date_fin},on:{input:function(t){t.target.composing||e.$set(e.form,"date_fin",t.target.value)}}}),e.errors.date_fin?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.date_fin,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()])])]),a("div",{staticClass:"form-group"},[a("label",[e._v("taches ")]),a("CustomSelect",{key:e.form.tache,attrs:{columnDefs:["libelle"],oldValue:e.form.tache,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){return e.form.tache_id=t.id},url:e.axios.defaults.baseURL+"/api/taches-Aggrid1","filter-key":"","filter-value":""}}),e.errors.tache_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.tache_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1),a("div",{staticClass:"form-group"},[a("label",[e._v("users ")]),a("CustomSelect",{key:e.form.user,attrs:{columnDefs:["nom","prenom","matricule"],oldValue:e.form.user,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){return e.form.user_id=t.id},url:e.axios.defaults.baseURL+"/api/users-Aggrid1","filter-key":"","filter-value":""}}),e.errors.user_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.user_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1)]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Créer ")])])])},l=[],c=a("b8bb"),d=a("9dbc"),u=a("4a7a"),m=a.n(u),f=a("c1df"),p=a.n(f),h={name:"CreateProgrammations",components:{VSelect:m.a,CustomSelect:c["a"],Files:d["a"]},props:["gridApi","modalFormId","tachesData","usersData"],data:function(){return{errors:[],isLoading:!1,form:{id:"",libelle:"",description:"",date_debut:"",date_fin:"",tache_id:"",user_id:"",statut:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:"",identifiants_sadge:""}}},methods:{getDateOfWeek:function(e,t){var a=1+7*(e-1);return new Date(t,0,a)},getJoursNumberFromWeek:function(e,t){var a={};return a.Dimanche=p()("".concat(e)).subtract(1,"days"),a.Lundi=p()("".concat(e)).add(0,"days"),a.Mardi=p()("".concat(e)).add(1,"days"),a.Mercredi=p()("".concat(e)).add(2,"days"),a.Jeudi=p()("".concat(e)).add(3,"days"),a.Vendredi=p()("".concat(e)).add(4,"days"),a.Samedi=p()("".concat(e)).add(5,"days"),"".concat(a[t].format("DD/MM/YYYY"))},createLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/programmations",this.form).then((function(t){e.isLoading=!1,e.resetForm(),e.gridApi.applyServerSideTransaction({add:[t.data]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},resetForm:function(){this.form={id:"",libelle:"",description:"",date_debut:"",date_fin:"",tache_id:"",user_id:"",statut:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:"",identifiants_sadge:""}}}},g=h,v=a("2877"),b=Object(v["a"])(g,n,l,!1,null,null,null),_=b.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-overlay",{attrs:{show:e.isLoading}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.createLine()}}},[a("div",{staticClass:"mb-3"},[a("div",{staticClass:"form-group"},[a("label",[e._v("libelle ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.libelle,expression:"form.libelle"}],class:e.errors.libelle?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.libelle},on:{input:function(t){t.target.composing||e.$set(e.form,"libelle",t.target.value)}}}),e.errors.libelle?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.libelle,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v("description ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],class:e.errors.description?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.description},on:{input:function(t){t.target.composing||e.$set(e.form,"description",t.target.value)}}}),e.errors.description?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.description,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Semaine ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.semaine,expression:"form.semaine"}],class:e.errors.semaine?"form-control is-invalid":"form-control",attrs:{type:"week"},domProps:{value:e.form.semaine},on:{input:function(t){t.target.composing||e.$set(e.form,"semaine",t.target.value)}}}),e.errors.semaine?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.semaine,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()])]),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("date_debut ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.date_debut,expression:"form.date_debut"}],class:e.errors.date_debut?"form-control is-invalid":"form-control",attrs:{disabled:"",type:"date"},domProps:{value:e.form.date_debut},on:{input:function(t){t.target.composing||e.$set(e.form,"date_debut",t.target.value)}}}),e.errors.date_debut?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.date_debut,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()])]),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("date_fin ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.date_fin,expression:"form.date_fin"}],class:e.errors.date_fin?"form-control is-invalid":"form-control",attrs:{disabled:"",type:"date"},domProps:{value:e.form.date_fin},on:{input:function(t){t.target.composing||e.$set(e.form,"date_fin",t.target.value)}}}),e.errors.date_fin?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.date_fin,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()])])]),a("div",{staticClass:"form-group"},[a("label",[e._v("taches ")]),a("CustomSelect",{key:e.form.tache,attrs:{columnDefs:["libelle"],oldValue:e.form.tache,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){return e.form.tache_id=t.id},url:e.axios.defaults.baseURL+"/api/taches-Aggrid1","filter-key":"","filter-value":""}}),e.errors.tache_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.tache_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1),a("div",{staticClass:"form-group"},[a("label",[e._v("users ")]),a("CustomSelect",{key:e.form.user,attrs:{columnDefs:["nom","prenom","matricule"],oldValue:e.form.user,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){return e.form.user_id=t.id},url:e.axios.defaults.baseURL+"/api/users-Aggrid1","filter-key":"","filter-value":""}}),e.errors.user_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.user_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1)]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Créer ")])])])},D=[],w={name:"CreateHebdoProgrammations",components:{VSelect:m.a,CustomSelect:c["a"],Files:d["a"]},props:["gridApi","modalFormId","tachesData","usersData"],data:function(){return{errors:[],isLoading:!1,form:{id:"",semaine:"",libelle:"",description:"",date_debut:"",date_fin:"",tache_id:"",user_id:"",statut:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:"",identifiants_sadge:""}}},computed:{date:function(){var e=this.form.semaine;return e=this.getJoursNumberFromWeek(e),e}},watch:{"form.semaine":{handler:function(e,t){var a=e;a=this.getJoursNumberFromWeek(a),this.form.date_debut=a.Lundi,this.form.date_fin=a.Dimanche,console.log("voici les nouvelles data ==>",a)},deep:!0}},methods:{getDateOfWeek:function(e,t){var a=1+7*(e-1);return new Date(t,0,a)},getJoursNumberFromWeek:function(e){var t={};return t.Lundi=p()("".concat(e)).add(0,"days").format("YYYY-MM-DD"),t.Mardi=p()("".concat(e)).add(1,"days").format("YYYY-MM-DD"),t.Mercredi=p()("".concat(e)).add(2,"days").format("YYYY-MM-DD"),t.Jeudi=p()("".concat(e)).add(3,"days").format("YYYY-MM-DD"),t.Vendredi=p()("".concat(e)).add(4,"days").format("YYYY-MM-DD"),t.Samedi=p()("".concat(e)).add(5,"days").format("YYYY-MM-DD"),t.Dimanche=p()("".concat(e)).add(6,"days").format("YYYY-MM-DD"),t},createLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/programmations",this.form).then((function(t){e.isLoading=!1,e.resetForm(),e.gridApi.applyServerSideTransaction({add:[t.data]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},resetForm:function(){this.form={id:"",libelle:"",description:"",date_debut:"",date_fin:"",tache_id:"",user_id:"",statut:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:"",identifiants_sadge:""}}}},C=w,x=Object(v["a"])(C,y,D,!1,null,null,null),S=x.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-overlay",{attrs:{show:e.isLoading}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.createLine()}}},[a("div",{staticClass:"mb-3"},[a("div",{staticClass:"form-group"},[a("label",[e._v("libelle1 ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.libelle,expression:"form.libelle"}],class:e.errors.libelle?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.libelle},on:{input:function(t){t.target.composing||e.$set(e.form,"libelle",t.target.value)}}}),e.errors.libelle?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.libelle,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v("description ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],class:e.errors.description?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.description},on:{input:function(t){t.target.composing||e.$set(e.form,"description",t.target.value)}}}),e.errors.description?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.description,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Semaine ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.semaine,expression:"form.semaine"}],class:e.errors.semaine?"form-control is-invalid":"form-control",attrs:{required:"",type:"week"},domProps:{value:e.form.semaine},on:{input:function(t){t.target.composing||e.$set(e.form,"semaine",t.target.value)}}}),e.errors.semaine?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.semaine,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()])]),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("date_debut ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.date_debut,expression:"form.date_debut"}],class:e.errors.date_debut?"form-control is-invalid":"form-control",attrs:{disabled:"",type:"date"},domProps:{value:e.form.date_debut},on:{input:function(t){t.target.composing||e.$set(e.form,"date_debut",t.target.value)}}}),e.errors.date_debut?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.date_debut,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()])]),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("date_fin ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.date_fin,expression:"form.date_fin"}],class:e.errors.date_fin?"form-control is-invalid":"form-control",attrs:{disabled:"",type:"date"},domProps:{value:e.form.date_fin},on:{input:function(t){t.target.composing||e.$set(e.form,"date_fin",t.target.value)}}}),e.errors.date_fin?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.date_fin,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()])])]),a("div",{staticClass:"form-group"},[a("label",[e._v("taches ")]),a("v-select",{attrs:{options:e.tachesData,reduce:function(e){return e.id},disabled:"",label:"Selectlabel"},model:{value:e.form.tache_id,callback:function(t){e.$set(e.form,"tache_id",t)},expression:"form.tache_id"}}),e.errors.tache_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.tache_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1),a("div",{staticClass:"form-group"},[a("label",[e._v("users ")]),a("CustomSelect",{key:e.form.user,attrs:{columnDefs:["nom","prenom","matricule"],oldValue:e.form.user,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){return e.form.user_id=t.id},url:e.axios.defaults.baseURL+"/api/users-Aggrid1","filter-key":"","filter-value":""}}),e.errors.user_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.user_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1)]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Enregistrer ")])])])},P=[],k={name:"DuplicateHebdoProgrammations",components:{VSelect:m.a,CustomSelect:c["a"],Files:d["a"]},props:["data","gridApi","modalFormId","tachesData","usersData"],data:function(){return{errors:[],isLoading:!1,form:{id:"",semaine:"",libelle:"",description:"",date_debut:"",date_fin:"",tache_id:"",user_id:"",statut:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:"",identifiants_sadge:""}}},created:function(){console.log("voici la data ==>",this.data),this.form=this.data,this.form.libelle="Copie "+this.form.libelle},computed:{date:function(){var e=this.form.semaine;return e=this.getJoursNumberFromWeek(e),e}},watch:{"form.semaine":{handler:function(e,t){var a=e;a=this.getJoursNumberFromWeek(a),this.form.date_debut=a.Lundi,this.form.date_fin=a.Dimanche,console.log("voici les nouvelles data ==>",a)},deep:!0}},methods:{getDateOfWeek:function(e,t){var a=1+7*(e-1);return new Date(t,0,a)},getJoursNumberFromWeek:function(e){var t={};return t.Lundi=p()("".concat(e)).add(0,"days").format("YYYY-MM-DD"),t.Mardi=p()("".concat(e)).add(1,"days").format("YYYY-MM-DD"),t.Mercredi=p()("".concat(e)).add(2,"days").format("YYYY-MM-DD"),t.Jeudi=p()("".concat(e)).add(3,"days").format("YYYY-MM-DD"),t.Vendredi=p()("".concat(e)).add(4,"days").format("YYYY-MM-DD"),t.Samedi=p()("".concat(e)).add(5,"days").format("YYYY-MM-DD"),t.Dimanche=p()("".concat(e)).add(6,"days").format("YYYY-MM-DD"),t},createLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/programmationsActionDupliquerProgrammationsHebdo",this.form).then((function(t){e.isLoading=!1,e.resetForm(),e.gridApi.applyServerSideTransaction({add:[t.data]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){e.isLoading=!1,e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},resetForm:function(){this.form={id:"",libelle:"",description:"",date_debut:"",date_fin:"",tache_id:"",user_id:"",statut:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:"",identifiants_sadge:""}}}},O=k,L=Object(v["a"])(O,A,P,!1,null,null,null),F=L.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-overlay",{attrs:{show:e.isLoading}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 row"},[a("div",{staticClass:"form-group col-sm-2"},[a("label",[e._v("libelle ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.programmations.libelle,expression:"form.programmations.libelle"}],class:e.errors.libelle?"form-control is-invalid":"form-control",attrs:{disabled:"",type:"text"},domProps:{value:e.form.programmations.libelle},on:{input:function(t){t.target.composing||e.$set(e.form.programmations,"libelle",t.target.value)}}}),e.errors.libelle?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.libelle,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"form-group col-sm-2"},[a("label",[e._v("date ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.DateListing,expression:"DateListing"}],class:e.errors.date_debut?"form-control is-invalid":"form-control",attrs:{disabled:"",type:"date"},domProps:{value:e.DateListing},on:{input:function(t){t.target.composing||(e.DateListing=t.target.value)}}}),e.errors.date_debut?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.date_debut,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"form-group col-sm-3"},[a("label",[e._v("valideur 1")]),a("CustomSelect",{key:e.form.user,attrs:{columnDefs:["nom","prenom","matricule"],disable:!0,oldValue:e.form.user,renderCallBack:function(e){return""+e.nom},selectCallBack:function(t){return e.form.user=t.id},url:e.axios.defaults.baseURL+"/api/users-Aggrid1","filter-key":"","filter-value":"",placeHolder:" Pas encore valider "}}),e.errors.valideur_1?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.valideur_1,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e(),a("small",{staticClass:"form-text text-muted"},[e._v(e._s(e.potentielValideur1()))])],1),a("div",{staticClass:"form-group col-sm-2"},[e.$routeData.meta.validation1||e.$routeData.meta.validation2?a("button",{staticClass:"mt-2 btn btn-primary ",attrs:{disabled:e.form.valider1.length>0,type:"button"},on:{click:function(t){return t.preventDefault(),e.Validation1()}}},[a("i",{staticClass:"fa-solid fa-circle-check"}),e._v(" "+e._s(e.valider1Text)+" ")]):e._e()]),a("div",{staticClass:"form-group col-sm-3"},[a("label",[e._v("valideur 2")]),a("CustomSelect",{key:e.form.user2,attrs:{columnDefs:["nom","prenom","matricule"],disable:!0,oldValue:e.form.user2,renderCallBack:function(e){return""+e.nom},selectCallBack:function(t){return e.form.user2=t.id},url:e.axios.defaults.baseURL+"/api/users-Aggrid1","filter-key":"","filter-value":"",placeHolder:" Pas encore valider "}}),e.errors.valideur_2?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.valideur_2,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e(),a("small",{staticClass:"form-text text-muted"},[e._v(e._s(e.potentielValideur2()))])],1),a("div",{staticClass:"form-group col-sm-2"},[e.$routeData.meta.validation1||e.$routeData.meta.validation2?a("button",{staticClass:"mt-2 btn btn-primary ",attrs:{disabled:e.form.valider2.length>0||e.form.valider1.length<=0,type:"button"},on:{click:function(t){return t.preventDefault(),e.Validation2()}}},[a("i",{staticClass:"fa-solid fa-circle-check"}),e._v(" "+e._s(e.valider2Text)+" ")]):e._e()])]),a("div",{staticClass:"col-sm-12"},[[e.periodes.length>1?a("div",[a("h5",[e._v("Veuillez selectionnez le jour")]),a("div",{staticStyle:{display:"flex","justify-content":"space-around"}},e._l(e.periodes,(function(t){return a("button",{staticClass:"btn",style:e.periodesSelectionner==t?"border:1px solid green":"border:1px solid #b3b2b2",on:{click:function(a){return e.selectPeriode(t)}}},[e._v(e._s(t)+" ")])})),0)]):e._e(),a("Readprogrammes",{key:e.form.id+"-"+e.tableKey+"-"+e.periodesSelectionner,attrs:{data:e.form,filter:e.filter,horairesData:e.horairesData,periode:e.periodesSelectionner,poste:{id:0},types:e.$routeData.meta.isProgrammations,usersData:e.usersData}})]],2)])])},$=[],T=a("2909"),Y=(a("4de4"),a("a15b"),a("d81d"),a("4ec9"),a("b64b"),a("d3b7"),a("3ca3"),a("ddb0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["Update"==e.formState?a("div",[e._v("Update Programmationsusers #"+e._s(e.formData.id))]):e._e(),"Create"==e.formState?a("div",[e._v("Create Programmationsusers")]):e._e(),"AddUsers"==e.formState?a("div",[e._v("Programmer un agent")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div")]},proxy:!0}])},["AddUsers"==e.formState?a("div",[a("form",{on:{submit:function(t){return t.preventDefault(),e.addAgent()}}},[a("div",{staticClass:"form-group"},[a("label",[e._v("users ")]),a("CustomSelect",{key:e.add.user_id,attrs:{columnDefs:["nom","prenom","matricule"],oldValue:e.add.user,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){e.add.user_id=t.id,e.add.user=t},url:e.axios.defaults.baseURL+"/api/users-Aggrid1","filter-key":"","filter-value":""}}),e.errors.user_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.user_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1),e._l(e.periodes,(function(t){return a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.showDate(t))+" ")]),a("v-select",{attrs:{options:e.horairesData,reduce:function(e){return e.id},label:"Selectlabel"},model:{value:e.add["date"][t],callback:function(a){e.$set(e.add["date"],t,a)},expression:"add['date'][date]"}})],1)})),a("div",{staticClass:"d-flex justify-content-between"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Enregistrer ")]),0!=e.add.id?a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.DeleteLine()}}},[a("i",{staticClass:"fas fa-close"}),e._v(" Supprimer ")]):e._e()])],2)]):e._e()]),a("div",{staticClass:"col-sm-12"},[a("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefs,extrasData:e.extrasData,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,"show-export":!1,sideBar:{},url:e.url,className:"ag-theme-alpine",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady},scopedSlots:e._u([{key:"header_buttons",fn:function(){return[e.routeData.meta.hideCreate?e._e():a("div",{staticClass:"btn btn-primary",on:{click:function(t){return e.createAgentProgramme()}}},[a("i",{staticClass:"fa fa-plus"}),e._v(" Nouveau ")])]},proxy:!0}])})],1)],1)}),E=[],R=(a("159b"),a("47b7")),j=a("27c5"),I={name:"Managesprogrammesusers",props:["data","usersData","horairesData"],components:{DataTable:s["a"],AgGridTable:o["a"],DataModal:R["a"],AgGridBtnClicked:j["a"],VSelect:m.a,CustomSelect:c["a"]},data:function(){return{add:{user_id:0,date:{},id:0,user:{}},errors:{},formId:"programmationsusers",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/programmationsusers-Aggrid1",table:"programmationsusers",requette:1,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,extrasData:{},paginationPageSize:100,cacheBlockSize:10,maxBlocksInCache:1}},computed:{routeData:function(){var e={meta:{}};if(window.router)try{e=window.router}catch(t){}return e},taille:function(){var e="col-sm-12";return this.filtre&&(e="col-sm-9"),e},periodes:function(){var e=p()(this.data.date_debut,"YYYY-MM-DD"),t=p()(this.data.date_fin,"YYYY-MM-DD"),a=[e.format("YYYY-MM-DD")],r=!0,i=0,s=t.diff(e,"days");if(s>0)while(r){var o=a[a.length-1];o=p()(o,"YYYY-MM-DD");var n=o.add(1,"days");console.log("voici la date  actual ==>",o,n.format("YYYY-MM-DD")),a.push(n.format("YYYY-MM-DD")),0==t.diff(o,"days")||30==i?r=!1:i++}return console.log("voici la date ==>",e,t,this.data,this.data.date_fin),console.log("voici la dates collecter ==>",a,i),a},columnDefs:function(){var e=this,t=[{field:null,headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(a){e.updateAgentProgramme(t.data)},render:'<div class="btn btn-primary" style="width:100%;height:100%;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-pen-to-square "></i></div>'}}}},{field:null,headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(a){e.duplicateAgents(t.data)},render:'<div class="" style="width:100%;height:100%;background:#2885a7;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-copy "></i></div>'}}}},{headerName:"user",field:"user.Selectlabel"},{hide:!0,suppressColumnsToolPanel:!0,headerName:"user",field:"user_id",valueFormatter:function(e){var t="";try{return e.data["user"]["Selectlabel"]}catch(a){}return t},filter:"agSetColumnFilter",filterParams:{suppressAndOrCondition:!0,keyCreator:function(e){return e.value.id},valueFormatter:function(e){return e.value.Selectlabel},values:function(t){t.success(e.usersData)},refreshValuesOnOpen:!0}}];return this.periodes.forEach((function(a){var r={headerName:a,field:"user.Selectlabel",cellRendererSelector:function(t){var r="Inconnu";try{var i=t.data.programmes.filter((function(e){var t=e.date.split(" ")[0];return t==a}));r=i[0].horaire.Selectlabel,console.log("voici ce que je recois ==>",r)}catch(s){}return{component:"AgGridBtnClicked",params:{clicked:function(a){e.showForm("Update",a,t.api)},render:'<div class="btn btn-primary" style="width:100%;height:100%;color:#fff;border-radius:5px;text-align:center;cursor:pointer"> '.concat(r,"</div>")}}}};t.push(r)})),t}},watch:{routeData:{handler:function(e,t){this.gridApi.setFilterModel(null),this.gridApi.refreshServerSide()},deep:!0}},created:function(){this.url=this.axios.defaults.baseURL+"/api/programmationsusers-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2,this.requette},beforeMount:function(){},mounted:function(){var e={};e["programmation_id"]={values:[this.data.id],filterType:"set"},this.extrasData["baseFilter"]=e,console.log("voici la data passer ==>",this.data)},methods:{closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},openCreate:function(){this.showForm("Create",{},this.gridApi)},showForm:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=r,this.formState=e,this.formData=t,this.formGridApi=a,this.$bvModal.show(this.formId)},onGridReady:function(e){console.log("on demarre",e),this.gridApi=e.api,this.columnApi=e.columnApi,this.isLoading=!1,this.gridApi.sizeColumnsToFit()},showDate:function(e){return p()(e,"YYYY-MM-DD").locale("fr-fr").format("dddd")+" "+e},addAgent:function(){var e=this,t=[];Object.keys(this.add.date).forEach((function(a){t.push({programmation_id:e.data.id,user_id:e.add.user_id,date:a,horaire_id:e.add.date[a]})})),this.axios.post("/api/programmationsActionAddAgent",t).then((function(t){e.tableKey++,e.$bvModal.hide(e.formId),e.$toast.success("Operation effectuer avec succes")})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")})),console.log("voici la data de base",this.add,t)},updateAgentProgramme:function(e){var t={user_id:e.user_id,date:{},id:e.id},a=[];try{a=e.programmes}catch(r){}a.forEach((function(e){console.log("on veut update le programmes",e);var a="";try{a=e.date.split(" ")[0]}catch(r){}t.date[a]=e.horaire_id})),this.add=t,console.log("on veut update cette ligne",e,t),this.showForm("AddUsers",{},this.gridApi)},duplicateAgents:function(e){var t={user_id:0,date:{},id:0},a=[];try{a=e.programmes}catch(r){}a.forEach((function(e){console.log("on veut update le programmes",e);var a="";try{a=e.date.split(" ")[0]}catch(r){}t.date[a]=e.horaire_id})),this.add=t,console.log("on veut update cette ligne",e,t),this.showForm("AddUsers",{},this.gridApi)},createAgentProgramme:function(){var e={user_id:0,date:{},id:0};this.add=e,this.showForm("AddUsers",{},this.gridApi)},DeleteLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/programmationsusers/"+this.add.id+"/delete").then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({update:[t.data]}),e.$bvModal.hide(e.formId),e.tableKey++,e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de loperation")}))}}},N=I,B=Object(v["a"])(N,Y,E,!1,null,null,null),z=B.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row",staticStyle:{width:"100%",margin:"10px auto",display:"flex","flex-direction":"column",gap:"10px"}},[a("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["Update"==e.formState?a("div",[e._v("Update Programmationsusers #"+e._s(e.formData.id))]):e._e(),"Create"==e.formState?a("div",[e._v("Create Programmationsusers")]):e._e(),"AddUsers"==e.formState?a("div",[e._v("Programmer un agent")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div")]},proxy:!0}])},["AddUsers"==e.formState?a("div",[a("form",{on:{submit:function(t){return t.preventDefault(),e.addAgent()}}},[a("div",{staticClass:"form-group"},[a("label",[e._v("users ")]),a("CustomSelect",{key:e.add.user_id,attrs:{columnDefs:["nom","prenom","matricule"],oldValue:{},renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){return e.add.user_id=t.id},url:e.axios.defaults.baseURL+"/api/users-Aggrid1","filter-key":"","filter-value":""}}),e.errors.user_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.user_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1),e._l(e.periodes,(function(t){return a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.showDate(t))+" ")]),a("v-select",{attrs:{options:e.horairesData,reduce:function(e){return e.id},value:e.horairesData[0].id,label:"Selectlabel"},model:{value:e.add["date"][t],callback:function(a){e.$set(e.add["date"],t,a)},expression:"add['date'][date]"}}),e.errors.user_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.user_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1)})),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Créer ")])],2)]):e._e(),"AddUsersListings"==e.formState?a("AgGridSearch",{attrs:{columnDefs:e.addListing.columnDefs,extrasData:e.addListing.extrasData,filterFields:["nom","prenom","matricule"],url:e.addListing.url,"filter-key":"type","filter-value":"2"},on:{destruction:e.finishAddUser}}):e._e()],1),a("div"),a("div",{staticClass:"Programmes"},[a("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefs,extrasData:e.extrasData,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,"show-export":!1,sideBar:!1,defaultColumnsOrder:["clients.libelle","sites.libelle","postes.libelle"],url:e.url,className:"ag-theme-alpine",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady,newData:e.newData},scopedSlots:e._u([{key:"header_buttons",fn:function(){},proxy:!0}])})],1)],1)},V=[],q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["showDetailDay"==e.formState?a("div",[e._v("Details")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div")]},proxy:!0}])},["showDetailDay"==e.formState?a("div",[e._v("3 "),a("DetailDaysView",{key:e.programmes.id,attrs:{data:e.programmes}})],1):e._e()]),a("b-overlay",{attrs:{show:e.isLoading}},[e.canAdmin()?[e.isPresent?a("div",{staticClass:"present",on:{click:function(t){return t.preventDefault(),e.addAbscence()}}},[e._v(" Present")]):a("div",{staticClass:"danger",on:{click:function(t){return t.preventDefault(),e.addPresence()}}},[e._v(" Abscent")])]:[e.isPresent?a("div",{staticClass:"present",attrs:{disabled:""},on:{click:function(t){return e.detailDay()}}},[a("span",[a("i",{staticClass:"fa-solid fa-lock"}),e._v("Present ("+e._s(e.pointages.length)+" )Pts")])]):a("div",{staticClass:"danger",attrs:{disabled:""},on:{click:function(t){return e.detailDay()}}},[a("i",{staticClass:"fa-solid fa-lock"}),e._v(" Abscent ("+e._s(e.pointages.length)+" )Pts ")])]],2)],1)},G=[],H=a("4f67"),W={name:"Preuves",components:{DetailDaysView:H["a"]},props:[],data:function(){return{formId:"programmations",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,status:"non",isLoading:!1,cloturer:!1}},computed:{$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},programmes:function(){var e=this,t={};try{t=this.params.data.programmes.filter((function(t){var a=t.date.split(" ")[0];return a==e.params.actualDate})),t=t[0]}catch(a){}return console.log("voici le programmes actual",t),t},pointages:function(){var e=this,t=[];try{var a=this.params.data.programmes.filter((function(t){var a=t.date.split(" ")[0];return a==e.params.actualDate}));t=a[0].preuves}catch(r){}return console.log("voici le programmes actual",t),t},isPresent:function(){return this.pointages.length>=1}},watch:{},created:function(){this.id="ListingsTraitements"+Date.now(),this.formId="Preuves_"+Date.now()},mounted:function(){console.log("voici les params ==>",this.params)},methods:{btnClickedHandler:function(){this.params.clicked(this.params.data)},addPresence:function(){var e=this;this.isLoading=!0;var t={};t.user_id=this.params.data.id_user,t.date_id=this.params.data.id_date,t.presence="oui",this.axios.post("/api/listingsetatsActionPresence",t).then((function(t){e.status="oui"})).finally((function(){e.isLoading=!1}))},addAbscence:function(){var e=this;this.isLoading=!0;var t={};t.user_id=this.params.data.id_user,t.date_id=this.params.data.id_date,t.presence="non",this.axios.post("/api/listingsetatsActionPresence",t).then((function(t){e.status="non"})).finally((function(){e.isLoading=!1}))},canAdmin:function(){return"manuel"==this.params.etats},closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},openCreate:function(){this.showForm("showDetailDay",{},this.gridApi)},detailDay:function(){console.log("voici les pointage ===>",this.pointages),this.showForm("showDetailDay",{},this.gridApi)},showForm:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=r,this.formState=e,this.formData=t,this.formGridApi=a,this.$bvModal.show(this.formId)}}},K=W,Q=(a("de6f"),Object(v["a"])(K,q,G,!1,null,null,null)),J=Q.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["showDetailDay"==e.formState?a("div",[e._v("Details")]):e._e(),"Remplacant"==e.formState?a("div",[e._v("Remplacement dun agent")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div")]},proxy:!0}])},["showDetailDay"==e.formState?a("div",[a("DetailDaysView",{key:e.programmes.id,attrs:{data:e.programmes}})],1):e._e(),"Remplacant"==e.formState?a("div",[a("h4",[e._v("L'agent "+e._s(e.agent)+" ne pourra etre la veuillez le remplacer en precisant la raison ")]),a("div",{staticClass:"form-group"},[a("label",[e._v("description ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],class:e.errors.description?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}}),e.errors.description?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.description,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("AgGridSearch",{attrs:{columnDefs:e.add.columnDefs,filterFields:["matricule","nom","prenom"],filterValue:[2],url:e.add.url,filterKey:"type"}}),a("div",{staticClass:"d-flex justify-content-between"},[a("button",{staticClass:"btn btn-primary",on:{click:function(t){return t.preventDefault(),e.saveRemplacement(t)}}},[e._v("Enregistrer le remplacant ")]),a("button",{staticClass:"btn btn-danger",on:{click:function(t){return t.preventDefault(),e.removeRemplacement(t)}}},[e._v("Supprimer le remplacement ")])])],1):e._e()]),a("b-overlay",{attrs:{show:e.isLoading}},[a("div",{staticClass:"parentListingsTraitements"},[a("div",[e.isPresent?a("button",{staticClass:"btn btn-success",on:{click:function(t){return e.detailDay()}}},[a("i",{staticClass:"fa-solid fa-lock"}),e._v("("+e._s(e.pointages.length)+")Pts ")]):a("button",{staticClass:"btn btn-danger",attrs:{disabled:""}},[a("i",{staticClass:"fa-solid fa-lock"}),e._v("("+e._s(e.pointages.length)+")Pts ")])]),e.isPresent?a("button",{staticClass:"btn btn-secondary",attrs:{disabled:e.canEdit},on:{click:function(t){return t.preventDefault(),e.addAbscence()}}},[e._v(" Declarer abscent ")]):a("button",{staticClass:"btn btn-secondary",attrs:{disabled:e.canEdit},on:{click:function(t){return t.preventDefault(),e.addPresence()}}},[e._v(" Declarer Present ")]),a("div",[e.remplacentUser?[a("button",{staticClass:"btn",attrs:{disabled:e.canEdit}},[e._v(e._s(e.remplacentUser))]),a("button",{staticClass:"btn btn-danger",attrs:{disabled:e.canEdit},on:{click:function(t){return t.preventDefault(),e.removeRemplacement()}}},[e._v(" supprimer ")])]:[a("button",{staticClass:"btn",attrs:{disabled:e.canEdit}},[e._v("Pas de remplacant")]),a("button",{staticClass:"btn btn-primary",attrs:{disabled:e.canEdit},on:{click:function(t){return t.preventDefault(),e.addRemplacant()}}},[e._v("Ajouter ")])]],2)])])],1)},Z=[],ee=(a("a4d3"),a("e01a"),a("99d2")),te={name:"ListingsTraitements",components:{DetailDaysView:H["a"],AgGridSearch:ee["a"],VSelect:m.a},props:[],data:function(){return{status:"non",isLoading:!1,cloturer:!1,oldPointages:[],updateOldPointages:0,newProgrammes:!1,newProgrammesData:{},formId:"programmations",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,remplacant:"",description:"",errors:[],usersData:[],remplacantkey:0,add:{formId:"listings",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/listings-Aggrid1",table:"Users",requette:18,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:100,cacheBlockSize:10,maxBlocksInCache:1,extrasData:{}}}},computed:{$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},programmes:function(){var e=this,t={};if(console.log("Pointages ==> voici letat actual",this.newProgrammes,this.newProgrammesData),this.newProgrammes)t=this.newProgrammesData;else try{t=this.params.data.programmes.filter((function(t){var a=t.date.split(" ")[0];return a==e.params.actualDate})),t=t[0]}catch(a){}return console.log("Programmes ==> voici le programmes actual",t),t},pointages:function(){var e=[];try{e=this.programmes.preuves}catch(t){}return console.log("Pointages ==> voici le pointages actual",e,this.programmes.preuves),e},isPresent:function(){return this.pointages.length>=1||null!=this.programmes.debut_realise&&""!=this.programmes.debut_realise||null!=this.programmes.fin_realise&&""!=this.programmes.fin_realise},agent:function(){return this.params.data.user.Selectlabel},remplacentUser:function(){return this.programmes.Remplacantuser},actualRemplacant:function(){var e="";return this.programmes.remplacant&&(e=this.programmes.remplacant),e},canEdit:function(){return this.params.data.programmation.valider2}},watch:{},created:function(){var e=this;this.id="ListingsTraitements"+Date.now(),this.formId="ListingsTraitements_"+Date.now();var t="non";"oui"==this.params.data.present&&(t="oui"),"manuel-cloturer"!=this.params.etats&&"automatique-cloturer"!=this.params.etats||(this.cloturer=!0),this.cloturer=!1,this.status=t,this.usersData=this.params.usersData,this.add.url=this.axios.defaults.baseURL+"/api/users-Aggrid1",this.add.rowBuffer=0,this.add.rowModelType="serverSide",this.add.cacheBlockSize=50,this.add.maxBlocksInCache=2,this.add.columnDefs=[{field:null,width:100,pinned:"left",suppressColumnsToolPanel:!0,sortable:!1,headerName:"",cellRendererSelector:function(t){var a={component:"AgGridBtnClicked",params:{clicked:function(t){e.SelectUser(t)},render:'<div class="" style="width:100%;height:100%;background:#2885a7;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  Select </div>'}};return a}},{field:"matricule",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"matricule"},{field:"nom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"nom"},{field:"prenom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"prenom"}]},mounted:function(){console.log("voici les params passer en props pour la mise en place manuel ==>",this.params)},methods:{btnClickedHandler:function(){this.params.clicked(this.params.data)},addPresence:function(){var e=this;console.log("voici le programme ===>",this.programmes),this.isLoading=!0,this.axios.post("/api/pointagesActionAddPresence",this.programmes).then((function(t){e.isLoading=!1,e.newProgrammes=!0,e.newProgrammesData=t.data})).catch((function(t){e.isLoading=!1,e.newProgrammes=!1,e.newProgrammesData={}}))},addAbscence:function(){var e=this;console.log("voici le programme ===>",this.programmes),this.isLoading=!0,this.axios.post("/api/pointages/action?action=addAbscence",this.programmes).then((function(t){e.isLoading=!1,e.newProgrammes=!0,e.newProgrammesData=t.data})).catch((function(t){e.isLoading=!1,e.newProgrammes=!1,e.newProgrammesData={}}))},canAdmin:function(){return"manuel"==this.params.etats},closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},openCreate:function(){this.showForm("showDetailDay",{},this.gridApi)},detailDay:function(){console.log("voici les pointage ===>",this.pointages),this.showForm("showDetailDay",{},this.gridApi)},addRemplacant:function(){this.remplacant=this.programmes.remplacant;try{this.description=this.programmes.extra_attributes.extras-data["description"]}catch(e){}this.remplacantkey++,this.showForm("Remplacant",{},this.gridApi)},saveRemplacement:function(){var e=this;if(""!=this.description){var t={remplacant:this.remplacant,description:this.description};this.axios.post("/api/programmes/"+this.programmes.id+"/update",t).then((function(t){e.newProgrammes=!0,e.newProgrammesData=t.data,e.$bvModal.hide(e.formId),e.addPresence(),e.$toast.success("Remplacant effectuer avec success")})).catch((function(t){e.$toast.error("Remplacant non enregistrer"),console.log(t.response.data)}))}else alert("Veuiller entrer une description")},removeRemplacement:function(){var e=this,t={remplacant:-1,description:""};this.axios.post("/api/programmes/"+this.programmes.id+"/update",t).then((function(t){e.newProgrammes=!0,e.newProgrammesData=t.data,e.$bvModal.hide(e.formId),e.addAbscence(),e.$toast.success("Remplacant effectuer avec success")})).catch((function(t){e.$toast.error("Remplacant non enregistrer"),console.log(t.response.data)}))},SelectUser:function(e){this.remplacant=e.id,this.saveRemplacement()},showForm:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=r,this.formState=e,this.formData=t,this.formGridApi=a,this.$bvModal.show(this.formId)}}},ae=te,re=(a("12d9"),Object(v["a"])(ae,X,Z,!1,null,"6f8245b0",null)),ie=re.exports,se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-overlay",{attrs:{show:e.isLoading}},[[a("button",{staticClass:"btn ",on:{click:function(t){return t.preventDefault(),e.addAbscence()}}},[e._v(" "+e._s(e.poste))])]],2)],1)},oe=[],ne={name:"PostesTraitements",components:{},props:[],data:function(){return{status:"non",isLoading:!1,cloturer:!1,oldPointages:[],updateOldPointages:0,newProgrammes:!1,newProgrammesData:{}}},computed:{$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},programmes:function(){var e=this,t={};if(console.log("Pointages ==> voici letat actual",this.newProgrammes,this.newProgrammesData),this.newProgrammes)t=this.newProgrammesData;else try{t=this.params.data.programmes.filter((function(t){var a=t.date.split(" ")[0];return a==e.params.actualDate})),t=t[0]}catch(a){}return console.log("Programmes ==> voici le programmes actual",t),t},poste:function(){var e="Afficher lancien poste par default ou celui du listing ";try{e=this.params.data.programmation.poste.Selectlabel}catch(t){}return e},pointages:function(){var e=[];try{e=this.programmes.preuves}catch(t){}return console.log("Pointages ==> voici le pointages actual",e,this.programmes.preuves),e},isPresent:function(){return this.pointages.length>=1}},watch:{},created:function(){this.id="ListingsTraitements"+Date.now();var e="non";"oui"==this.params.data.present&&(e="oui"),"manuel-cloturer"!=this.params.etats&&"automatique-cloturer"!=this.params.etats||(this.cloturer=!0),this.cloturer=!1,this.status=e},mounted:function(){console.log("voici les params passer en props pour la mise en place manuel ==>",this.params)},methods:{btnClickedHandler:function(){this.params.clicked(this.params.data)},addPresence:function(){var e=this;console.log("voici le programme ===>",this.programmes),this.isLoading=!0,this.axios.post("/api/pointagesActionAddPresence",this.programmes).then((function(t){e.isLoading=!1,e.newProgrammes=!0,e.newProgrammesData=t.data})).catch((function(t){e.isLoading=!1,e.newProgrammes=!1,e.newProgrammesData={}}))},addAbscence:function(){var e=this;console.log("voici le programme ===>",this.programmes),this.isLoading=!0,this.axios.post("/api/pointagesActionAddAbscence",this.programmes).then((function(t){e.isLoading=!1,e.newProgrammes=!0,e.newProgrammesData=t.data})).catch((function(t){e.isLoading=!1,e.newProgrammes=!1,e.newProgrammesData={}}))},canAdmin:function(){return"manuel"==this.params.etats}}},le=ne,ce=Object(v["a"])(le,se,oe,!1,null,null,null),de=ce.exports,ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",[a("b-overlay",{attrs:{show:e.isLoading}},[a("div",{staticClass:"parentListingsTraitements"},[e.isCheck?a("span",{staticClass:"fakeCheckBox cocher ",on:{click:function(t){return t.preventDefault(),e.addAbscence()}}}):a("span",{staticClass:"fakeCheckBox ",on:{click:function(t){return t.preventDefault(),e.addPresence()}}})])])],1)])},me=[],fe={name:"CountPresent",components:{VSelect:m.a},props:["data"],data:function(){return{isLoading:!1,pointage:null,heure:null,donnees:{},newProgrammes:!1,newProgrammesData:{},programme:{}}},mounted:function(){console.log("voici les donnees renvoyer",this.params.data),this.programme=this.params.data},computed:{programmes:function(){var e={};if(console.log("Pointages ==> voici letat actual",this.newProgrammes,this.newProgrammesData),this.newProgrammes)e=this.newProgrammesData;else try{e=this.params.data}catch(t){}return console.log("Programmes ==> voici le programmes actual",e),e},pointages:function(){var e=[];try{e=this.params.data.pointages_rattacher_auto,e=e.split(",")}catch(t){e=[]}return e=e.filter((function(e){return console.log("voici lelement a filtrer",e),null!=e&&""!=e})),e},isCheck:function(){var e="non",t=this.pointages,a=1;try{a=this.params.data.programmation.min_pointage}catch(r){a=1}t.length>=a&&(e="oui");try{""!=this.programme.presence_declarer_auto&&null!=this.programme.presence_declarer_auto&&void 0!=this.programme.presence_declarer_auto&&(e=this.programme.presence_declarer_auto)}catch(r){}try{""!=this.programme.presence_declarer_manuel&&null!=this.programme.presence_declarer_manuel&&void 0!=this.programme.presence_declarer_manuel&&(e=this.programme.presence_declarer_manuel)}catch(r){}return"oui"==e.toLowerCase()}},methods:{canUpdate:function(){var e=!0;try{e=this.params.data.programmation.valider2.length<1,console.log("voici letat de la programmation",this.params.data.programmation,e)}catch(t){e=!0}return e},addPresence:function(){var e=this;if(this.canUpdate()){this.isLoading=!0;var t={presence_declarer_manuel:"oui",debut_reel:this.programme.debut_prevu,fin_reel:this.programme.fin_prevu};this.axios.post("/api/programmes/"+this.programme.id+"/update",t).then((function(t){var a=["presence_declarer_manuel"];a.forEach((function(a){Object.keys(t).includes("data")&&Object.keys(t.data).includes(a)&&(e.programme[a]=t.data[a])})),e.$bvModal.hide(e.formId),e.$toast.success("Success"),e.isLoading=!1})).catch((function(t){e.$toast.success("Erreur"),e.isLoading=!1})).finally((function(t){e.isLoading=!1}))}else this.$toast.error("Impossible de modifier un listing deja valider par le chef de zone")},addAbscence:function(){var e=this;if(this.canUpdate()){this.isLoading=!0;var t={presence_declarer_manuel:"non",debut_reel:"",fin_reel:""};this.axios.post("/api/programmes/"+this.programme.id+"/update",t).then((function(t){var a=["presence_declarer_manuel"];a.forEach((function(a){Object.keys(t).includes("data")&&Object.keys(t.data).includes(a)&&(e.programme[a]=t.data[a])})),e.$toast.success("Success")})).catch((function(t){e.$toast.success("Erreur")})).finally((function(t){e.isLoading=!1}))}else this.$toast.error("Impossible de modifier un listing deja valider par le chef de zone")}}},pe=fe,he=(a("4f3a"),Object(v["a"])(pe,ue,me,!1,null,"651157b5",null)),ge=he.exports,ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-overlay",{attrs:{show:e.isLoading}},[a("div",[e._v(" "+e._s(e.poste)+" ")])])],1)},be=[],_e={name:"CheckPoste",components:{},props:[],data:function(){return{status:"non",isLoading:!1,cloturer:!1,oldPointages:[],updateOldPointages:0,newProgrammes:!1,newProgrammesData:{},formId:"programmations",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,remplacant:"",description:"",errors:[],usersData:[]}},computed:{$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},programmes:function(){var e=this,t={};if(console.log("Pointages ==> voici letat actual",this.newProgrammes,this.newProgrammesData),this.newProgrammes)t=this.newProgrammesData;else try{t=this.params.data.programmes.filter((function(t){var a=t.date.split(" ")[0];return a==e.params.actualDate})),t=t[0]}catch(a){}return console.log("Programmes ==> voici le programmes actual",t),t},poste:function(){var e="Non defini";try{e=this.params.data.horaire.poste.libelle}catch(t){}return e=e.split("/")[0],e}},watch:{},created:function(){this.id="ListingsTraitements"+Date.now(),this.formId="ListingsTraitements_"+Date.now()},mounted:function(){},methods:{}},ye=_e,De=(a("8fb4"),Object(v["a"])(ye,ve,be,!1,null,"ef4b5b3a",null)),we=De.exports,Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-overlay",{attrs:{show:e.isLoading}},[a("div",[e._v(" "+e._s(e.poste)+" ")])])],1)},xe=[],Se={name:"CheckPoste",components:{},props:[],data:function(){return{status:"non",isLoading:!1,cloturer:!1,oldPointages:[],updateOldPointages:0,newProgrammes:!1,newProgrammesData:{},formId:"programmations",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,remplacant:"",description:"",errors:[],usersData:[]}},computed:{$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},programmes:function(){var e=this,t={};if(console.log("Pointages ==> voici letat actual",this.newProgrammes,this.newProgrammesData),this.newProgrammes)t=this.newProgrammesData;else try{t=this.params.data.programmes.filter((function(t){var a=t.date.split(" ")[0];return a==e.params.actualDate})),t=t[0]}catch(a){}return console.log("Programmes ==> voici le programmes actual",t),t},poste:function(){var e="Non defini";try{e=this.params.data.horaire.poste.site.libelle}catch(t){}return e=e.split("/")[0],e}},watch:{},created:function(){this.id="ListingsTraitements"+Date.now(),this.formId="ListingsTraitements_"+Date.now()},mounted:function(){},methods:{}},Ae=Se,Pe=(a("a585"),Object(v["a"])(Ae,Ce,xe,!1,null,"79d73d10",null)),ke=Pe.exports,Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-overlay",{attrs:{show:e.isLoading}},[a("div",[e._v(" "+e._s(e.poste)+" ")])])],1)},Le=[],Fe={name:"CheckPoste",components:{},props:[],data:function(){return{status:"non",isLoading:!1,cloturer:!1,oldPointages:[],updateOldPointages:0,newProgrammes:!1,newProgrammesData:{},formId:"programmations",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,remplacant:"",description:"",errors:[],usersData:[]}},computed:{$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},poste:function(){var e="Non defini";try{e=this.params.data.horaire.poste.site.client.libelle}catch(t){}return e=e.split("/")[0],e}},watch:{},created:function(){this.id="ListingsTraitements"+Date.now(),this.formId="ListingsTraitements_"+Date.now()},mounted:function(){},methods:{}},Me=Fe,$e=(a("5307"),Object(v["a"])(Me,Oe,Le,!1,null,"0b3666f6",null)),Te=$e.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-overlay",{attrs:{show:e.isLoading}},[a("div",[e._v(" "+e._s(e.horaire)+" ")])])],1)},Ee=[],Re={name:"CheckPoste",components:{},props:[],data:function(){return{status:"non",isLoading:!1,cloturer:!1,oldPointages:[],updateOldPointages:0,newProgrammes:!1,newProgrammesData:{},formId:"programmations",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,remplacant:"",description:"",errors:[],usersData:[]}},computed:{$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},programmes:function(){var e=this,t={};if(console.log("Pointages ==> voici letat actual",this.newProgrammes,this.newProgrammesData),this.newProgrammes)t=this.newProgrammesData;else try{t=this.params.data.programmes.filter((function(t){var a=t.date.split(" ")[0];return a==e.params.actualDate})),t=t[0]}catch(a){}return console.log("Programmes ==> voici le programmes actual",t),t},horaire:function(){var e="Non defini";try{e=this.programmes.poste.horaire}catch(t){}return e}},watch:{},created:function(){this.id="ListingsTraitements"+Date.now(),this.formId="ListingsTraitements_"+Date.now()},mounted:function(){},methods:{}},je=Re,Ie=(a("e87b"),Object(v["a"])(je,Ye,Ee,!1,null,"775e7c5a",null)),Ne=Ie.exports,Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-overlay",{attrs:{show:e.isLoading}},[a("div",{staticClass:"parentElement"},[a("button",{class:e.isPresent?"btn btn-success":"btn btn-danger",staticStyle:{margin:"0",padding:"5px"},on:{click:function(t){return e.detailDay()}}},[a("i",{staticClass:"fa-solid fa-lock"}),e._v("("+e._s(e.pointages.length)+")Pts ")]),a("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["showDetailDay"==e.formState?a("div",[e._v("Details")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div")]},proxy:!0}])},[a("b-overlay",{attrs:{show:e.isLoading}},["showDetailDay"==e.formState?a("div",[a("DetailDaysView",{key:e.programme.id,attrs:{data:e.programme,formID:e.formId,programmationsuser:e.programme},on:{refresh:e.launchRefresh,"horaires-qualifies-updated":e.updateHorairesQualifies}})],1):e._e()])],1)],1)])},ze=[],Ue={name:"ListingsTraitements",components:{DetailDaysView:H["a"],AgGridSearch:ee["a"],VSelect:m.a},props:[],data:function(){return{status:"non",isLoading:!1,cloturer:!1,oldPointages:[],updateOldPointages:0,newProgrammes:!1,newProgrammesData:{},formId:"programmations",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,remplacant:"",description:"",errors:[],usersData:[],remplacantkey:0,horairesQualifiesParent:{},form:{},add:{formId:"listings",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/listings-Aggrid1",table:"Users",requette:18,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:100,cacheBlockSize:10,maxBlocksInCache:1,extrasData:{},programme:{}}}},computed:{$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},pointeuses:function(){var e=[];try{e=this.params.data.horaire.poste.pointeuses}catch(a){}var t=[];return e.forEach((function(e){t.push(e.id)})),t},pointages:function(){var e=[];try{e=this.params.data.pointages_rattacher_auto,e=e.split(",")}catch(t){e=[]}return e=e.filter((function(e){return console.log("voici lelement a filtrer",e),null!=e&&""!=e})),e},isPresent:function(){return this.pointages.length>=1||null!=this.params.data.debut_realise&&""!=this.params.data.debut_realise||null!=this.params.data.fin_realise&&""!=this.params.data.fin_realise},agent:function(){return this.params.data.user.Selectlabel},remplacentUser:function(){return this.params.data.Remplacantuser},actualRemplacant:function(){var e="";return this.params.data.remplacant&&(e=this.params.data.remplacant),e},canEdit:function(){return this.params.data.programmation.valider2}},watch:{},created:function(){var e=this;this.id="ListingsTraitements"+Date.now(),this.formId="ListingsTraitements_"+Date.now();var t="non";"oui"==this.params.data.present&&(t="oui"),"manuel-cloturer"!=this.params.etats&&"automatique-cloturer"!=this.params.etats||(this.cloturer=!0),this.cloturer=!1,this.status=t,this.usersData=this.params.usersData,this.add.url=this.axios.defaults.baseURL+"/api/users-Aggrid1",this.add.rowBuffer=0,this.add.rowModelType="serverSide",this.add.cacheBlockSize=50,this.add.maxBlocksInCache=2,this.add.columnDefs=[{field:null,width:100,pinned:"left",suppressColumnsToolPanel:!0,sortable:!1,headerName:"",cellRendererSelector:function(t){var a={component:"AgGridBtnClicked",params:{clicked:function(t){e.SelectUser(t)},render:'<div class="" style="width:100%;height:100%;background:#2885a7;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  Select </div>'}};return a}},{field:"matricule",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"matricule"},{field:"nom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"nom"},{field:"prenom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"prenom"}],this.programme=this.params.data},mounted:function(){console.log("voici les params passer en props pour la mise en place manuel ==>",this.params)},methods:{btnClickedHandler:function(){this.params.clicked(this.params.data)},addPresence:function(){var e=this;console.log("voici le programme ===>",this.params.data),this.isLoading=!0,this.axios.post("/api/pointagesActionAddPresence",this.params.data).then((function(t){e.isLoading=!1,e.newProgrammes=!0,e.newProgrammesData=t.data})).catch((function(t){e.isLoading=!1,e.newProgrammes=!1,e.newProgrammesData={}}))},addAbscence:function(){var e=this;console.log("voici le programme ===>",this.params.data),this.isLoading=!0,this.axios.post("/api/pointagesActionAddAbscence",this.params.data).then((function(t){e.isLoading=!1,e.newProgrammes=!0,e.newProgrammesData=t.data})).catch((function(t){e.isLoading=!1,e.newProgrammes=!1,e.newProgrammesData={}}))},canAdmin:function(){return"manuel"==this.params.etats},closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},openCreate:function(){this.showForm("showDetailDay",{},this.gridApi)},detailDay:function(){console.log("voici les pointage ===>",this.pointages),this.showForm("showDetailDay",{},this.gridApi,"xl")},addRemplacant:function(){this.remplacant=this.params.data.remplacant;try{this.description=this.params.data.extra_attributes.extras-data["description"]}catch(e){}this.remplacantkey++,this.showForm("Remplacant",{},this.gridApi)},saveRemplacement:function(){var e=this;if(""!=this.description){var t={remplacant:this.remplacant,description:this.description};this.axios.post("/api/programmes/"+this.params.data.id+"/update",t).then((function(t){e.newProgrammes=!0,e.newProgrammesData=t.data,e.$bvModal.hide(e.formId),e.addPresence(),e.$toast.success("Remplacant effectuer avec success")})).catch((function(t){e.$toast.error("Remplacant non enregistrer"),console.log(t.response.data)}))}else alert("Veuiller entrer une description")},removeRemplacement:function(){var e=this,t={remplacant:-1,description:""};this.axios.post("/api/programmes/"+this.params.data.id+"/update",t).then((function(t){e.newProgrammes=!0,e.newProgrammesData=t.data,e.$bvModal.hide(e.formId),e.addAbscence(),e.$toast.success("Remplacant effectuer avec success")})).catch((function(t){e.$toast.error("Remplacant non enregistrer"),console.log(t.response.data)}))},SelectUser:function(e){this.remplacant=e.id,this.saveRemplacement()},showForm:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=r,this.formState=e,this.formData=t,this.formGridApi=a,this.$bvModal.show(this.formId)},updateHorairesQualifies:function(e){this.horairesQualifiesParent=e,console.log("one veut qualifier lhoraire...this.horairesQualifiesParent",this.horairesQualifiesParent)},launchRefresh:function(e){this.params.api.refreshServerSide()},EditLine:function(){var e=this;this.isLoading=!0,this.form.qualification_horaire=this.horairesQualifiesParent,this.axios.post("/api/programmes/"+this.params.data.id+"/update",this.form).then((function(t){e.isLoading=!1,e.newProgrammes=!0,e.programme=t.data,e.$bvModal.hide(e.formId),e.$emit("close"),e.$toast.success("effectuer avec success")})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))}}},Ve=Ue,qe=(a("ae39"),Object(v["a"])(Ve,Be,ze,!1,null,"c883803e",null)),Ge=qe.exports,He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"parentElement"},[a("button",{staticClass:"btn",staticStyle:{margin:"0",padding:"0"},on:{click:function(t){return t.preventDefault(),e.addRemplacant()}}},[e._v(e._s(e.actualRemplacant))]),a("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["Remplacant"==e.formState?a("div",[e._v("Remplacement dun agent")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div")]},proxy:!0}])},["Remplacant"==e.formState?a("div",[a("div",{staticClass:"form-group"},[a("label",[e._v("Agents")]),a("CustomSelect",{key:e.remplacant,attrs:{columnDefs:["matricule","nom","prenom"],"filter-key":"baladeur","filter-value":this.params.listingId.toString(),oldValue:e.remplacantuser,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){e.remplacant=t.id,e.remplacantuser=t},url:e.axios.defaults.baseURL+"/api/users-Aggrid1"}})],1),a("div",{staticClass:"form-group"},[a("label",[e._v("Raison ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],class:e.errors.description?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}}),e.errors.description?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.description,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),e.canUpdate()?a("div",{staticClass:"d-flex justify-content-between"},[a("button",{staticClass:"btn btn-primary",on:{click:function(t){return t.preventDefault(),e.saveRemplacement(t)}}},[e._v("Valider")])]):e._e()]):e._e()])],1)},We=[],Ke={name:"ListingsTraitements",components:{AgGridSearch:ee["a"],VSelect:m.a,CustomSelect:c["a"]},props:[],data:function(){return{status:"non",isLoading:!1,cloturer:!1,oldPointages:[],updateOldPointages:0,newProgrammes:!1,newProgrammesData:{},formId:"programmations",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,remplacant:"",description:"",errors:[],usersData:[],remplacantkey:0,add:{formId:"listings",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/listings-Aggrid1",table:"Users",requette:18,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:100,cacheBlockSize:10,maxBlocksInCache:1,extrasData:{}}}},computed:{$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},programmes:function(){var e=this,t={};if(console.log("Pointages ==> voici letat actual",this.newProgrammes,this.newProgrammesData),this.newProgrammes)t=this.newProgrammesData;else try{t=this.params.data.programmes.filter((function(t){var a=t.date.split(" ")[0];return a==e.params.actualDate})),t=t[0]}catch(a){}return console.log("Programmes ==> voici le programmes actual",t),t},pointages:function(){var e=[];try{e=this.programmes.preuves}catch(t){}return console.log("Pointages ==> voici le pointages actual",e,this.programmes.preuves),e},isPresent:function(){return this.pointages.length>=1||null!=this.programmes.debut_realise&&""!=this.programmes.debut_realise||null!=this.programmes.fin_realise&&""!=this.programmes.fin_realise},agent:function(){return this.params.data.user.Selectlabel},actualRemplacant:function(){var e="Pas de remplacant";try{e=this.programmes.remplacant_user.Selectlabel}catch(t){}return e},canEdit:function(){return this.params.data.programmation.valider2}},watch:{},created:function(){this.id="ListingsTraitements"+Date.now(),this.formId="ListingsTraitements_"+Date.now()},mounted:function(){console.log("voici les params passer en props pour la mise en place manuel ==>",this.params)},methods:{btnClickedHandler:function(){this.params.clicked(this.params.data)},canAdmin:function(){return"manuel"==this.params.etats},canUpdate:function(){var e=!0;try{e=this.params.data.programmation.valider2.length<1}catch(t){e=!0}return e},closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},openCreate:function(){this.showForm("showDetailDay",{},this.gridApi)},detailDay:function(){console.log("voici les pointage ===>",this.pointages),this.showForm("showDetailDay",{},this.gridApi)},addRemplacant:function(){try{this.remplacant=this.programmes.remplacant,this.remplacantuser=this.programmes.remplacant_user,this.description=this.programmes.extra_attributes["extra-data"]["description"]}catch(e){}this.remplacantkey++,this.showForm("Remplacant",{},this.gridApi)},saveRemplacement:function(){var e=this;if(""!=this.description){var t={remplacant:this.remplacant,description:this.description};this.axios.post("/api/programmes/"+this.programmes.id+"/update",t).then((function(t){e.newProgrammes=!0,e.newProgrammesData=t.data,e.$bvModal.hide(e.formId),e.$toast.success("Remplacant effectuer avec success")})).catch((function(t){e.$toast.error("Remplacant non enregistrer"),console.log(t.response.data)}))}else alert("Veuiller preciser la raison ")},removeRemplacement:function(){var e=this,t={remplacant:-1,description:""};this.axios.post("/api/programmes/"+this.programmes.id+"/update",t).then((function(t){e.newProgrammes=!0,e.newProgrammesData=t.data,e.$bvModal.hide(e.formId),e.addAbscence(),e.$toast.success("Remplacant effectuer avec success")})).catch((function(t){e.$toast.error("Remplacant non enregistrer"),console.log(t.response.data)}))},SelectUser:function(e){this.remplacant=e.id,this.saveRemplacement()},showForm:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=r,this.formState=e,this.formData=t,this.formGridApi=a,this.$bvModal.show(this.formId)}}},Qe=Ke,Je=(a("58d5"),Object(v["a"])(Qe,He,We,!1,null,"92a4205e",null)),Xe=Je.exports,Ze={name:"Readprogrammes",props:["data","usersData","horairesData","filter","poste","periode"],components:{DataTable:s["a"],AgGridTable:o["a"],DataModal:R["a"],AgGridBtnClicked:j["a"],VSelect:m.a,CustomSelect:c["a"],Preuves:J,ListingsTraitements:ie,PostesTraitements:de,AgGridSearch:ee["a"],DeclarerPresents:ge,GetPoste:we,GetSite:ke,GetClient:Te,GetHoraire:Ne,GetRemplacant:Xe,GetPointages:Ge},data:function(){return{form:{client_id:"",poste_id:""},add:{user_id:0,date:{}},champsAfficher:[],errors:{},formId:"programmes",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/programmationsusers-Aggrid1",table:"programmationsusers",requette:1,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:25,cacheBlockSize:10,maxBlocksInCache:1,allData:[],statutsData:[],addListing:{formId:"listings",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/listings-Aggrid1",table:"Users",requette:18,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:100,cacheBlockSize:10,maxBlocksInCache:1,extrasData:{}}}},computed:{$domaine:function(){var e="supervizr";try{e=window.domaine}catch(t){}return console.log("voila le domaine ==>",e),e},$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},taille:function(){var e="col-sm-12";return this.filtre&&(e="col-sm-9"),e},periodes:function(){var e=[this.periode];return e},columnDefs:function(){var e=this,t=[{field:null,maxminWidth:80,maxWidth:80,pinned:"left",suppressColumnsToolPanel:!0,sortable:!1,headerName:"",cellRendererSelector:function(t){var a={component:"AgGridBtnClicked",params:{clicked:function(t){e.deleteUser(t)},render:'<button class="btn btn-warning" > <i class="fa-solid fa-trash "></i></button>'}};return a},floatingFilter:!0},{headerName:"programmes.id",field:"programmes.id",hide:!0,floatingFilter:!0},{headerName:"Horaires",hide:!0,field:"horaires.libelle",join:{table:"horaires",champ1:"programmes.horaire_id",champ2:"horaires.id",operateur:"="},filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"Postes",hide:this.isShow("Postes"),field:"postes.libelle",join:{table:"postes",champ1:"horaires.poste_id",champ2:"postes.id",operateur:"="},filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"programmations",hide:!0,field:"programmations.libelle",cellRendererSelector:function(t){return{component:"GetClient",params:{clicked:function(a){e.showForm("Update",a,t.api)},etats:"manuel",usersData:e.usersData}}},join:{table:"programmations",champ1:"programmes.programmation_id",champ2:"programmations.id",operateur:"="},filter:"agTextColumnFilter",floatingFilter:!0},{headerName:"Site",hide:this.isShow("Site"),filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},field:"sites.libelle",join:{table:"sites",champ1:"postes.site_id",champ2:"sites.id",operateur:"="},floatingFilter:!0},{headerName:"Client",hide:this.isShow("Client"),filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},field:"clients.libelle",join:{table:"clients",champ1:"sites.client_id",champ2:"clients.id",operateur:"="},floatingFilter:!0},{suppressColumnsToolPanel:!0,headerName:"Matricule",maxWidth:150,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},field:"user.matricule",join:{table:"users",tableAlias:"user",champ1:"programmes.user_id",champ2:"users.id",operateur:"="},floatingFilter:!0},{suppressColumnsToolPanel:!0,headerName:"Nom",filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},field:"user.nom",floatingFilter:!0},{suppressColumnsToolPanel:!0,headerName:"Prenom",filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},field:"user.prenom",floatingFilter:!0},{headerName:"Remplacant",hide:this.isShow("Remplacant"),field:null,cellRendererSelector:function(t){return{component:"GetRemplacant",params:{clicked:function(a){e.showForm("Update",a,t.api)},etats:"manuel",usersData:e.usersData,listingId:e.data.id}}},floatingFilter:!0},{headerName:"Pointages",field:null,minWidth:80,maxWidth:100,cellRendererSelector:function(t){return{component:"GetPointages",params:{clicked:function(a){e.showForm("Update",a,t.api)},etats:"manuel",usersData:e.usersData}}}},{headerName:"Presents ?",field:null,minWidth:80,maxWidth:100,cellRendererSelector:function(t){return{component:"DeclarerPresents",params:{clicked:function(a){e.showForm("Update",a,t.api)},etats:"manuel",usersData:e.usersData}}}},{headerName:"presence_declarer_auto",field:"presence_declarer_auto",hide:!0},{headerName:"presence_declarer_manuel",field:"presence_declarer_manuel",hide:!0},{headerName:"pointages_rattacher_auto",field:"pointages_rattacher_auto",hide:!0},{headerName:"pointages_rattacher_manuel",field:"pointages_rattacher_manuel",hide:!0},{headerName:"pointages_debut_auto",field:"pointages_debut_auto",hide:!0},{headerName:"pointages_debut_manuel",field:"pointages_debut_manuel",hide:!0},{headerName:"pointages_fin_auto",field:"pointages_fin_auto",hide:!0},{headerName:"pointages_fin_manuel",field:"pointages_fin_manuel",hide:!0},{headerName:"debut_prevu",field:"debut_prevu",hide:!0},{headerName:"fin_prevu",field:"fin_prevu",hide:!0},{headerName:"debut_reel",field:"debut_reel",hide:!0},{headerName:"fin_reel",field:"fin_reel",hide:!0},{headerName:"debut_realise",field:"debut_realise",hide:!0},{headerName:"fin_realise",field:"fin_realise",hide:!0}];return t},extrasData:function(){var e={};return e["programmes.programmation_id"]={values:[this.data.id],filterType:"set"},this.tableKey++,{baseFilter:e}},testData:function(){var e={};try{e=this.allData[0]}catch(t){}return e}},watch:{routeData:{handler:function(e,t){this.gridApi.setFilterModel(null),this.gridApi.refreshServerSide()},deep:!0},"form.client_id":{handler:function(e,t){this.form.poste_id=""},deep:!0},postesData:{handler:function(e,t){this.form.poste_id=e[0].id},deep:!0},clientsData:{handler:function(e,t){this.form.client_id=e[0].id},deep:!0}},created:function(){this.url=this.axios.defaults.baseURL+"/api/programmes-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2,this.requette,this.statutsData=["present","absent"]},beforeMount:function(){},mounted:function(){var e=this;this.addListing.url=this.axios.defaults.baseURL+"/api/users-Aggrid1",this.addListing.rowBuffer=0,this.addListing.rowModelType="serverSide",this.addListing.columnDefs=[{field:null,width:100,pinned:"left",suppressColumnsToolPanel:!0,sortable:!1,headerName:"",cellRendererSelector:function(t){var a={component:"AgGridBtnClicked",params:{clicked:function(t){e.addUser(t)},render:'<div class="btn btn-primary" style="width:100%;height:100%;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-pen-to-square "></i></div>'}};return a}},{field:"matricule",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"matricule"},{field:"nom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"nom"},{field:"prenom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"prenom"},{field:"num_badge",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"num_badge"}],this.addListing.cacheBlockSize=50,this.addListing.maxBlocksInCache=2},methods:{isShow:function(e){return this.champsAfficher.includes(e)},closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},openCreate:function(){this.showForm("Create",{},this.gridApi)},showForm:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=r,this.formState=e,this.formData=t,this.formGridApi=a,this.$bvModal.show(this.formId)},onGridReady:function(e){console.log("on demarre",e),this.gridApi=e.api,this.columnApi=e.columnApi,this.isLoading=!1,this.gridApi.sizeColumnsToFit()},showDate:function(e){return p()(e,"YYYY-MM-DD").locale("fr-fr").format("dddd")+" "+e},addAgent:function(){var e=this,t=[];Object.keys(this.add.date).forEach((function(a){t.push({programmation_id:e.data.id,user_id:e.add.user_id,date:a,horaire_id:e.add.date[a]})})),this.axios.post("/api/programmationsActionAddAgent",t).then((function(t){e.tableKey++,e.$bvModal.hide(e.formId),e.$toast.success("Operation effectuer avec succes")})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")})),console.log("voici la data de base",this.add,t)},deleteUser:function(e){var t=this;if(null==e.programmation.valider2){this.isLoading=!0;var a={};a.id=e.id,this.axios.post("/api/programmes/"+e.id+"/delete",a).then((function(e){t.isLoading=!1,t.tableKey++,t.$toast.success("Operation effectuer avec succes")})).catch((function(e){console.log("error lors de la suppression des users ==>",e),t.errors=e.response.data.errors,t.isLoading=!1,t.$toast.error("Erreur survenue lors de l'enregistrement")}))}else this.$toast.error("Impossible de modifier un listing deja valider par le chef de zone")},newData:function(e){this.allData=e.rowData},addUser:function(e){var t=this,a=[{programmation_id:this.data.id,user_id:e.id,date:this.periodes[0],horaire_id:this.poste.horaireId}];console.log("voici le programmes",a,e,this.testData),this.axios.post("/api/programmationsActionAddAgent",a).then((function(e){t.isLoading=!1,t.$toast.success("Operation effectuer avec succes"),t.userAdded++})).catch((function(e){console.log(e.response.data),t.$toast.error("Erreur survenue lors de la récuperation")}))},finishAddUser:function(){this.userAdded>0&&this.tableKey++,this.userAdded=0}}},et=Ze,tt=(a("47ba"),Object(v["a"])(et,U,V,!1,null,null,null)),at=tt.exports,rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"listesDesAgentsProgrammer"},[a("div",{staticClass:"row"},[a("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["Update"==e.formState?a("div",[e._v("Update Programmationsusers #"+e._s(e.formData.id))]):e._e(),"Create"==e.formState?a("div",[e._v("Create Programmationsusers")]):e._e(),"AddUsers"==e.formState?a("div",[e._v("Programmer un agent")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div")]},proxy:!0}])},["AddUsers"==e.formState?a("div",[a("form",{on:{submit:function(t){return t.preventDefault(),e.addAgent()}}},[a("div",{staticClass:"form-group"},[a("label",[e._v("users ")]),a("v-select",{attrs:{options:e.usersData,reduce:function(e){return e.id},label:"Selectlabel",required:""},model:{value:e.add.user_id,callback:function(t){e.$set(e.add,"user_id",t)},expression:"add.user_id"}}),e.errors.user_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.user_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1),e._l(e.periodes,(function(t){return a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.showDate(t))+" ")]),a("v-select",{attrs:{options:e.horairesData,reduce:function(e){return e.id},value:e.horairesData[0].id,label:"Selectlabel"},model:{value:e.add["date"][t],callback:function(a){e.$set(e.add["date"],t,a)},expression:"add['date'][date]"}}),e.errors.user_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.user_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1)})),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Créer ")])],2)]):e._e(),"AddUsersListings"==e.formState?a("AgGridSearch",{attrs:{columnDefs:e.addListing.columnDefs,extrasData:e.addListing.extrasData,filterFields:["nom","prenom","matricule"],url:e.addListing.url,"filter-key":"type","filter-value":"2"},on:{destruction:e.finishAddUser}}):e._e(),"CreateAgent"==e.formState?a("AgGridSearch",{attrs:{columnDefs:e.addTitulaire.columnDefs,extrasData:e.addTitulaire.extrasData,filterFields:["nom","prenom","matricule"],url:e.addTitulaire.url,"filter-key":"type","filter-value":"2"},on:{destruction:e.finishAddUser}}):e._e()],1),e._l(e.allProgrammesUsersForClient,(function(t){return a("div",{staticClass:"col-sm-12"},[a("div",{staticStyle:{display:"flex","justify-content":"space-between",padding:"10px"}},[a("button",{staticClass:"btn"},[e._v("Liste des agents du poste "),a("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(t.posteLibelle))])]),a("button",{staticClass:"btn btn-primary",on:{click:function(a){return e.openCreateAgent(t.posteId)}}},[a("i",{staticClass:"fa fa-plus"}),e._v(" Ajouter un agent ")])]),a("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefs,extrasData:e.getExtrasData(t),inCard:!1,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowHeight:50,rowModelType:e.rowModelType,"show-export":!1,sideBar:{},url:e.url,className:"ag-theme-alpine",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady,newData:e.newData},scopedSlots:e._u([{key:"header_buttons",fn:function(){},proxy:!0}],null,!0)})],1)}))],2),a("div",{staticClass:"container",staticStyle:{opacity:"0",heigth:"25px"}},[e._v("Espaceur")])])},it=[],st=(a("07ac"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-overlay",{attrs:{show:e.isLoading}},[a("div",[e._v(" "+e._s(e.poste)+" ")])])],1)}),ot=[],nt={name:"CheckPoste",components:{},props:[],data:function(){return{status:"non",isLoading:!1,cloturer:!1,oldPointages:[],updateOldPointages:0,newProgrammes:!1,newProgrammesData:{},formId:"programmations",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,remplacant:"",description:"",errors:[],usersData:[]}},computed:{$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},programmes:function(){var e=this,t={};if(console.log("Pointages ==> voici letat actual",this.newProgrammes,this.newProgrammesData),this.newProgrammes)t=this.newProgrammesData;else try{t=this.params.data.programmes.filter((function(t){var a=t.date.split(" ")[0];return a==e.params.actualDate})),t=t[0]}catch(a){}return console.log("Programmes ==> voici le programmes actual",t),t},pointages:function(){var e=[];try{e=this.programmes.preuves}catch(t){}return console.log("Pointages ==> voici le pointages actual",e,this.programmes.preuves),e},isPresent:function(){return this.pointages.length>=1},agent:function(){return this.params.data.user.Selectlabel},poste:function(){console.log("voici le programme de lagent",this.programmes);var e="";try{e=this.programmes.poste.Selectlabel}catch(t){}return e}},watch:{},created:function(){this.id="ListingsTraitements"+Date.now(),this.formId="ListingsTraitements_"+Date.now();var e="non";"oui"==this.params.data.present&&(e="oui"),"manuel-cloturer"!=this.params.etats&&"automatique-cloturer"!=this.params.etats||(this.cloturer=!0),this.cloturer=!1,this.status=e,this.usersData=this.params.usersData},mounted:function(){},methods:{addPresence:function(){var e=this;console.log("voici le programme addPresence===>",this.programmes),this.isLoading=!0,this.axios.post("/api/pointagesActionAddPresence",this.programmes).then((function(t){e.isLoading=!1,e.newProgrammes=!0,e.newProgrammesData=t.data})).catch((function(t){e.isLoading=!1,e.newProgrammes=!1,e.newProgrammesData={}}))},addAbscence:function(){var e=this;console.log("voici le programme ===>",this.programmes),this.isLoading=!0,this.axios.post("/api/pointagesActionAddAbscence",this.programmes).then((function(t){e.isLoading=!1,e.newProgrammes=!0,e.newProgrammesData=t.data})).catch((function(t){e.isLoading=!1,e.newProgrammes=!1,e.newProgrammesData={}}))},canAdmin:function(){return"manuel"==this.params.etats},closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},openCreate:function(){this.showForm("showDetailDay",{},this.gridApi)},detailDay:function(){console.log("voici les pointage ===>",this.pointages),this.showForm("showDetailDay",{},this.gridApi)},addRemplacant:function(){this.showForm("Remplacant",{},this.gridApi)},saveRemplacement:function(){},showForm:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=r,this.formState=e,this.formData=t,this.formGridApi=a,this.$bvModal.show(this.formId)}}},lt=nt,ct=(a("8260"),Object(v["a"])(lt,st,ot,!1,null,"f9fc8860",null)),dt=ct.exports,ut={name:"Readprogrammesusers",props:["horairesData","filter"],components:{DataTable:s["a"],AgGridTable:o["a"],DataModal:R["a"],AgGridBtnClicked:j["a"],VSelect:m.a,CustomSelect:c["a"],Preuves:J,ListingsTraitements:ie,PostesTraitements:de,AgGridSearch:ee["a"],CheckPoste:dt},data:function(){return{data:{},add:{user_id:0,date:{}},errors:{},formId:"programmationsusers",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/programmationsusers-Aggrid1",table:"programmationsusers",requette:1,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:100,cacheBlockSize:10,maxBlocksInCache:1,allData:[],usersData:[],addListing:{formId:"listings",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/listings-Aggrid1",table:"Users",requette:18,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:100,cacheBlockSize:10,maxBlocksInCache:1,extrasData:{}},addTitulaire:{formId:"listings",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/listings-Aggrid1",table:"Users",requette:18,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:100,cacheBlockSize:10,maxBlocksInCache:1,extrasData:{}},clients:{},actualPoste:0}},computed:{$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},taille:function(){var e="col-sm-12";return this.filtre&&(e="col-sm-9"),e},periodes:function(){var e=p()(this.data.date_debut,"YYYY-MM-DD"),t=p()(this.data.date_fin,"YYYY-MM-DD"),a=[e.format("YYYY-MM-DD")],r=!0,i=0,s=t.diff(e,"days");if(s>0)while(r){var o=a[a.length-1];o=p()(o,"YYYY-MM-DD");var n=o.add(1,"days");console.log("voici la date  actual ==>",o,n.format("YYYY-MM-DD")),a.push(n.format("YYYY-MM-DD")),0==t.diff(o,"days")||30==i?r=!1:i++}return console.log("voici la date ==>",e,t,this.data,this.data.date_fin),console.log("voici la dates collecter ==>",a,i),a},allProgrammesUsersForClient:function(){var e=this.params.data.id,t=this.data.Allclients[e];return Object.values(t)},columnDefs:function(){var e=this,t=[{field:"user.matricule",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"matricule",maxWidth:150},{field:"user.nom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"nom",maxWidth:150},{field:"user.prenom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"prenom",maxWidth:150},{field:"user.num_badge",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"num_badge",maxWidth:150}];return 1==this.periodes.length&&this.periodes.forEach((function(a){var r=[];r.push({headerName:"Poste",field:"user.Selectlabel",maxWidth:150,cellRendererSelector:function(t){return{component:"CheckPoste",params:{clicked:function(a){e.showForm("Update",a,t.api)},actualDate:a,etats:"manuel",usersData:e.usersData}}}}),r.push({headerName:"Etat",field:"user.Selectlabel",cellRendererSelector:function(t){return{component:"ListingsTraitements",params:{clicked:function(a){e.showForm("Update",a,t.api)},actualDate:a,etats:"manuel",usersData:e.usersData}}}}),r.forEach((function(e){return t.push(e)}))})),t},extrasData:function(){var e={};return e["programmation_id"]={values:[this.data.id],filterType:"set"},Array.isArray(this.filter)&&(e["user_id"]={values:this.filter,filterType:"set"}),{baseFilter:e,client_id:this.params.data.id,programmation_id:this.data.id}},testData:function(){var e={};try{e=this.allData[0]}catch(t){}return e}},watch:{routeData:{handler:function(e,t){this.gridApi.setFilterModel(null),this.gridApi.refreshServerSide()},deep:!0}},created:function(){console.log("userListings==>",this.params.api),this.url=this.axios.defaults.baseURL+"/api/programmationsusers-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2,this.requette,this.data=this.params.api.__parentParams,this.clients=this.data.AllClients,this.usersData=this.params.api.__usersData},beforeMount:function(){},mounted:function(){var e=this;this.addListing.url=this.axios.defaults.baseURL+"/api/users-Aggrid1",this.addListing.rowBuffer=0,this.addListing.rowModelType="serverSide",this.addListing.columnDefs=[{field:null,width:100,pinned:"left",suppressColumnsToolPanel:!0,sortable:!1,headerName:"",cellRendererSelector:function(t){var a={component:"AgGridBtnClicked",params:{clicked:function(t){e.addUser(t)},render:'<div class="btn btn-primary" style="width:100%;height:100%;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-pen-to-square "></i></div>'}};return a}},{field:"matricule",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"matricule"},{field:"nom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"nom"},{field:"prenom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"prenom"},{field:"num_badge",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"num_badge"}],this.addListing.cacheBlockSize=50,this.addListing.maxBlocksInCache=2,this.addTitulaire.rowModelType="serverSide",this.addTitulaire.url=this.axios.defaults.baseURL+"/api/users-Aggrid1",this.addTitulaire.columnDefs=[{field:null,width:100,pinned:"left",suppressColumnsToolPanel:!0,sortable:!1,headerName:"",cellRendererSelector:function(t){var a={component:"AgGridBtnClicked",params:{clicked:function(t){e.addUser1(t)},render:'<div class="btn btn-primary" style="width:100%;height:100%;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-pen-to-square "></i></div>'}};return a}},{field:"matricule",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"matricule"},{field:"nom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"nom"},{field:"prenom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"prenom"},{field:"num_badge",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"num_badge"}],this.addTitulaire.cacheBlockSize=50,this.addTitulaire.maxBlocksInCache=2,console.log("voici les data passer en parametre 1",this.data)},methods:{getExtrasData:function(e){var t={};return t["id"]={values:e.programmationsUser,filterType:"set"},{baseFilter:t}},closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},openCreate:function(){this.showForm("Create",{},this.gridApi)},openCreateAgent:function(e){this.actualPoste=e,this.showForm("CreateAgent",{},this.gridApi)},showForm:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=r,this.formState=e,this.formData=t,this.formGridApi=a,this.$bvModal.show(this.formId)},onGridReady:function(e){console.log("on demarre",e),this.gridApi=e.api,this.columnApi=e.columnApi,this.isLoading=!1,this.gridApi.sizeColumnsToFit()},showDate:function(e){return p()(e,"YYYY-MM-DD").locale("fr-fr").format("dddd")+" "+e},addAgent:function(){var e=this,t=[];Object.keys(this.add.date).forEach((function(a){t.push({programmation_id:e.data.id,user_id:e.add.user_id,date:a,tache_id:e.add.date[a]})})),this.axios.post("/api/programmationsActionAddAgent",t).then((function(t){e.tableKey++,e.$bvModal.hide(e.formId),e.$toast.success("Operation effectuer avec succes")})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")})),console.log("voici la data de base",this.add,t)},deleteUser:function(e){var t=this;this.isLoading=!0;var a={};a.id=e.id,console.log("suppression dagent du listing ===>",a),this.axios.post("/api/programmationsusers/"+e.id+"/delete",a).then((function(e){t.isLoading=!1,t.tableKey++,t.$toast.success("Operation effectuer avec succes")})).catch((function(e){console.log("error lors de la suppression des users ==>",e),t.errors=e.response.data.errors,t.isLoading=!1,t.$toast.error("Erreur survenue lors de l'enregistrement")}))},newData:function(e){this.allData=e.rowData},addUser:function(e){var t=this;console.log("voici les donnees ===>",e,this.testData);var a=this.testData.programmes.map((function(a){var r={programmation_id:t.testData.programmation_id,user_id:e.id,date:a.date,tache_id:a.horaire_id};return r}));console.log("voici le programmes",a,e,this.testData),this.axios.post("/api/programmationsActionAddAgent",a).then((function(e){t.isLoading=!1,t.$toast.success("Operation effectuer avec succes"),t.userAdded++})).catch((function(e){console.log(e.response.data),t.$toast.error("Erreur survenue lors de la récuperation")}))},addUser1:function(e){var t=this,a=this.data.id,r=this.periodes,i=e.id,s=this.actualPoste;console.log("voici les donnees des titulaire a rajouter ===>",a,r,i);var o={programmation_id:a,titulaire_id:i,periodes:r,poste:s};this.axios.post("/api/programmationsActionAddTitulaire",o).then((function(e){t.isLoading=!1,t.$toast.success("Operation effectuer avec succes"),t.userAdded++})).catch((function(e){console.log(e.response.data),t.$toast.error("Erreur survenue lors de la récuperation")}))},finishAddUser:function(){this.userAdded>0&&this.tableKey++,this.userAdded=0}}},mt=ut,ft=(a("b596"),Object(v["a"])(mt,rt,it,!1,null,null,null)),pt=ft.exports,ht=a("095b"),gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["Update"==e.formState?a("div",[e._v("Update Clients #"+e._s(e.formData.id))]):e._e(),"Create"==e.formState?a("div",[e._v("Create Clients")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div")]},proxy:!0}])},["Update"==e.formState?a("EditClients",{key:e.formKey,attrs:{data:e.formData,gridApi:e.formGridApi,modalFormId:e.formId},on:{close:e.closeForm}}):e._e(),"Create"==e.formState?a("CreateClients",{key:e.formKey,attrs:{gridApi:e.formGridApi,modalFormId:e.formId},on:{close:e.closeForm}}):e._e()],1),a("div",{staticClass:"col-sm-12"},[a("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefs,detailCellRenderer:e.detailCellRenderer,extrasData:e.extrasData,inCard:!1,masterDetail:!0,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,sideBar:{},url:e.url,className:"ag-theme-alpine",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady},scopedSlots:e._u([{key:"header_buttons",fn:function(){return[e.$routeData.meta.hideCreate?e._e():a("div",{staticClass:"btn btn-primary",on:{click:e.openCreate}},[a("i",{staticClass:"fa fa-plus"}),e._v(" Nouveau ")])]},proxy:!0}])})],1)],1)},vt=[],bt=(a("99af"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-overlay",{attrs:{show:e.isLoading}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.createLine()}}},[a("div",{staticClass:"mb-3"},[a("div",{staticClass:"form-group"},[a("label",[e._v("code ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.code,expression:"form.code"}],class:e.errors.code?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.code},on:{input:function(t){t.target.composing||e.$set(e.form,"code",t.target.value)}}}),e.errors.code?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.code,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v("libelle ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.libelle,expression:"form.libelle"}],class:e.errors.libelle?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.libelle},on:{input:function(t){t.target.composing||e.$set(e.form,"libelle",t.target.value)}}}),e.errors.libelle?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.libelle,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()])]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Créer ")])])])}),_t=[],yt={name:"CreateClients",components:{VSelect:m.a,CustomSelect:c["a"],Files:d["a"]},props:["gridApi","modalFormId"],data:function(){return{errors:[],isLoading:!1,form:{id:"",code:"",libelle:"",created_at:"",updated_at:"",extra_attributes:"",deleted_at:""}}},methods:{createLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/clients",this.form).then((function(t){e.isLoading=!1,e.resetForm(),e.gridApi.applyServerSideTransaction({add:[t.data]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$emit("close"),e.$toast.success("Operation effectuer avec succes"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},resetForm:function(){this.form={id:"",code:"",libelle:"",created_at:"",updated_at:"",extra_attributes:"",deleted_at:""}}}},Dt=yt,wt=Object(v["a"])(Dt,bt,_t,!1,null,null,null),Ct=wt.exports,xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-overlay",{attrs:{show:e.isLoading}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.EditLine()}}},[a("div",{staticClass:"mb-3"},[a("div",{staticClass:"form-group"},[a("label",[e._v("code ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.code,expression:"form.code"}],class:e.errors.code?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.code},on:{input:function(t){t.target.composing||e.$set(e.form,"code",t.target.value)}}}),e.errors.code?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.code,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v("libelle ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.libelle,expression:"form.libelle"}],class:e.errors.libelle?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.libelle},on:{input:function(t){t.target.composing||e.$set(e.form,"libelle",t.target.value)}}}),e.errors.libelle?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.libelle,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()])]),a("div",{staticClass:"d-flex justify-content-between"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Mettre à jour ")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.DeleteLine()}}},[a("i",{staticClass:"fas fa-close"}),e._v(" Supprimer ")])])])])},St=[],At={name:"EditClients",components:{VSelect:m.a,CustomSelect:c["a"],Files:d["a"]},props:["data","gridApi","modalFormId"],data:function(){return{errors:[],isLoading:!1,form:{id:"",code:"",libelle:"",created_at:"",updated_at:"",extra_attributes:"",deleted_at:""}}},mounted:function(){this.form=this.data},methods:{EditLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/clients/"+this.form.id+"/update",this.form).then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({update:[t.data]}),e.$bvModal.hide(e.modalFormId),e.$emit("close"),e.$toast.success("Operation effectuer avec succes"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},DeleteLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/clients/"+this.form.id+"/delete").then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({remove:[e.form]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$emit("close"),e.$toast.success("Operation effectuer avec succes"),console.log(t.data)})).catch((function(t){console.log(t.response.data),e.isLoading=!1,e.$toast.error("Erreur survenue lors de la suppression")}))}}},Pt=At,kt=Object(v["a"])(Pt,xt,St,!1,null,null,null),Ot=kt.exports,Lt={name:"ClientsView",components:{DataTable:s["a"],AgGridTable:o["a"],ReadProgrammesUsersListings:pt,CreateClients:Ct,EditClients:Ot,DataModal:R["a"],AgGridBtnClicked:j["a"]},props:["parent","data","usersData"],data:function(){return{formId:"clients",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/clients-Aggrid1",table:"clients",requette:0,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:100,cacheBlockSize:10,maxBlocksInCache:1,detailCellRenderer:null}},computed:{$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},taille:function(){var e="col-sm-12";return this.filtre&&(e="col-sm-9"),e},extrasData:function(){var e={};return e["id"]={values:this.parent,filterType:"set"},{baseFilter:e}}},watch:{$route:{handler:function(e,t){this.gridApi.setFilterModel(null),this.gridApi.refreshServerSide(),this.tableKey++},deep:!0}},created:function(){this.url=this.axios.defaults.baseURL+"/api/clients-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2},beforeMount:function(){this.columnDefs=[{field:"id",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},hide:!0,headerName:"#Id"},{field:null,headerName:"",width:10,pinned:"left",cellRenderer:"agGroupCellRenderer",maxWidth:50},{field:"libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"",valueFormatter:function(e){var t="";try{var a;t="Client : ".concat(e.data.id," ").concat(null!==(a=e.data.code)&&void 0!==a?a:""," ").concat(e.data.libelle)}catch(r){}return t}}]},mounted:function(){this.requette,this.detailCellRenderer="ReadProgrammesUsersListings"},methods:{openCreate:function(){this.showForm("Create",{},this.gridApi)},closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},showForm:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=r,this.formState=e,this.formData=t,this.formGridApi=a,this.$bvModal.show(this.formId)},onGridReady:function(e){console.log("on demarre",e),this.gridApi=e.api,this.columnApi=e.columnApi,this.isLoading=!1,this.gridApi.__parentParams=this.data,this.gridApi.__usersData=this.usersData,this.gridApi.sizeColumnsToFit()}}},Ft=Lt,Mt=Object(v["a"])(Ft,gt,vt,!1,null,null,null),$t=Mt.exports,Tt=a("e774"),Yt={name:"EditProgrammations",components:{VSelect:m.a,CustomSelect:c["a"],Files:d["a"],Managesprogrammesusers:z,ClientsView:$t,Readprogrammes:at,StatisticCardHorizontal:ht["a"],ReadProgrammesUsersListings:pt},props:["data","gridApi","modalFormId","tachesData","usersData"],data:function(){return{errors:[],validationsData:[],isLoading:!1,form:{id:"",libelle:"",description:"",date_debut:"",date_fin:"",tache_id:"",user_id:"",statut:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:"",identifiants_sadge:"",PresentsId:[],AbscentsId:[],Allclients:[],Allclients1:[]},horairesData:[],DateListing:null,filter:!1,tableKey:0,clients:"",clientsSelectioner:[],actualPeriode:""}},computed:{$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},valider1Text:function(){var e=" 1er etape de validation";return"programmations"!=this.form.type&&(e="Valider 1"),e},valider2Text:function(){var e=" 2eme etape de validation";return"programmations"!=this.form.type&&(e="Valider 2"),e},clientsData:function(){var e=[];try{e=this.form.Allclients.map((function(e){return{id:e.clientId,Selectlabel:e.clientLibelle}})),e=Object(T["a"])(new Map(e.map((function(e){return[e["id"],e]}))).values())}catch(t){}return console.log("voici les clients ",e),e},postesData:function(){var e=this,t=0;try{t=this.form.Allclients.length}catch(r){t=0}var a=[];try{a=this.form.Allclients.filter((function(t){return e.clientsSelectioner.includes(t.clientId)})).map((function(e){return{id:e.posteId,Selectlabel:e.posteLibelle,horaireId:e.horaireId}})),a=Object(T["a"])(new Map(a.map((function(e){return[e["id"],e]}))).values())}catch(r){}return 0==a.length&&0==t&&a.push({id:0}),a},periodes:function(){var e=p()(this.data.date_debut,"YYYY-MM-DD"),t=p()(this.data.date_fin,"YYYY-MM-DD"),a=[e.format("YYYY-MM-DD")],r=!0,i=0,s=t.diff(e,"days");if(s>0)while(r){var o=a[a.length-1];o=p()(o,"YYYY-MM-DD");var n=o.add(1,"days");console.log("voici la date  actual ==>",o,n.format("YYYY-MM-DD")),a.push(n.format("YYYY-MM-DD")),0==t.diff(o,"days")||30==i?r=!1:i++}return console.log("voici la date ==>",e,t,this.data,this.data.date_fin),console.log("voici la dates collecter ==>",a,i),a},periodesSelectionner:function(){var e=this.actualPeriode;return""==e&&(e=this.periodes[0]),e}},watch:{filter:{handler:function(e,t){this.tableKey++},deep:!0}},mounted:function(){this.form=this.data,this.DateListing=this.form.date_debut.split(" ")[0],console.log("this.DateListing",this.DateListing,this.form.date_debut),this.form.Allclients=[],this.form.Allclients1=[],this.form["date_debut"]=this.form["date_debut"].split(" ")[0],this.form["date_fin"]=this.form["date_fin"].split(" ")[0],this.analyseData(),this.validationsData=["client","interne","operationnel"],this.gethoraires()},methods:{selectPeriode:function(e){this.actualPeriode=e},potentielValideur1:function(){var e=[];try{e.push(this.form.user.Selectlabel),e.push(this.form.user2.Selectlabel)}catch(t){}return e.join(" ou ")},potentielValideur2:function(){var e=[];try{e.push(this.form.user3.Selectlabel),e.push(this.form.user4.Selectlabel)}catch(t){}return e.join(" ou ")},analyseData:function(){this.isLoading=!0;var e={startRow:0,endRow:100,rowGroupCols:[],valueCols:[],pivotCols:[],pivotMode:!1,groupKeys:[],filterModel:{},sortModel:[],id:[this.form.id]},t=this;this.axios.post("/api/programmations-Aggrid1",e).then((function(e){t.form=e.data.rowData[0],console.log("recu",t.form),t.form.Allclients=JSON.parse(t.form.Allclients),t.form.Allclients1=Object.keys(t.form.Allclients),t.form["date_debut"]=t.form["date_debut"].split(" ")[0],t.form["date_fin"]=t.form["date_fin"].split(" ")[0],console.log("recu 1",t.form),t.isLoading=!1})).catch((function(e){t.isLoading=!1}))},selectClient:function(e){this.clientsSelectioner.includes(e)?this.clientsSelectioner=this.clientsSelectioner.filter((function(t){return t!=e})):this.clientsSelectioner.push(e)},imprimer:function(){function e(e){return"img"!==e.tagName}var t=document.getElementById("listing".concat(this.form.id));Tt["a"](t,{filter:e}).then((function(e){var t=window.open("");t.document.write('<img src="'+e+'" onload="window.print();window.close()" />'),t.focus()})).catch((function(e){console.error("oops, something went wrong!",e)}))},Validation1:function(){var e=this,t=new Date,a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),r=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),i=a+" "+r;this.form.valider1=i,this.isLoading=!0,this.axios.post("/api/programmations/"+this.form.id+"/update",this.form).then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({update:[t.data]}),e.$bvModal.hide(e.modalFormId),e.$emit("close"),e.$toast.success("Operation effectuer avec succes")})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},Validation2:function(){var e=this,t=new Date,a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),r=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),i=a+" "+r;this.form.valider2=i,this.isLoading=!0,this.axios.post("/api/programmations/"+this.form.id+"/update",this.form).then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({update:[t.data]}),e.$bvModal.hide(e.modalFormId),e.$emit("close"),e.$toast.success("Operation effectuer avec succes")})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},launchImpression:function(){"programmations"!=this.form.type?this.Imprimer():this.ImprimerProgrammation()},Imprimer:function(){var e=this;this.isLoading=!0,this.axios.post("/api/imprimme-listing",this.form).then((function(t){e.isLoading=!1,window.open(t.data,"_blank"),e.$toast.success("Operation effectuer avec succes")})).catch((function(t){e.errors=t,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},ImprimerProgrammation:function(){var e=this;this.isLoading=!0,this.axios.post("/api/imprimme-Programmation",this.form).then((function(t){e.isLoading=!1,window.open(t.data,"_blank"),e.$toast.success("Operation effectuer avec succes")})).catch((function(t){e.errors=t,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},launchPrint:function(e){var t=this._printIframe;this._printIframe||(t=this._printIframe=document.createElement("iframe"),document.body.appendChild(t),t.style.display="none",t.onload=function(){setTimeout((function(){t.focus(),t.contentWindow.print()}),1)}),t.src=e},closeForm:function(){this.$bvModal.hide(this.modalFormId)},EditLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/programmations/"+this.form.id+"/update",this.form).then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({update:[t.data]}),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},ValideLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/programmations/"+this.form.id+"/update",{statut:"valider"}).then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({update:[t.data]}),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},DeleteLine:function(){var e=this;this.isLoading=!0,this.axios.post("/api/programmations/"+this.form.id+"/delete").then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({remove:[e.form]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$toast.success("Operation effectuer avec succes"),e.$emit("close"),console.log(t.data)})).catch((function(t){console.log(t.response.data),e.isLoading=!1,e.$toast.error("Erreur survenue lors de la suppression")}))},DuplicateLine:function(){},gethoraires:function(){var e=this,t={startRow:0,endRow:100,rowGroupCols:[],valueCols:[],pivotCols:[],pivotMode:!1,groupKeys:[],filterModel:{parent:{filterType:"text",type:"contains",filter:"tache"},parentId:{filterType:"text",type:"contains",filter:this.data.tache_id}},sortModel:[]};this.axios.post("/api/horaires-Aggrid1",t).then((function(t){e.requette--,e.requette,e.horairesData=t.data["rowData"],console.log("=>horairesData",e.horairesData)})).catch((function(e){console.log(e.response.data)}))},checkAbscents:function(){this.filter?this.filter=!1:this.filter=this.form.Abscentsid},checkPresents:function(){this.filter?this.filter=!1:this.filter=this.form.Presentsid},count:function(){var e=this;this.axios.get("/api/programmations/id/"+this.form.id).then((function(t){e.requette--,0==e.requette&&e.$store.commit("setIsLoading",!1),e.Presents=t.data[0].Presents,e.Abscents=t.data[0].Abscents})).catch((function(t){console.log(t.response.data),e.$store.commit("setIsLoading",!1),e.$toast.error("Erreur survenue lors de la récuperation")}))}}},Et=Yt,Rt=(a("f3ca"),Object(v["a"])(Et,M,$,!1,null,null,null)),jt=Rt.exports,It=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-overlay",{attrs:{show:e.isLoading}},["valider1"==e.valider?[a("form",{on:{submit:function(t){return t.preventDefault(),e.EditLine()}}},[a("h5",{staticClass:"text-center text-uppercase"},[e._v("Cette action n'est pas reversible confirmer vous la validation???")]),a("div",{staticClass:"mt-2 d-flex justify-content-between"},[a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" confirmer ")]),a("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.closeForm()}}},[a("i",{staticClass:"fas fa-close"}),e._v(" Annuler ")])])])]:e._e(),"valider2"==e.valider?[a("form",{on:{submit:function(t){return t.preventDefault(),e.EditLine2()}}},[a("h5",{staticClass:"text-center text-uppercase"},[e._v("Cette action n'est pas reversible confirmer vous la validation???")]),a("div",{staticClass:"mt-2 d-flex justify-content-between"},[a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" confirmer ")]),a("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.closeForm()}}},[a("i",{staticClass:"fas fa-close"}),e._v(" Annuler ")])])])]:e._e()],2)},Nt=[],Bt={name:"validation",props:["data","gridApi","modalFormId","valider"],data:function(){return{errors:[],isLoading:!1,form:{}}},mounted:function(){this.form=this.data},methods:{EditLine:function(){var e=this,t=new Date,a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),r=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),i=a+" "+r;this.form.valider1=i,this.isLoading=!0,this.axios.post("/api/programmations/"+this.form.id+"/update",this.form).then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({update:[t.data]}),e.$bvModal.hide(e.modalFormId),e.$emit("close"),e.$toast.success("Operation effectuer avec succes")})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},EditLine2:function(){var e=this,t=new Date,a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),r=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),i=a+" "+r;this.form.valider2=i,this.isLoading=!0,this.axios.post("/api/programmations/"+this.form.id+"/update",this.form).then((function(t){e.isLoading=!1,e.gridApi.applyServerSideTransaction({update:[t.data]}),e.$bvModal.hide(e.modalFormId),e.$emit("close"),e.$toast.success("Operation effectuer avec succes")})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},closeForm:function(){this.$bvModal.hide(this.modalFormId)}}},zt=Bt,Ut=Object(v["a"])(zt,It,Nt,!1,null,null,null),Vt=Ut.exports,qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-overlay",{attrs:{show:e.isLoading}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.createLine()}}},[a("div",{staticClass:"mb-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group  col-sm-3"},[a("label",[e._v("libelle ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.libelle,expression:"form.libelle"}],class:e.errors.libelle?"form-control is-invalid":"form-control",attrs:{type:"text"},domProps:{value:e.form.libelle},on:{input:function(t){t.target.composing||e.$set(e.form,"libelle",t.target.value)}}}),e.errors.libelle?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.libelle,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"form-group  col-sm-3"},[a("label",[e._v("date ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.date,expression:"form.date"}],class:e.errors.date?"form-control is-invalid":"form-control",attrs:{type:"date"},domProps:{value:e.form.date},on:{input:function(t){t.target.composing||e.$set(e.form,"date",t.target.value)}}}),e.errors.date?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.date,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"form-group  col-sm-3"},[a("label",[e._v("Superviseur ")]),a("v-select",{class:e.errors.user?"form-select is-invalid":"form-select",attrs:{options:e.usersData,reduce:function(e){return e.id},label:"Selectlabel"},model:{value:e.form.user,callback:function(t){e.$set(e.form,"user",t)},expression:"form.user"}}),e.errors.user?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.user,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1),a("div",{staticClass:"form-group  col-sm-3"},[a("label",[e._v("Type de listing ")]),a("v-select",{attrs:{options:e.typeslistingData},model:{value:e.form.etats,callback:function(t){e.$set(e.form,"etats",t)},expression:"form.etats"}}),e.errors.etats?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.etats,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1)]),a("div",{staticClass:"form-group"},[a("label",[e._v("Users")]),a("div",{staticClass:"col-sm-12"},[a("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefs,extrasData:e.extrasData,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,"show-export":!1,"show-pagination":!1,url:e.url,className:"ag-theme-alpine","dom-layout":"normal",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady,newData:e.newData}})],1)])]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Créer ")])])])},Gt=[],Ht={name:"CreateListingsjours",components:{VSelect:m.a,CustomSelect:c["a"],Files:d["a"],AgGridTable:o["a"]},props:["gridApi","modalFormId","actifsData","balisesData","categoriesData","contratsData","directionsData","echelonsData","factionsData","fonctionsData","matrimonialesData","nationalitesData","onlinesData","postesData","sexesData","sitesData","situationsData","typesData","usersData","villesData","zonesData"],data:function(){return{errors:[],isLoading:!1,form:{id:"",libelle:"",date:"",etats:"",user:"",users:[],extra_attributes:"",created_at:"",updated_at:"",deleted_at:""},defaultEntite:"User",formId:"users",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/users-Aggrid1",table:"users",requette:9,columnDefs:null,rowData:null,gridApi1:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:20,cacheBlockSize:10,maxBlocksInCache:1,extrasData:{},agGridData:null,typeslistingData:["automatique","declaratif"]}},computed:{$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e}},created:function(){"automatique"==this.$routeData.meta.listing&&(this.form.etats="automatique"),this.url=this.axios.defaults.baseURL+"/api/users-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2;var e={type:{values:[2],filterType:"set"}};this.extrasData["baseFilter"]=e,this.extrasData["selectAllId"]=1},beforeMount:function(){var e=this;this.columnDefs=[{field:"nom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"nom"},{field:"prenom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"prenom"},{field:"matricule",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"matricule"},{field:"num_badge",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"badge"},{field:"date_naissance",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"date de naissance",valueFormatter:function(e){var t=e.value;try{t=e.value.split(" ")[0]}catch(a){}return t}},{headerName:"balise",field:"balise_id",valueFormatter:function(e){var t="";try{return e.data["balise"]["Selectlabel"]}catch(a){}return t},filter:"agSetColumnFilter",filterParams:{suppressAndOrCondition:!0,keyCreator:function(e){return e.value.id},valueFormatter:function(e){return e.value.Selectlabel},values:function(t){t.success(e.balisesData)},refreshValuesOnOpen:!0}},{headerName:"categorie",field:"categorie_id",valueFormatter:function(e){var t="";try{return e.data["categorie"]["Selectlabel"]}catch(a){}return t},filter:"agSetColumnFilter",filterParams:{suppressAndOrCondition:!0,keyCreator:function(e){return e.value.id},valueFormatter:function(e){return e.value.Selectlabel},values:function(t){t.success(e.categoriesData)},refreshValuesOnOpen:!0}},{headerName:"contrat",field:"contrat_id",valueFormatter:function(e){var t="";try{return e.data["contrat"]["Selectlabel"]}catch(a){}return t},filter:"agSetColumnFilter",filterParams:{suppressAndOrCondition:!0,keyCreator:function(e){return e.value.id},valueFormatter:function(e){return e.value.Selectlabel},values:function(t){t.success(e.contratsData)},refreshValuesOnOpen:!0}},{headerName:"direction",field:"direction_id",valueFormatter:function(e){var t="";try{return e.data["direction"]["Selectlabel"]}catch(a){}return t},filter:"agSetColumnFilter",filterParams:{suppressAndOrCondition:!0,keyCreator:function(e){return e.value.id},valueFormatter:function(e){return e.value.Selectlabel},values:function(t){t.success(e.directionsData)},refreshValuesOnOpen:!0}},{headerName:"faction",field:"faction_id",valueFormatter:function(e){var t="";try{return e.data["faction"]["Selectlabel"]}catch(a){}return t},filter:"agSetColumnFilter",filterParams:{suppressAndOrCondition:!0,keyCreator:function(e){return e.value.id},valueFormatter:function(e){return e.value.Selectlabel},values:function(t){t.success(e.factionsData)},refreshValuesOnOpen:!0}},{headerName:"fonction",field:"fonction_id",valueFormatter:function(e){var t="";try{return e.data["fonction"]["Selectlabel"]}catch(a){}return t},filter:"agSetColumnFilter",filterParams:{suppressAndOrCondition:!0,keyCreator:function(e){return e.value.id},valueFormatter:function(e){return e.value.Selectlabel},values:function(t){t.success(e.fonctionsData)},refreshValuesOnOpen:!0}},{headerName:"matrimoniale",field:"matrimoniale_id",valueFormatter:function(e){var t="";try{return e.data["matrimoniale"]["Selectlabel"]}catch(a){}return t},filter:"agSetColumnFilter",filterParams:{suppressAndOrCondition:!0,keyCreator:function(e){return e.value.id},valueFormatter:function(e){return e.value.Selectlabel},values:function(t){t.success(e.matrimonialesData)},refreshValuesOnOpen:!0}},{headerName:"nationalite",field:"nationalite_id",valueFormatter:function(e){var t="";try{return e.data["nationalite"]["Selectlabel"]}catch(a){}return t},filter:"agSetColumnFilter",filterParams:{suppressAndOrCondition:!0,keyCreator:function(e){return e.value.id},valueFormatter:function(e){return e.value.Selectlabel},values:function(t){t.success(e.nationalitesData)},refreshValuesOnOpen:!0}},{headerName:"poste",field:"poste_id",valueFormatter:function(e){var t="";try{return e.data["poste"]["Selectlabel"]}catch(a){}return t},filter:"agSetColumnFilter",filterParams:{suppressAndOrCondition:!0,keyCreator:function(e){return e.value.id},valueFormatter:function(e){return e.value.Selectlabel},values:function(t){t.success(e.postesData)},refreshValuesOnOpen:!0}},{headerName:"site",field:"site_id",valueFormatter:function(e){var t="";try{return e.data["site"]["Selectlabel"]}catch(a){}return t},filter:"agSetColumnFilter",filterParams:{suppressAndOrCondition:!0,keyCreator:function(e){return e.value.id},valueFormatter:function(e){return e.value.Selectlabel},values:function(t){t.success(e.sitesData)},refreshValuesOnOpen:!0}},{headerName:"situation",field:"situation_id",valueFormatter:function(e){var t="";try{return e.data["situation"]["Selectlabel"]}catch(a){}return t},filter:"agSetColumnFilter",filterParams:{suppressAndOrCondition:!0,keyCreator:function(e){return e.value.id},valueFormatter:function(e){return e.value.Selectlabel},values:function(t){t.success(e.situationsData)},refreshValuesOnOpen:!0}},{headerName:"ville",field:"ville_id",valueFormatter:function(e){var t="";try{return e.data["ville"]["Selectlabel"]}catch(a){}return t},filter:"agSetColumnFilter",filterParams:{suppressAndOrCondition:!0,keyCreator:function(e){return e.value.id},valueFormatter:function(e){return e.value.Selectlabel},values:function(t){t.success(e.villesData)},refreshValuesOnOpen:!0}},{headerName:"zone",field:"zone_id",valueFormatter:function(e){var t="";try{return e.data["zone"]["Selectlabel"]}catch(a){}return t},filter:"agSetColumnFilter",filterParams:{suppressAndOrCondition:!0,keyCreator:function(e){return e.value.id},valueFormatter:function(e){return e.value.Selectlabel},values:function(t){t.success(e.zonesData)},refreshValuesOnOpen:!0}}];var t="User";try{t=this.$routeData.meta.defaultEntite}catch(a){}this.defaultEntite=t},methods:{onGridReady:function(e){console.log("on demarre",e),this.gridApi1=e.api,this.columnApi=e.columnApi,this.isLoading=!1},newData:function(e){this.agGridData=e},createLine:function(){var e=this;console.log("form==>",this.form);try{this.form["users"]=this.agGridData["__allId"]}catch(t){}this.isLoading=!0,this.axios.post("/api/listingsjours",this.form).then((function(t){e.isLoading=!1,e.resetForm(),e.gridApi.applyServerSideTransaction({add:[t.data]}),e.gridApi.refreshServerSide(),e.$bvModal.hide(e.modalFormId),e.$emit("close"),e.$toast.success("Operation effectuer avec succes"),console.log(t.data)})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},resetForm:function(){this.form={id:"",libelle:"",date:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:""}}}},Wt=Ht,Kt=Object(v["a"])(Wt,qt,Gt,!1,null,null,null),Qt=Kt.exports,Jt=a("d2e9"),Xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._v(" "+e._s(e.present)+" ")])},Zt=[],ea={name:"CountPresent",components:{VSelect:m.a},props:["data"],data:function(){return{isLoading:!1,pointage:null,heure:null,donnees:{}}},mounted:function(){console.log("voici les donnees renvoyer",this.params.data)},computed:{present:function(){var e="fin";return e}},methods:{}},ta=ea,aa=Object(v["a"])(ta,Xt,Zt,!1,null,"367fa16a",null),ra=aa.exports,ia={name:"ProgrammationsView",components:{DataTable:s["a"],AgGridTable:o["a"],CreateProgrammations:_,EditProgrammations:jt,DataModal:R["a"],AgGridBtnClicked:j["a"],CreateListingsjours:Qt,CreateHebdoProgrammations:S,DuplicateHebdoProgrammations:F,validation:Vt,CustomFiltre:Jt["a"],CountPresents:ra},data:function(){return{formId:"programmations",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,url:"http://127.0.0.1:8000/api/programmations-Aggrid1",table:"programmations",tachesData:[],requette:2,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:100,cacheBlockSize:10,maxBlocksInCache:1,zoneselectionner:[],zonesget:[],actifsData:[],balisesData:[],categoriesData:[],contratsData:[],directionsData:[],echelonsData:[],factionsData:[],fonctionsData:[],matrimonialesData:[],nationalitesData:[],onlinesData:[],postesData:[],sexesData:[],sitesData:[],situationsData:[],typesData:[],usersData:[],villesData:[],zonesData:[],validationsData:["non traité","Validater 1","Validater 2"],jourselectioner:null,page:null,valider:"validation"}},computed:{$domaine:function(){var e="supervizr";try{e=window.domaine}catch(t){}return console.log("voila le domaine ==>",e),e},$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},taille:function(){var e="col-sm-12";return this.filtre&&(e="col-sm-9"),e},extrasData:function(){var e={};return this.jourselectioner&&(e["programmations.date_debut"]={value:this.jourselectioner,filterType:"startWith"}),"listings"==this.page||("listingsval1"==this.page?(e["programmations.valider1"]={values:[this.horaireId],filterType:"blank"},e["programmations.valider2"]={values:[this.horaireId],filterType:"blank"}):"listingsval2"==this.page&&(e["programmations.valider1"]={values:[this.horaireId],filterType:"notBlank"},e["programmations.valider2"]={values:[this.horaireId],filterType:"blank"})),this.tableKey++,{baseFilter:e}}},watch:{routeData:{handler:function(e,t){this.gridApi.setFilterModel(null),this.gridApi.refreshServerSide()},deep:!0}},created:function(){this.url=this.axios.defaults.baseURL+"/api/programmations-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2},beforeMount:function(){var e=this;this.$routeData.meta.isProgrammations&&(this.columnDefs=[{field:null,headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(a){e.showForm("Update",a,t.api,"xl")},render:'<div class="btn btn-primary" style="width:100%;height:100%;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-pen-to-square "></i></div>'}}}},{field:null,headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(a){e.showForm("Duplicate",a,t.api,"lg")},render:'<div class="" style="width:100%;height:100%;background:#2885a7;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-copy "></i></div>'}}}},{field:"libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"libelle",hide:this.$routeData.meta.isListingsPoste},{field:"date_debut",sortable:!0,headerName:"jour",valueFormatter:function(e){var t=e.value;try{t=e.value.split(" ")[0]}catch(a){}return t}},{field:"date_fin",sortable:!0,headerName:"date_fin",valueFormatter:function(e){var t=e.value;try{t=e.value.split(" ")[0]}catch(a){}return t}},{headerName:"tache",field:"tache.Selectlabel"},{hide:!0,suppressColumnsToolPanel:!0,headerName:"tache",field:"tache_id",valueFormatter:function(e){var t="";try{return e.data["tache"]["Selectlabel"]}catch(a){}return t},filter:"CustomFiltre",filterParams:{url:this.axios.defaults.baseURL+"/api/taches-Aggrid1",columnDefs:[{field:"",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"",cellStyle:{fontSize:"11px"},valueFormatter:function(e){var t="";try{return"".concat(e.data["Selectlabel"])}catch(a){}return t}}],filterFields:["libelle"]}},{field:"created_at",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"Créer le",valueFormatter:function(e){var t=e.value;try{t=p()(e.value).format("DD/MM/YYYY à HH:mm")}catch(a){}return t}}]),this.$routeData.meta.isRapports&&(this.columnDefs=[{field:null,headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(a){e.showForm("Update",a,t.api,"xl")},render:'<div class="btn btn-primary" style="width:100%;height:100%;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-pen-to-square "></i></div>'}}}},{field:"libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"libelle",hide:this.$routeData.meta.isListingsPoste},{field:"created_at",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"Créer le",valueFormatter:function(e){var t=e.value;try{t=p()(e.value).format("DD/MM/YYYY à HH:mm")}catch(a){}return t}}]),this.$routeData.meta.isListings&&(this.columnDefs=[{field:null,headerName:"",suppressCellSelection:!0,minWidth:80,maxWidth:80,pinned:"left",cellRendererSelector:function(t){return{component:"AgGridBtnClicked",params:{clicked:function(a){e.showForm("Update",a,t.api,"xl")},render:'<div class="btn btn-primary" style="width:100%;height:100%;color:#fff;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-pen-to-square "></i></div>'}}}},{field:"programmations.id",minWidth:120,maxWidth:120,sortable:!0,hide:!0},{field:"programmations.min_pointage",minWidth:120,maxWidth:120,sortable:!0,hide:!0},{field:"zones.id",minWidth:120,maxWidth:120,sortable:!0,filter:"FiltreEntete",filterParams:{url:this.axios.defaults.baseURL+"/api/zones-Aggrid1",columnDefs:[{field:"",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"",cellStyle:{fontSize:"11px"},valueFormatter:function(e){var t="";try{return"".concat(e.data["Selectlabel"])}catch(a){}return t}}],filterFields:["libelle"]},headerName:"Zones",join:{table:"zones",champ2:"zones.id",champ1:"programmations.zone_id",operateur:"="}},{field:"date_debut",minWidth:120,maxWidth:120,headerName:"date ",valueFormatter:function(e){var t=e.value;try{t=e.value.split(" ")[0]}catch(a){}return t}},{field:"programmations.libelle",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"Libelle"},{field:"Presents",headerName:"Prs",suppressCellSelection:!0,maxWidth:85},{field:"Abscents",headerName:"Abs",suppressCellSelection:!0,maxWidth:85},{headerName:"valideur1",field:"user.nom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},join:{table:"users",tableAlias:"user",champ2:"users.id",champ1:"programmations.valideur_1",operateur:"="}},{headerName:"Validation 1",field:"valider1",sortable:!0,valueFormatter:function(e){var t=e.value;try{t=t?p()(e.value).format("DD/MM/YYYY à HH:mm"):"Non Validé"}catch(a){}return t}},{headerName:"valideur2",field:"user2.nom",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},join:{table:"users",tableAlias:"user2",champ2:"users.id",champ1:"programmations.valideur_2",operateur:"="}},{headerName:"validation",suppressColumnsToolPanel:!0,suppressFilter:this.$routeData.meta.validation,field:"valider2",valueFormatter:function(e){var t=e.value;try{t=t?p()(e.value).format("DD/MM/YYYY à HH:mm"):"Non Validé"}catch(a){}return t},filter:"agSetColumnFilter"},{headerName:"statut",suppressColumnsToolPanel:!0,suppressFilter:this.$routeData.meta.validation,hide:!0,field:"statut"}])},mounted:function(){this.requette>0&&(this.zonesget=this.$routeData.meta.zonesGet,this.$routeData.meta.validation||this.$routeData.meta.isProgrammationsvalid?this.page="listings":this.$routeData.meta.validation1?this.page="listingsval1":this.$routeData.meta.validation2?this.page="listingsval2":this.page="listingsval3");(new Date).toISOString().slice(0,11)},methods:{valider1:function(){this.valider="valider1"},valider2:function(){this.valider="valider2"},closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},openCreate:function(){this.showForm("Create",{},this.gridApi)},openListings:function(){this.showForm("CreateListings",{},this.gridApi,"xl")},showForm:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=r,this.formState=e,this.formData=t,this.formGridApi=a,this.$bvModal.show(this.formId)},onGridReady:function(e){console.log("on demarre",e),this.gridApi=e.api,this.columnApi=e.columnApi,this.isLoading=!1,this.gridApi.sizeColumnsToFit()},gettaches:function(){var e=this;this.axios.get("/api/taches").then((function(t){e.requette--,e.requette,e.tachesData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getusers:function(){var e=this;this.axios.get("/api/users/type/2,3").then((function(t){e.requette--,e.requette,e.usersData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getactifs:function(){var e=this;this.axios.get("/api/actifs").then((function(t){e.requette--,e.requette,e.actifsData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getbalises:function(){var e=this;this.axios.get("/api/balises").then((function(t){e.requette--,e.requette,e.balisesData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getcategories:function(){var e=this;this.axios.get("/api/categories").then((function(t){e.requette--,e.requette,e.categoriesData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getcontrats:function(){var e=this;this.axios.get("/api/contrats").then((function(t){e.requette--,e.requette,e.contratsData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getdirections:function(){var e=this;this.axios.get("/api/directions").then((function(t){e.requette--,e.requette,e.directionsData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getechelons:function(){var e=this;this.axios.get("/api/echelons").then((function(t){e.requette--,e.requette,e.echelonsData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getfactions:function(){var e=this;this.axios.get("/api/factions").then((function(t){e.requette--,e.requette,e.factionsData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getfonctions:function(){var e=this;this.axios.get("/api/fonctions").then((function(t){e.requette--,e.requette,e.fonctionsData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getmatrimoniales:function(){var e=this;this.axios.get("/api/matrimoniales").then((function(t){e.requette--,e.requette,e.matrimonialesData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getnationalites:function(){var e=this;this.axios.get("/api/nationalites").then((function(t){e.requette--,e.requette,e.nationalitesData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getonlines:function(){var e=this;this.axios.get("/api/onlines").then((function(t){e.requette--,e.requette,e.onlinesData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getpostes:function(){var e=this;this.axios.get("/api/postes").then((function(t){e.requette--,e.requette,e.postesData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getsexes:function(){var e=this;this.axios.get("/api/sexes").then((function(t){e.requette--,e.requette,e.sexesData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getsites:function(){var e=this;this.axios.get("/api/sites").then((function(t){e.requette--,e.requette,e.sitesData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getsituations:function(){var e=this;this.axios.get("/api/situations").then((function(t){e.requette--,e.requette,e.situationsData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},gettypes:function(){var e=this;this.axios.get("/api/types").then((function(t){e.requette--,e.requette,e.typesData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getvilles:function(){var e=this;this.axios.get("/api/villes").then((function(t){e.requette--,e.requette,e.villesData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},getzones:function(){var e=this;this.axios.get("/api/zones").then((function(t){e.requette--,e.requette,e.zonesData=t.data})).catch((function(t){console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")}))},zoneselect:function(e){if(this.zoneselectionner.includes(e)){var t=this.zoneselectionner.indexOf(e);-1!==t&&this.zoneselectionner.splice(t,1)}else this.zoneselectionner.push(e);this.extrasData1.zoneselectionner=this.zoneselectionner}}},sa=ia,oa=Object(v["a"])(sa,r,i,!1,null,null,null);t["default"]=oa.exports},"18ae5":function(e,t,a){},"1c59":function(e,t,a){"use strict";var r=a("6d61"),i=a("6566");r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},"205f":function(e,t,a){"use strict";a.d(t,"a",(function(){return Y}));var r=a("2b0e"),i=a("b42e"),s=a("c637"),o=a("a723"),n=a("9b76"),l=a("8690"),c=a("365c"),d=a("d82f"),u=a("cf75"),m=a("d580"),f=a("6197");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v=Object(u["d"])(Object(d["m"])(h(h({},Object(u["a"])(m["a"],u["f"].bind(null,"header"))),{},{header:Object(u["c"])(o["p"]),headerClass:Object(u["c"])(o["d"]),headerHtml:Object(u["c"])(o["p"])})),s["l"]),b=r["default"].extend({name:s["l"],functional:!0,props:v,render:function(e,t){var a,r=t.props,s=t.data,o=t.children,n=r.headerBgVariant,c=r.headerBorderVariant,d=r.headerTextVariant;return e(r.headerTag,Object(i["a"])(s,{staticClass:"card-header",class:[r.headerClass,(a={},g(a,"bg-".concat(n),n),g(a,"border-".concat(c),c),g(a,"text-".concat(d),d),a)],domProps:o?{}:Object(l["a"])(r.headerHtml,r.header)}),o)}});function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){D(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function D(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var w=Object(u["d"])(Object(d["m"])(y(y({},Object(u["a"])(m["a"],u["f"].bind(null,"footer"))),{},{footer:Object(u["c"])(o["p"]),footerClass:Object(u["c"])(o["d"]),footerHtml:Object(u["c"])(o["p"])})),s["k"]),C=r["default"].extend({name:s["k"],functional:!0,props:w,render:function(e,t){var a,r=t.props,s=t.data,o=t.children,n=r.footerBgVariant,c=r.footerBorderVariant,d=r.footerTextVariant;return e(r.footerTag,Object(i["a"])(s,{staticClass:"card-footer",class:[r.footerClass,(a={},D(a,"bg-".concat(n),n),D(a,"border-".concat(c),c),D(a,"text-".concat(d),d),a)],domProps:o?{}:Object(l["a"])(r.footerHtml,r.footer)}),o)}}),x=a("4918");function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){P(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function P(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var k=Object(u["d"])(Object(d["m"])(A(A({},Object(d["k"])(x["b"],["src","alt","width","height","left","right"])),{},{bottom:Object(u["c"])(o["f"],!1),end:Object(u["c"])(o["f"],!1),start:Object(u["c"])(o["f"],!1),top:Object(u["c"])(o["f"],!1)})),s["m"]),O=r["default"].extend({name:s["m"],functional:!0,props:k,render:function(e,t){var a=t.props,r=t.data,s=a.src,o=a.alt,n=a.width,l=a.height,c="card-img";return a.top?c+="-top":a.right||a.end?c+="-right":a.bottom?c+="-bottom":(a.left||a.start)&&(c+="-left"),e("img",Object(i["a"])(r,{class:c,attrs:{src:s,alt:o,width:n,height:l}}))}});function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach((function(t){M(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function M(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var $=Object(u["a"])(k,u["f"].bind(null,"img"));$.imgSrc.required=!1;var T=Object(u["d"])(Object(d["m"])(F(F(F(F(F(F({},f["b"]),v),w),$),m["a"]),{},{align:Object(u["c"])(o["p"]),noBody:Object(u["c"])(o["f"],!1)})),s["i"]),Y=r["default"].extend({name:s["i"],functional:!0,props:T,render:function(e,t){var a,r=t.props,s=t.data,o=t.slots,d=t.scopedSlots,m=r.imgSrc,p=r.imgLeft,h=r.imgRight,g=r.imgStart,_=r.imgEnd,y=r.imgBottom,D=r.header,x=r.headerHtml,S=r.footer,A=r.footerHtml,P=r.align,k=r.textVariant,L=r.bgVariant,F=r.borderVariant,T=d||{},Y=o(),E={},R=e(),j=e();if(m){var I=e(O,{props:Object(u["e"])($,r,u["h"].bind(null,"img"))});y?j=I:R=I}var N=e(),B=Object(c["a"])(n["k"],T,Y);(B||D||x)&&(N=e(b,{props:Object(u["e"])(v,r),domProps:B?{}:Object(l["a"])(x,D)},Object(c["b"])(n["k"],E,T,Y)));var z=Object(c["b"])(n["f"],E,T,Y);r.noBody||(z=e(f["a"],{props:Object(u["e"])(f["b"],r)},z),r.overlay&&m&&(z=e("div",{staticClass:"position-relative"},[R,z,j]),R=e(),j=e()));var U=e(),V=Object(c["a"])(n["j"],T,Y);return(V||S||A)&&(U=e(C,{props:Object(u["e"])(w,r),domProps:B?{}:Object(l["a"])(A,S)},Object(c["b"])(n["j"],E,T,Y))),e(r.tag,Object(i["a"])(s,{staticClass:"card",class:(a={"flex-row":p||g,"flex-row-reverse":(h||_)&&!(p||g)},M(a,"text-".concat(P),P),M(a,"bg-".concat(L),L),M(a,"border-".concat(F),F),M(a,"text-".concat(k),k),a)}),[R,N,z,U,j])}})},3393:function(e,t,a){},"384f":function(e,t,a){"use strict";var r=a("e330"),i=a("5388"),s=a("cb27"),o=s.Set,n=s.proto,l=r(n.forEach),c=r(n.keys),d=c(new o).next;e.exports=function(e,t,a){return a?i({iterator:c(e),next:d},t):l(e,t)}},"47ba":function(e,t,a){"use strict";a("d617")},4968:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return d}));var r=a("2b0e"),i=a("b42e"),s=a("c637"),o=a("a723"),n=a("cf75"),l=a("fa73"),c=Object(n["d"])({title:Object(n["c"])(o["p"]),titleTag:Object(n["c"])(o["p"],"h4")},s["p"]),d=r["default"].extend({name:s["p"],functional:!0,props:c,render:function(e,t){var a=t.props,r=t.data,s=t.children;return e(a.titleTag,Object(i["a"])(r,{staticClass:"card-title"}),s||Object(l["e"])(a.title))}})},"4a1f":function(e,t,a){},"4ec9":function(e,t,a){"use strict";a("6f48")},"4f3a":function(e,t,a){"use strict";a("12d3")},"4f67":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-overlay",{attrs:{show:e.isLoading}},[a("div",{key:e.tableKey,staticClass:"row"},[a("b-modal",{attrs:{id:e.formId,size:e.formWidth},scopedSlots:e._u([{key:"modal-title",fn:function(){return["Update"==e.formState?a("div",[e._v("Update Preuves #"+e._s(e.formData.id))]):e._e(),"Create"==e.formState?a("div",[e._v("Create Preuves")]):e._e()]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div")]},proxy:!0}])}),a("div",{staticClass:"col-sm-3"},[a("label",[e._v("matricule ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.programme.user.matricule,expression:"programme.user.matricule"}],class:e.errors.matricule?"programme-control is-invalid":"form-control",attrs:{disabled:""},domProps:{value:e.programme.user.matricule},on:{input:function(t){t.target.composing||e.$set(e.programme.user,"matricule",t.target.value)}}}),e.errors.matricule?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.matricule,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"col-sm-3"},[a("label",[e._v("nom ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.programme.user.nom,expression:"programme.user.nom"}],class:e.errors.nom?"programme-control is-invalid":"form-control",attrs:{disabled:""},domProps:{value:e.programme.user.nom},on:{input:function(t){t.target.composing||e.$set(e.programme.user,"nom",t.target.value)}}}),e.errors.nom?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.nom,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"col-sm-3"},[a("label",[e._v("prenom ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.programme.user.prenom,expression:"programme.user.prenom"}],class:e.errors.prenom?"programme-control is-invalid":"form-control",attrs:{disabled:""},domProps:{value:e.programme.user.prenom},on:{input:function(t){t.target.composing||e.$set(e.programme.user,"prenom",t.target.value)}}}),e.errors.prenom?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.prenom,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"col-sm-3"},[a("label",[e._v("num_badge ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.programme.user.num_badge,expression:"programme.user.num_badge"}],class:e.errors.num_badge?"programme-control is-invalid":"form-control",attrs:{disabled:""},domProps:{value:e.programme.user.num_badge},on:{input:function(t){t.target.composing||e.$set(e.programme.user,"num_badge",t.target.value)}}}),e.errors.num_badge?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.num_badge,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"col-sm-12",staticStyle:{height:"10px"}}),a("div",{staticClass:"container-fluid block-volume"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-5"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("h3",[e._v("Detail du programme")])]),a("div",{staticClass:"col-sm-6"},[a("label",[e._v("debut_prevu ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.programme.debut_prevu,expression:"programme.debut_prevu"}],class:e.errors.debut_prevu?"programme-control is-invalid":"form-control",attrs:{disabled:"",type:"datetime-local"},domProps:{value:e.programme.debut_prevu},on:{input:function(t){t.target.composing||e.$set(e.programme,"debut_prevu",t.target.value)}}}),e.errors.debut_prevu?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.debut_prevu,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"col-sm-6"},[a("label",[e._v("fin_prevu ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.programme.fin_prevu,expression:"programme.fin_prevu"}],class:e.errors.fin_prevu?"programme-control is-invalid":"form-control",attrs:{disabled:"",type:"datetime-local"},domProps:{value:e.programme.fin_prevu},on:{input:function(t){t.target.composing||e.$set(e.programme,"fin_prevu",t.target.value)}}}),e.errors.fin_prevu?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.fin_prevu,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"col-sm-6"},[a("label",[e._v("debut_collecter ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.programme.debut_realise,expression:"programme.debut_realise"}],class:e.errors.debut_realise?"programme-control is-invalid":"form-control",attrs:{disabled:"",type:"datetime-local"},domProps:{value:e.programme.debut_realise},on:{input:function(t){t.target.composing||e.$set(e.programme,"debut_realise",t.target.value)}}}),e.errors.debut_realise?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.debut_realise,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"col-sm-6"},[a("label",[e._v("fin_collecter ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.programme.fin_realise,expression:"programme.fin_realise"}],class:e.errors.fin_realise?"programme-control is-invalid":"form-control",attrs:{disabled:"",type:"datetime-local"},domProps:{value:e.programme.fin_realise},on:{input:function(t){t.target.composing||e.$set(e.programme,"fin_realise",t.target.value)}}}),e.errors.fin_realise?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.fin_realise,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"col-sm-6"},[a("label",[e._v("debut_reel ")]),a("div",{staticClass:"d-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.dateDebutReel,expression:"dateDebutReel"}],class:e.errors.debut_reel?"programme-control is-invalid":"form-control",attrs:{disabled:"",type:"date"},domProps:{value:e.dateDebutReel},on:{input:function(t){t.target.composing||(e.dateDebutReel=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.heureDebutReel,expression:"heureDebutReel"}],class:e.errors.debut_reel?"programme-control is-invalid":"form-control",attrs:{type:"time"},domProps:{value:e.heureDebutReel},on:{input:[function(t){t.target.composing||(e.heureDebutReel=t.target.value)},e.updateDebutReel]}})]),e.errors.debut_reel?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.debut_reel,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"col-sm-6"},[a("label",[e._v("fin_reel ")]),a("div",{staticClass:"d-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.dateFinReel,expression:"dateFinReel"}],class:e.errors.fin_reel?"programme-control is-invalid":"form-control",attrs:{disabled:"",type:"date"},domProps:{value:e.dateFinReel},on:{input:function(t){t.target.composing||(e.dateFinReel=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.heureFinReel,expression:"heureFinReel"}],class:e.errors.fin_reel?"programme-control is-invalid":"form-control",attrs:{type:"time"},domProps:{value:e.heureFinReel},on:{input:[function(t){t.target.composing||(e.heureFinReel=t.target.value)},e.updateFinReel]}})]),e.errors.fin_reel?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.fin_reel,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()]),a("div",{staticClass:"col-sm-6"},[a("label",[e._v("Volume Prevu ")]),a("input",{class:e.errors.fin_reel?"programme-control is-invalid":"form-control",attrs:{disabled:"",type:"text"},domProps:{value:e.toHoursAndMinutes(e.volumePrevu)}})]),a("div",{staticClass:"col-sm-6"},[a("label",[e._v("Volume Travailer ")]),a("input",{class:e.errors.fin_reel?"programme-control is-invalid":"form-control",attrs:{disabled:"",type:"text"},domProps:{value:e.toHoursAndMinutes(e.volumeRealiser)}})]),a("div",{staticClass:"col-sm-12"},[a("h3",[e._v("Listes des pointages collecter")])]),a("div",{staticClass:"col-sm-12"},[a("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.columnDefs,extrasData:e.extrasData,inCard:!1,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:e.paginationPageSize,rowData:e.rowData,rowModelType:e.rowModelType,"show-export":!1,sideBar:!1,url:e.url,className:"ag-theme-alpine",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady},scopedSlots:e._u([{key:"header_buttons",fn:function(){},proxy:!0}])})],1)])])]),a("div",{staticClass:"col-sm-7"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[e.allDatas.length>0?a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"col-sm-12"},[a("h3",[e._v("Traitement des horaires")])]),a("div",{staticClass:"col-sm-12",staticStyle:{"margin-bottom":"10px"}},[a("label",[e._v("Veuillez qualifier l'abscence ou le depassement ")]),a("CustomSelect",{key:e.programme.typesheure,attrs:{columnDefs:["libelle"],"filter-value":e.typeHeure,oldValue:e.programme.typesheure,renderCallBack:function(e){return""+e.Selectlabel},selectCallBack:function(t){e.programme.typesheure_id=t.id,e.programme.typesheure=t,e.codeSelect=t.code},url:e.axios.defaults.baseURL+"/api/typesheures-Aggrid1","filter-key":"type"}}),e.errors.typesheure_id?a("div",{staticClass:"invalid-feedback"},[e._l(e.errors.typesheure_id,(function(t){return[e._v(" "+e._s(t[0]))]}))],2):e._e()],1),a("div",{staticClass:"col-sm-12"},[a("h5",[e._v("Details")])]),a("div",{staticClass:"col-sm-12"},[a("div",{staticStyle:{display:"flex",gap:"5px",padding:"5px","flex-wrap":"wrap"}},[e._l(e.horairesQualifies,(function(t,r){return t.length>0?[Object.keys(e.libelleQualifications).includes(r)?a("div",{staticClass:"btn btn-outline-primary btn-sm"},[e._v(" "+e._s(e.getHoraireName(r))+" => "+e._s((10*t.length/60).toFixed(2))+"H ")]):e._e()]:e._e()}))],2)]),a("div",{staticClass:"col-sm-12"},[a("AgGridTable",{key:e.tableKey,attrs:{cacheBlockSize:e.cacheBlockSize,columnDefs:e.customColonnes,createDatasource:e.createDatasource,extrasData:e.extrasData,inCard:!1,maxBlocksInCache:e.maxBlocksInCache,pagination:e.pagination,paginationPageSize:15,rowData:e.rowData,rowModelType:e.rowModelType,"show-export":!1,sideBar:!1,url:e.url,className:"ag-theme-alpine",domLayout:"autoHeight",rowSelection:"multiple"},on:{gridReady:e.onGridReady},scopedSlots:e._u([{key:"header_buttons",fn:function(){},proxy:!0}],null,!1,2935565580)})],1)]):e._e()])])])]),a("div",{staticClass:"d-flex justify-content-around"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.EditLine()}}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Mettre à jour ")])])])],1)])},i=[],s=a("2909"),o=(a("99af"),a("4de4"),a("caad"),a("d81d"),a("14d9"),a("4ec9"),a("b680"),a("b64b"),a("d3b7"),a("25f0"),a("6062"),a("2532"),a("4d90"),a("159b"),a("0eb6"),a("b7ef"),a("8bd4"),a("ad1f"),a("1fdb")),n=a("bad1"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.justifier()}}},[e.abscence_id?e.isVariable()?a("button",{staticClass:"btn btn-primary",staticStyle:{width:"100%",padding:"10px"},attrs:{disabled:""}},[e._v(" C'est une abscence a jour variable donc vous pouvez selectionner le nombre de jour de vous voulez "),a("br"),e._v("Le jour du programme doit etre compris entre les date selectionner ")]):a("button",{staticClass:"btn btn-warning",staticStyle:{width:"100%",padding:"10px"},attrs:{disabled:""}},[e._v(" C'est une abscence a jour fixe donc vous ne pouvez selectionner que "+e._s(e.nombreJour)+" jour(s) "),a("br"),e._v("Le jour du programme doit etre compris entre les date selectionner ")]):a("button",{staticClass:"btn btn-danger",staticStyle:{width:"100%",padding:"10px"},attrs:{disabled:""}},[e._v(" Veuillez selectionez un type d'abscence ")]),a("div",{staticClass:"form-group "},[a("label",[e._v("Type")]),a("v-select",{attrs:{options:e.typesabscencesData,reduce:function(e){return e.id},label:"Selectlabel"},model:{value:e.abscence_id,callback:function(t){e.abscence_id=t},expression:"abscence_id"}})],1),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-6"},[a("label",[e._v("Début")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.abscence_debut,expression:"abscence_debut"}],staticClass:"form-control",attrs:{required:"",type:"date"},domProps:{value:e.abscence_debut},on:{input:function(t){t.target.composing||(e.abscence_debut=t.target.value)}}})]),a("div",{staticClass:"form-group col-6"},[a("label",[e._v("Fin")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.abscence_fin,expression:"abscence_fin"}],staticClass:"form-control",attrs:{required:"",type:"date"},domProps:{value:e.abscence_fin},on:{input:function(t){t.target.composing||(e.abscence_fin=t.target.value)}}})])]),a("div",{staticClass:"form-group"},[e._m(0),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.abscence_motif,expression:"abscence_motif"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:e.abscence_motif},on:{input:function(t){t.target.composing||(e.abscence_motif=t.target.value)}}})]),a("button",{staticClass:"btn btn-primary",attrs:{disabled:!e.valide,type:"submit"}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Justifier l'absence ")])])])},c=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[e._v("Motif "),a("span",{staticClass:"text-danger"},[e._v("*")])])}],d=a("c1df"),u=a.n(d),m=a("4a7a"),f=a.n(m),p={name:"justifyAbscent",components:{VSelect:f.a},props:["data","typesabscencesData"],data:function(){return{isLoading:!1,user:{},debut:"",fin:"",abscence_libelle:"",abscence_user_id:"",abscence_motif:"",abscence_debut:"",abscence_fin:"",abscence_file:"",abscence_type:"",abscence_id:null}},mounted:function(){this.debut=Date.now()},watch:{routeData:{handler:function(e,t){this.gridApi.setFilterModel(null),this.gridApi.refreshServerSide()},deep:!0}},computed:{actual:function(){var e=this,t={};try{t=this.typesabscencesData.filter((function(t){return parseInt(t.id)==parseInt(e.abscence_id)})),t=t[0]}catch(a){}return t},soldable:function(){var e=!1;try{e=1==this.actual.soldable.id}catch(t){}return e},valide:function(){var e=!1;try{var t=u()(this.abscence_debut,"YYYY-MM-DD"),a=u()(this.abscence_fin,"YYYY-MM-DD"),r=a.diff(t,"days");e=r==this.nombreJour}catch(i){}return this.isVariable()&&(e=!0),this.abscence_fin&&this.abscence_debut&&u()(this.data.date,"YYYY-MM-DD").isBetween(this.abscence_debut,this.abscence_fin)||(e=!1),e},nombreJour:function(){var e=0;try{e=this.actual.nombrejours}catch(t){}return e}},methods:{isVariable:function(){var e=!1;try{e=1==this.actual.variable_id}catch(t){}return e},justifier:function(){var e=this,t={programme_id:this.data.id,user_id:this.data.user_id,soldable:this.soldable,debut:this.abscence_debut,fin:this.abscence_fin,motif:this.abscence_motif,typesabscence_id:this.abscence_id};this.axios.post("/api/pointages/action?action=justifierAbscences",t).then((function(t){e.isLoading=!1,e.$toast.success("Operation effectuer avec succes"),e.$emit("refreshData"),console.log(t.data)})).catch((function(t){e.errors=t.response,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))}}},h=p,g=a("2877"),v=Object(g["a"])(h,l,c,!1,null,"6bcf1d24",null),b=v.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.addPointage()}}},[a("p",[e._v("Rajouter un pointage de "+e._s(e.type)+" manuellement")]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-6"},[a("input",{staticClass:"form-control",attrs:{disabled:"",type:"text"},domProps:{value:e.dateManquant}})]),a("div",{staticClass:"form-group col-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.heure,expression:"heure"}],staticClass:"form-control",attrs:{required:"",type:"time"},domProps:{value:e.heure},on:{input:function(t){t.target.composing||(e.heure=t.target.value)}}})])]),e._m(0)])])},y=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"btn btn-sm mt-2 btn-success",attrs:{type:"submit"}},[a("i",{staticClass:"fa-solid fa-save"}),e._v(" Rajouter ")])}],D={name:"addIncomplet",components:{VSelect:f.a},props:["data"],data:function(){return{isLoading:!1,pointage:null,heure:null,donnees:{}}},mounted:function(){this.donnees=this.data},computed:{dateManquant:function(){var e=this.data.debut_realise;this.data.debut_realise||(e=this.data.fin_realise);try{e=e.split(" ")[0]}catch(t){}return e},type:function(){var e="fin";return this.data.debut_realise||(e="debut"),e}},methods:{isVariable:function(){var e=this,t=!1;try{var a=this.typesabscencesData.filter((function(t){return parseInt(t.id)==parseInt(e.abscence_id)}));a=a[0],t=1==a.variable_id}catch(r){}return t},addPointage:function(){var e=this,t={programme_id:this.data.id,punch_time:this.dateManquant+" "+this.heure,type:"fictif"};this.axios.post("/api/preuves",t).then((function(t){e.isLoading=!1,e.$toast.success("Operation effectuer avec succes"),e.$emit("refreshData"),console.log(t.data)})).catch((function(t){e.errors=t.response,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))}}},w=D,C=Object(g["a"])(w,_,y,!1,null,"66fdd2ce",null),x=C.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.Accepter()}}},[a("p",[e._v("Valider ou refuser le depassement")]),a("div",{staticClass:"form-group"},[a("label",[e._v("Motif ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.motif,expression:"motif"}],staticClass:"form-control ",domProps:{value:e.motif},on:{input:function(t){t.target.composing||(e.motif=t.target.value)}}})]),a("div",{staticClass:"d-flex justify-content-between"},[e._m(0),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.Refuser()}}},[a("i",{staticClass:"fas fa-close"}),e._v(" Refuser ")])])])])},A=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-floppy-disk"}),e._v(" Accepter ")])}],P={name:"traiteDepassement",components:{VSelect:f.a},props:["data"],data:function(){return{isLoading:!1,motif:""}},mounted:function(){},computed:{dateManquant:function(){var e=this.data.debut_realise;this.data.debut_realise||(e=this.data.fin_realise);try{e=e.split(" ")[0]}catch(t){}return e},type:function(){var e="fin";return this.data.debut_realise||(e="debut"),e}},methods:{Accepter:function(){var e=this,t={etats:"ACCEPTER"};this.axios.post("/api/programmes/"+this.data.id+"/update",t).then((function(t){e.isLoading=!1,e.$toast.success("Operation effectuer avec succes"),e.$emit("refreshData"),console.log(t.data)})).catch((function(t){e.errors=t.response,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))},Refuser:function(){var e=this,t={etats:"REFUSER"};this.axios.post("/api/programmes/"+this.data.id+"/update",t).then((function(t){e.isLoading=!1,e.$toast.success("Operation effectuer avec succes"),e.$emit("refreshData"),console.log(t.data)})).catch((function(t){e.errors=t.response,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))}}},k=P,O=Object(g["a"])(k,S,A,!1,null,"3a119ffd",null),L=O.exports,F=a("47b7");a("c7eb"),a("1da1"),a("a9e3"),a("4360"),a("7f80");function M(e){var t="ABSCENCES";return t=0==e.totalReel&&0==e.totalFictif?"ABSCENCESNONJUSTIFIER":0==e.totalReel&&e.totalFictif>=2?"ABSCENCESJUSTIFIER":1==e.totalReel&&e.totalFictif>=1&&e.volume_horaire<=8?"INCOMPLETTRAITER":1==e.totalReel&&0==e.totalFictif?"INCOMPLETNONTRAITER":e.volume_horaire>8&&"REFUSER"!=e.etats&&"ACCEPTER"!=e.etats?"DEPASSEMENTNONTRAITER":e.volume_horaire>8&&"REFUSER"==e.etats?"DEPASSEMENTREFUSER":e.volume_horaire>8&&"ACCEPTER"==e.etats?"DEPASSEMENTACCEPTER":"NORMAL",e.debut_prevu==e.fin_prevu&&(t="REPOS"),t}var $=a("b8bb"),T=a("27c5"),Y={name:"DetailDaysView",components:{DataTable:o["a"],AgGridTable:n["a"],DataModal:F["a"],AgGridBtnClicked:T["a"],justifyAbscent:b,addIncomplet:x,traiteDepassement:L,CustomSelect:$["a"]},props:["data","typesabscencesData","formID"],data:function(){return{codeSelect:"",errors:[],form:{id:"",nom:"",icon:"",host:"",favicon:"",extra_attributes:"",created_at:"",updated_at:"",deleted_at:""},isLoading:!1,formId:"preuves",formState:"",formData:{},formWidth:"lg",formGridApi:{},formKey:0,tableKey:0,programme:{},url:"http://127.0.0.1:8000/api/transactions-Aggrid1",table:"transactions",programmesData:[],transactionsData:[],weeksData:[],requette:2,columnDefs:null,rowData:null,gridApi:null,columnApi:null,rowModelType:null,pagination:!0,paginationPageSize:100,cacheBlockSize:10,maxBlocksInCache:1,horairesQualifies:{},libelleQualifications:{}}},computed:{$routeData:function(){var e={meta:{}};try{"undefined"!=typeof window.routeData&&(e=window.routeData)}catch(t){}return e},volumePrevu:function(){var e=0;return this.programme.debut_prevu&&this.programme.fin_prevu&&(e=u()(this.programme.fin_prevu,"YYYY-MM-DD H:m:s").unix()-u()(this.programme.debut_prevu,"YYYY-MM-DD H:m:s").unix(),e/=60,e<0&&(e=0)),e},volumeRealiser:function(){var e=0;return""!=this.debut&&""!=this.fin&&(e=u()(this.fin,"YYYY-MM-DD H:m:s").unix()-u()(this.debut,"YYYY-MM-DD H:m:s").unix(),e/=60,e<0&&(e=0)),e},depassement:function(){var e=0;return this.programme.volume_horaire&&(e=this.programme.volume_horaire-8,e<0&&(e=0),e*=60),this.toHoursAndMinutes(e)},taille:function(){var e="col-sm-12";return this.filtre&&(e="col-sm-9"),e},state:function(){return M(this.programme)},pointages:function(){var e=[];try{e=this.params.data.pointages_rattacher_auto,e=e.split(",")}catch(t){e=[]}return e=e.filter((function(e){return console.log("voici lelement a filtrer",e),null!=e&&""!=e})),e},extrasData:function(){var e={},t={},a=[0];try{var r=this.programme.pointages_rattacher_auto.split(",");r=r.filter((function(e){return console.log("voici lelement a filtrer",e),null!=e&&""!=e})),a=r}catch(i){a=[-1]}return 0==a.length&&(a=[-1]),e["id"]={values:a,filterType:"set"},t["baseFilter"]=e,t},createDatasource:function(e){return{getRows:function(t){t.success({rowData:e.allDatas,rowCount:e.allDatas.length,__allId:[],__allFilters:[],__allQuery:"",__allQueryBindings:[],startRow:0,endRow:100})}}},allDatas:function(){for(var e=[],t=288,a=0;a<t;a++)if(console.log("voici les data quon as pu avoir",this.debut,this.fin),""!=this.debut&&""!=this.fin){var r=u()(this.programme.debut_prevu,"YYYY-MM-DD H:m:s").set({hour:0,minute:0,second:0,millisecond:0}).add(10*a,"minutes").unix(),i=u()(this.programme.debut_prevu,"YYYY-MM-DD H:m:s").set({hour:0,minute:0,second:0,millisecond:0}).add(10*a,"minutes").format("DD-MM-YYYY HH")+"H",s=u()(this.debut,"YYYY-MM-DD H:m:s").unix(),o=u()(this.fin,"YYYY-MM-DD H:m:s").unix();if(r-s>28800&&r<=o){var n={id:a,bio_id:"4476813",date_format:i,first_name:null};e.push(n)}console.log("voici les data quon as pu avoir",this.debut,this.fin,r,i,this.programme.debut_prevu)}else{var l=u()(this.programme.debut_prevu,"YYYY-MM-DD H:m:s").set({hour:0,minute:0,second:0,millisecond:0}).add(10*a,"minutes").unix(),c=u()(this.programme.debut_prevu,"YYYY-MM-DD H:m:s").unix(),d=u()(this.programme.fin_prevu,"YYYY-MM-DD H:m:s").unix();if(c<=l&&l<d){var m={id:a,bio_id:"4476813",area_alias:"NK-359",first_name:null};e.push(m)}}return e},debut:function(){var e="";return this.programme.debut_realise&&(e=u()(this.programme.debut_realise).format("YYYY-MM-DD H:m:s"),u()(this.programme.debut_realise,"YYYY-MM-DD H:m:s").unix()<u()(this.programme.debut_prevu,"YYYY-MM-DD H:m:s").unix()&&(e=u()(this.programme.debut_prevu).format("YYYY-MM-DD H:m:s"))),this.programme.debut_reel&&(e=u()(this.programme.debut_reel).format("YYYY-MM-DD H:m:s")),e},fin:function(){var e="";return this.programme.fin_realise&&(e=u()(this.programme.fin_realise).format("YYYY-MM-DD H:m:s")),this.programme.fin_reel&&(e=u()(this.programme.fin_reel).format("YYYY-MM-DD H:m:s")),e},typeHeure:function(){this.volumePrevu;var e=this.volumeRealiser,t="ABSCENCE";return t=e>8?"plus":"moins",t},FinRealiser:function(){var e="Pas de fin realise";return this.programme.fin_realise&&(e=u()(this.programme.fin_realise).format("DD/MM/YYYY à HH:mm")),e},FinReel:function(){var e=" Pas de fin reel";return this.programme.fin_reel&&(e=u()(this.programme.fin_reel).format("DD/MM/YYYY à HH:mm")),e},customColonnes:function(){var e=this,t=[{field:"id",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"Date",maxWidth:150,checkboxSelection:!0,cellRendererSelector:function(t){var a=t.data.id,r=u()(e.programme.debut_prevu,"YYYY-MM-DD H:m:s").set({hour:0,minute:0,second:0,millisecond:0}).add(10*a,"minutes").format("DD-MM-YYYY"),i='<div class="" style="width:100%;height:100%;border-radius:5px;text-align:center;cursor:pointer"> '.concat(r,"</div>");return{component:"AgGridBtnClicked",params:{render:i}}}},{field:"id",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"Debut",maxWidth:100,cellRendererSelector:function(t){var a=t.data.id,r=u()(e.programme.debut_prevu,"YYYY-MM-DD H:m:s").set({hour:0,minute:0,second:0,millisecond:0}).add(10*a,"minutes").format("HH:mm"),i='<div class="" style="width:100%;height:100%;border-radius:5px;text-align:center;cursor:pointer">'.concat(r," H</div>");return{component:"AgGridBtnClicked",params:{render:i}}}},{field:"id",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"Fin",maxWidth:100,cellRendererSelector:function(t){var a=t.data.id,r=u()(e.programme.debut_prevu,"YYYY-MM-DD H:m:s").set({hour:0,minute:0,second:0,millisecond:0}).add(10*(a+1),"minutes").format("HH:mm"),i='<div class="" style="width:100%;height:100%;border-radius:5px;text-align:center;cursor:pointer"> '.concat(r," H</div>");return{component:"AgGridBtnClicked",params:{render:i}}}}];return this.$routeData.meta.typeHeures&&this.$routeData.meta.typeHeures.forEach((function(a){if(a.type==e.typeHeure){e.libelleQualifications[a.code]=a.libelle;var r={field:null,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:a.code,maxWidth:100,cellRendererSelector:function(t){var r=t.data.id,i=a.code,s=[];s=Object.keys(e.horairesQualifies).includes(i)?e.horairesQualifies[i]:[],console.log("voici les params dans la cellule",t),s.map((function(e){return parseInt(e)}));var o='<div class="" style="width:100%;height:100%;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-regular fa-square"></i></div>';return s.includes(r)&&(o='<div class="" style="width:100%;height:100%;color:green;border-radius:5px;text-align:center;cursor:pointer">  <i class="fa-solid fa-square"></i></div>'),{component:"AgGridBtnClicked",params:{clicked:function(r){console.log("voici les params",t,r),e.qualifieHoraire(r.id,a.code),t.api.applyServerSideTransaction({update:[t.data]})},render:o}}}};t.push(r)}})),t},pointagesId:function(){var e=[];try{var t=this.programme.pointages_rattacher_auto;e=t.split(",")}catch(a){}return e}},watch:{routeData:{handler:function(e,t){this.gridApi.setFilterModel(null),this.gridApi.refreshServerSide()},deep:!0},codeSelect:{handler:function(e,t){if("-1"!=e){var a={};try{var r=[];this.allDatas.forEach((function(e){return r.push(e.id)}));var i={};i[this.codeSelect]=r,a=i}catch(s){a={}}console.log("this.allDatas",this.allDatas,e,a),this.horairesQualifies=a,this.tableKey++}},deep:!0}},created:function(){this.programme=this.data,this.url=this.axios.defaults.baseURL+"/api/transactions-Aggrid1",this.formId=this.table+"_"+Date.now(),this.rowBuffer=0,this.rowModelType="serverSide",this.cacheBlockSize=50,this.maxBlocksInCache=2,this.dateDebutReels=this.programme.debut_prevu.split("T"),this.dateDebutReel=this.dateDebutReels[0].split(" ")[0],this.heureDebutReel=this.dateDebutReels[0].split(" ")[1],this.dateFinReels=this.programme.fin_prevu.split("T"),this.dateFinReel=this.dateFinReels[0].split(" ")[0],this.heureFinReel=this.dateFinReels[0].split(" ")[1]},beforeMount:function(){this.columnDefs=[{field:"id",sortable:!0,hide:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"Source",maxWidth:100},{field:"terminal_alias",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"Source",maxWidth:100},{field:"punch_time",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"Pointages"},{field:"card_no",sortable:!0,filter:"agTextColumnFilter",filterParams:{suppressAndOrCondition:!0},headerName:"badge"}]},mounted:function(){this.requette,this.data.qualification_horaire&&(this.horairesQualifies=JSON.parse(this.data.qualification_horaire));for(var e=u()(this.data.date,"YYYY-MM-DD"),t=e.clone().startOf("isoWeek"),a=[],r=0;r<7;r++)a.push(t.clone().add(r,"days"));this.weeksData=a,console.log("horairesQualifies",this.weeksData,this.weeksData[2].format("YYYY-MM-DD")),console.log("debut_reel",this.programme.debut_reel,this.programme.fin_reel,this.dateDebutReel,this.dateFinReel)},methods:{updateDebutReel:function(){this.programme.debut_reel="".concat(this.dateDebutReel,"T").concat(this.heureDebutReel)},updateFinReel:function(){this.programme.fin_reel="".concat(this.dateFinReel,"T").concat(this.heureFinReel)},toHoursAndMinutes:function(e){var t=Math.floor(e/60),a=e%60;return"".concat(this.padToTwoDigits(t),"H:").concat(this.padToTwoDigits(a.toFixed(0)))},padToTwoDigits:function(e){return e.toString().padStart(2,"0")},closeForm:function(){try{this.gridApi.refreshServerSide()}catch(e){}},openCreate:function(){this.showForm("Create",{},this.gridApi)},showForm:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lg";this.formKey++,this.formWidth=r,this.formState=e,this.formData=t,this.formGridApi=a,this.$bvModal.show(this.formId)},onGridReady:function(e){console.log("on demarre",e),this.gridApi=e.api,this.columnApi=e.columnApi,this.isLoading=!1},refreshData:function(){var e=this;this.isLoading=!0,this.axios.get("/api/programmes/id/"+this.programme.id).then((function(t){e.isLoading=!1,e.tableKey++,e.programme=t.data[0],console.log("voici la nouvelle donnees recu ==>",e.programme)})).catch((function(t){e.isLoading=!1,console.log(t.response.data),e.$toast.error("Erreur survenue lors de la récuperation")})),this.$emit("refresh")},qualifieHoraire:function(e,t){this.codeSelect="-1",this.programme.typesheure=null,this.programme.typesheure_id=1e7,console.log("one veut qualifier lhoraire",t,e);var a=[],r=[];a=Object.keys(this.horairesQualifies).includes(t)?this.horairesQualifies[t]:[],a.map((function(e){return parseInt(e)})),r=a.includes(e)?a.filter((function(t){return parseInt(e)!=parseInt(t)})):[].concat(Object(s["a"])(a),[e]),r.map((function(e){return parseInt(e)})),this.horairesQualifies[t]=r,this.horairesQualifies=structuredClone(this.horairesQualifies),this.$emit("horaires-qualifies-updated",this.horairesQualifies),console.log("one veut qualifier lhoraire",t,e,a,r,this.horairesQualifies)},getHoraireName:function(e){var t=e;return Object.keys(this.libelleQualifications).includes(e)&&(t=this.libelleQualifications[e]),t},EditLine:function(){var e=this;console.log("this.programmes",this.programme),this.isLoading=!0,this.programme.qualification_horaire=this.horairesQualifies,this.axios.post("/api/programmes/"+this.programme.id+"/update",this.programme).then((function(t){e.isLoading=!1,e.newProgrammes=!0,e.programme=t.data,e.$bvModal.hide(e.formID),e.$emit("refresh"),e.$emit("close"),e.$toast.success("effectuer avec success")})).catch((function(t){e.errors=t.response.data.errors,e.isLoading=!1,e.$toast.error("Erreur survenue lors de l'enregistrement")}))}}},E=Y,R=(a("9237"),Object(g["a"])(E,r,i,!1,null,null,null));t["a"]=R.exports},"4fad":function(e,t,a){"use strict";var r=a("d039"),i=a("861d"),s=a("c6b6"),o=a("d86b"),n=Object.isExtensible,l=r((function(){n(1)}));e.exports=l||o?function(e){return!!i(e)&&((!o||"ArrayBuffer"!==s(e))&&(!n||n(e)))}:n},5307:function(e,t,a){"use strict";a("ca13")},5388:function(e,t,a){"use strict";var r=a("c65b");e.exports=function(e,t,a){var i,s,o=a?e:e.iterator,n=e.next;while(!(i=r(n,o)).done)if(s=t(i.value),void 0!==s)return s}},"58d5":function(e,t,a){"use strict";a("4a1f")},"5f4e":function(e,t,a){},6062:function(e,t,a){"use strict";a("1c59")},6197:function(e,t,a){"use strict";a.d(t,"b",(function(){return v})),a.d(t,"a",(function(){return b}));var r=a("2b0e"),i=a("b42e"),s=a("c637"),o=a("a723"),n=a("d82f"),l=a("cf75"),c=a("d580"),d=a("4968"),u=a("fa73"),m=Object(l["d"])({subTitle:Object(l["c"])(o["p"]),subTitleTag:Object(l["c"])(o["p"],"h6"),subTitleTextVariant:Object(l["c"])(o["p"],"muted")},s["n"]),f=r["default"].extend({name:s["n"],functional:!0,props:m,render:function(e,t){var a=t.props,r=t.data,s=t.children;return e(a.subTitleTag,Object(i["a"])(r,{staticClass:"card-subtitle",class:[a.subTitleTextVariant?"text-".concat(a.subTitleTextVariant):null]}),s||Object(u["e"])(a.subTitle))}});function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v=Object(l["d"])(Object(n["m"])(h(h(h(h({},d["b"]),m),Object(l["a"])(c["a"],l["f"].bind(null,"body"))),{},{bodyClass:Object(l["c"])(o["d"]),overlay:Object(l["c"])(o["f"],!1)})),s["j"]),b=r["default"].extend({name:s["j"],functional:!0,props:v,render:function(e,t){var a,r=t.props,s=t.data,o=t.children,n=r.bodyBgVariant,c=r.bodyBorderVariant,u=r.bodyTextVariant,p=e();r.title&&(p=e(d["a"],{props:Object(l["e"])(d["b"],r)}));var h=e();return r.subTitle&&(h=e(f,{props:Object(l["e"])(m,r),class:["mb-2"]})),e(r.bodyTag,Object(i["a"])(s,{staticClass:"card-body",class:[(a={"card-img-overlay":r.overlay},g(a,"bg-".concat(n),n),g(a,"border-".concat(c),c),g(a,"text-".concat(u),u),a),r.bodyClass]}),[p,h,o])}})},6566:function(e,t,a){"use strict";var r=a("7c73"),i=a("edd0"),s=a("6964"),o=a("0366"),n=a("19aa"),l=a("7234"),c=a("2266"),d=a("c6d2"),u=a("4754"),m=a("2626"),f=a("83ab"),p=a("f183").fastKey,h=a("69f3"),g=h.set,v=h.getterFor;e.exports={getConstructor:function(e,t,a,d){var u=e((function(e,i){n(e,m),g(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),f||(e.size=0),l(i)||c(i,e[d],{that:e,AS_ENTRIES:a})})),m=u.prototype,h=v(t),b=function(e,t,a){var r,i,s=h(e),o=_(e,t);return o?o.value=a:(s.last=o={index:i=p(t,!0),key:t,value:a,previous:r=s.last,next:void 0,removed:!1},s.first||(s.first=o),r&&(r.next=o),f?s.size++:e.size++,"F"!==i&&(s.index[i]=o)),e},_=function(e,t){var a,r=h(e),i=p(t);if("F"!==i)return r.index[i];for(a=r.first;a;a=a.next)if(a.key===t)return a};return s(m,{clear:function(){var e=this,t=h(e),a=t.first;while(a)a.removed=!0,a.previous&&(a.previous=a.previous.next=void 0),a=a.next;t.first=t.last=void 0,t.index=r(null),f?t.size=0:e.size=0},delete:function(e){var t=this,a=h(t),r=_(t,e);if(r){var i=r.next,s=r.previous;delete a.index[r.index],r.removed=!0,s&&(s.next=i),i&&(i.previous=s),a.first===r&&(a.first=i),a.last===r&&(a.last=s),f?a.size--:t.size--}return!!r},forEach:function(e){var t,a=h(this),r=o(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:a.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!_(this,e)}}),s(m,a?{get:function(e){var t=_(this,e);return t&&t.value},set:function(e,t){return b(this,0===e?0:e,t)}}:{add:function(e){return b(this,e=0===e?0:e,e)}}),f&&i(m,"size",{configurable:!0,get:function(){return h(this).size}}),u},setStrong:function(e,t,a){var r=t+" Iterator",i=v(t),s=v(r);d(e,t,(function(e,t){g(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=s(this),t=e.kind,a=e.last;while(a&&a.removed)a=a.previous;return e.target&&(e.last=a=a?a.next:e.state.first)?u("keys"===t?a.key:"values"===t?a.value:[a.key,a.value],!1):(e.target=void 0,u(void 0,!0))}),a?"entries":"values",!a,!0),m(t)}}},"6d61":function(e,t,a){"use strict";var r=a("23e7"),i=a("da84"),s=a("e330"),o=a("94ca"),n=a("cb2d"),l=a("f183"),c=a("2266"),d=a("19aa"),u=a("1626"),m=a("7234"),f=a("861d"),p=a("d039"),h=a("1c7e"),g=a("d44e"),v=a("7156");e.exports=function(e,t,a){var b=-1!==e.indexOf("Map"),_=-1!==e.indexOf("Weak"),y=b?"set":"add",D=i[e],w=D&&D.prototype,C=D,x={},S=function(e){var t=s(w[e]);n(w,e,"add"===e?function(e){return t(this,0===e?0:e),this}:"delete"===e?function(e){return!(_&&!f(e))&&t(this,0===e?0:e)}:"get"===e?function(e){return _&&!f(e)?void 0:t(this,0===e?0:e)}:"has"===e?function(e){return!(_&&!f(e))&&t(this,0===e?0:e)}:function(e,a){return t(this,0===e?0:e,a),this})},A=o(e,!u(D)||!(_||w.forEach&&!p((function(){(new D).entries().next()}))));if(A)C=a.getConstructor(t,e,b,y),l.enable();else if(o(e,!0)){var P=new C,k=P[y](_?{}:-0,1)!==P,O=p((function(){P.has(1)})),L=h((function(e){new D(e)})),F=!_&&p((function(){var e=new D,t=5;while(t--)e[y](t,t);return!e.has(-0)}));L||(C=t((function(e,t){d(e,w);var a=v(new D,e,C);return m(t)||c(t,a[y],{that:a,AS_ENTRIES:b}),a})),C.prototype=w,w.constructor=C),(O||F)&&(S("delete"),S("has"),b&&S("get")),(F||k)&&S(y),_&&w.clear&&delete w.clear}return x[e]=C,r({global:!0,constructor:!0,forced:C!==D},x),g(C,e),_||a.setStrong(C,e,b),C}},"6f48":function(e,t,a){"use strict";var r=a("6d61"),i=a("6566");r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},"6f53":function(e,t,a){"use strict";var r=a("83ab"),i=a("d039"),s=a("e330"),o=a("e163"),n=a("df75"),l=a("fc6a"),c=a("d1e7").f,d=s(c),u=s([].push),m=r&&i((function(){var e=Object.create(null);return e[2]=2,!d(e,2)})),f=function(e){return function(t){var a,i=l(t),s=n(i),c=m&&null===o(i),f=s.length,p=0,h=[];while(f>p)a=s[p++],r&&!(c?a in i:d(i,a))||u(h,e?[a,i[a]]:i[a]);return h}};e.exports={entries:f(!0),values:f(!1)}},8260:function(e,t,a){"use strict";a("f912")},"8df0":function(e,t,a){},"8e43":function(e,t,a){},"8fb4":function(e,t,a){"use strict";a("07c7")},9237:function(e,t,a){"use strict";a("8e43")},a585:function(e,t,a){"use strict";a("dfaf")},ad1f:function(e,t,a){"use strict";var r=a("c430"),i=a("23e7"),s=a("da84"),o=a("d066"),n=a("e330"),l=a("d039"),c=a("90e3"),d=a("1626"),u=a("68ee"),m=a("7234"),f=a("861d"),p=a("d9b5"),h=a("2266"),g=a("825a"),v=a("f5df"),b=a("1a2d"),_=a("8418"),y=a("9112"),D=a("07fa"),w=a("d6d6"),C=a("90d8"),x=a("094a"),S=a("cb27"),A=a("384f"),P=a("36f2"),k=a("b980"),O=a("dbe5"),L=s.Object,F=s.Array,M=s.Date,$=s.Error,T=s.TypeError,Y=s.PerformanceMark,E=o("DOMException"),R=x.Map,j=x.has,I=x.get,N=x.set,B=S.Set,z=S.add,U=S.has,V=o("Object","keys"),q=n([].push),G=n((!0).valueOf),H=n(1..valueOf),W=n("".valueOf),K=n(M.prototype.getTime),Q=c("structuredClone"),J="DataCloneError",X="Transferring",Z=function(e){return!l((function(){var t=new s.Set([7]),a=e(t),r=e(L(7));return a===t||!a.has(7)||!f(r)||7!==+r}))&&e},ee=function(e,t){return!l((function(){var a=new t,r=e({a:a,b:a});return!(r&&r.a===r.b&&r.a instanceof t&&r.a.stack===a.stack)}))},te=function(e){return!l((function(){var t=e(new s.AggregateError([1],Q,{cause:3}));return"AggregateError"!==t.name||1!==t.errors[0]||t.message!==Q||3!==t.cause}))},ae=s.structuredClone,re=r||!ee(ae,$)||!ee(ae,E)||!te(ae),ie=!ae&&Z((function(e){return new Y(Q,{detail:e}).detail})),se=Z(ae)||ie,oe=function(e){throw new E("Uncloneable type: "+e,J)},ne=function(e,t){throw new E((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",J)},le=function(e,t){return se||ne(t),se(e)},ce=function(){var e;try{e=new s.DataTransfer}catch(t){try{e=new s.ClipboardEvent("").clipboardData}catch(a){}}return e&&e.items&&e.files?e:null},de=function(e,t,a){if(j(t,e))return I(t,e);var r,i,o,n,l,c,u=a||v(e);if("SharedArrayBuffer"===u)r=se?se(e):e;else{var m=s.DataView;m||d(e.slice)||ne("ArrayBuffer");try{if(d(e.slice)&&!e.resizable)r=e.slice(0);else{i=e.byteLength,o="maxByteLength"in e?{maxByteLength:e.maxByteLength}:void 0,r=new ArrayBuffer(i,o),n=new m(e),l=new m(r);for(c=0;c<i;c++)l.setUint8(c,n.getUint8(c))}}catch(f){throw new E("ArrayBuffer is detached",J)}}return N(t,e,r),r},ue=function(e,t,a,r,i){var o=s[t];return f(o)||ne(t),new o(de(e.buffer,i),a,r)},me=function(e,t){if(p(e)&&oe("Symbol"),!f(e))return e;if(t){if(j(t,e))return I(t,e)}else t=new R;var a,r,i,n,l,c,u,m,h=v(e);switch(h){case"Array":i=F(D(e));break;case"Object":i={};break;case"Map":i=new R;break;case"Set":i=new B;break;case"RegExp":i=new RegExp(e.source,C(e));break;case"Error":switch(r=e.name,r){case"AggregateError":i=new(o(r))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":i=new(o(r));break;case"CompileError":case"LinkError":case"RuntimeError":i=new(o("WebAssembly",r));break;default:i=new $}break;case"DOMException":i=new E(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":i=de(e,t,h);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":c="DataView"===h?e.byteLength:e.length,i=ue(e,h,e.byteOffset,c,t);break;case"DOMQuad":try{i=new DOMQuad(me(e.p1,t),me(e.p2,t),me(e.p3,t),me(e.p4,t))}catch(g){i=le(e,h)}break;case"File":if(se)try{i=se(e),v(i)!==h&&(i=void 0)}catch(g){}if(!i)try{i=new File([e],e.name,e)}catch(g){}i||ne(h);break;case"FileList":if(n=ce(),n){for(l=0,c=D(e);l<c;l++)n.items.add(me(e[l],t));i=n.files}else i=le(e,h);break;case"ImageData":try{i=new ImageData(me(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(g){i=le(e,h)}break;default:if(se)i=se(e);else switch(h){case"BigInt":i=L(e.valueOf());break;case"Boolean":i=L(G(e));break;case"Number":i=L(H(e));break;case"String":i=L(W(e));break;case"Date":i=new M(K(e));break;case"Blob":try{i=e.slice(0,e.size,e.type)}catch(g){ne(h)}break;case"DOMPoint":case"DOMPointReadOnly":a=s[h];try{i=a.fromPoint?a.fromPoint(e):new a(e.x,e.y,e.z,e.w)}catch(g){ne(h)}break;case"DOMRect":case"DOMRectReadOnly":a=s[h];try{i=a.fromRect?a.fromRect(e):new a(e.x,e.y,e.width,e.height)}catch(g){ne(h)}break;case"DOMMatrix":case"DOMMatrixReadOnly":a=s[h];try{i=a.fromMatrix?a.fromMatrix(e):new a(e)}catch(g){ne(h)}break;case"AudioData":case"VideoFrame":d(e.clone)||ne(h);try{i=e.clone()}catch(g){oe(h)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":ne(h);default:oe(h)}}switch(N(t,e,i),h){case"Array":case"Object":for(u=V(e),l=0,c=D(u);l<c;l++)m=u[l],_(i,m,me(e[m],t));break;case"Map":e.forEach((function(e,a){N(i,me(a,t),me(e,t))}));break;case"Set":e.forEach((function(e){z(i,me(e,t))}));break;case"Error":y(i,"message",me(e.message,t)),b(e,"cause")&&y(i,"cause",me(e.cause,t)),"AggregateError"===r?i.errors=me(e.errors,t):"SuppressedError"===r&&(i.error=me(e.error,t),i.suppressed=me(e.suppressed,t));case"DOMException":k&&y(i,"stack",me(e.stack,t))}return i},fe=function(e,t){if(!f(e))throw new T("Transfer option cannot be converted to a sequence");var a=[];h(e,(function(e){q(a,g(e))}));var r,i,o,n,l,c,m=0,p=D(a),b=new B;while(m<p){if(r=a[m++],i=v(r),"ArrayBuffer"===i?U(b,r):j(t,r))throw new E("Duplicate transferable",J);if("ArrayBuffer"!==i){if(O)n=ae(r,{transfer:[r]});else switch(i){case"ImageBitmap":o=s.OffscreenCanvas,u(o)||ne(i,X);try{l=new o(r.width,r.height),c=l.getContext("bitmaprenderer"),c.transferFromImageBitmap(r),n=l.transferToImageBitmap()}catch(_){}break;case"AudioData":case"VideoFrame":d(r.clone)&&d(r.close)||ne(i,X);try{n=r.clone(),r.close()}catch(_){}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":ne(i,X)}if(void 0===n)throw new E("This object cannot be transferred: "+i,J);N(t,r,n)}else z(b,r)}return b},pe=function(e){A(e,(function(e){O?se(e,{transfer:[e]}):d(e.transfer)?e.transfer():P?P(e):ne("ArrayBuffer",X)}))};i({global:!0,enumerable:!0,sham:!O,forced:re},{structuredClone:function(e){var t,a,r=w(arguments.length,1)>1&&!m(arguments[1])?g(arguments[1]):void 0,i=r?r.transfer:void 0;void 0!==i&&(t=new R,a=fe(i,t));var s=me(e,t);return a&&pe(a),s}})},ae39:function(e,t,a){"use strict";a("18ae5")},b596:function(e,t,a){"use strict";a("8df0")},bb2f:function(e,t,a){"use strict";var r=a("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},ca13:function(e,t,a){},cb27:function(e,t,a){"use strict";var r=a("e330"),i=Set.prototype;e.exports={Set:Set,add:r(i.add),has:r(i.has),remove:r(i["delete"]),proto:i}},d580:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("2b0e"),i=a("c637"),s=a("a723"),o=a("cf75"),n=Object(o["d"])({bgVariant:Object(o["c"])(s["p"]),borderVariant:Object(o["c"])(s["p"]),tag:Object(o["c"])(s["p"],"div"),textVariant:Object(o["c"])(s["p"])},i["i"]);r["default"].extend({props:n})},d617:function(e,t,a){},d86b:function(e,t,a){"use strict";var r=a("d039");e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},de6f:function(e,t,a){"use strict";a("0dba")},dfaf:function(e,t,a){},e774:function(e,t,a){"use strict";function r(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const a=document.implementation.createHTMLDocument(),r=a.createElement("base"),i=a.createElement("a");return a.head.appendChild(r),a.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}a.d(t,"a",(function(){return be}));const i=(()=>{let e=0;const t=()=>("0000"+(Math.random()*36**4<<0).toString(36)).slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function s(e){const t=[];for(let a=0,r=e.length;a<r;a++)t.push(e[a]);return t}function o(e,t){const a=e.ownerDocument.defaultView||window,r=a.getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function n(e){const t=o(e,"border-left-width"),a=o(e,"border-right-width");return e.clientWidth+t+a}function l(e){const t=o(e,"border-top-width"),a=o(e,"border-bottom-width");return e.clientHeight+t+a}function c(e,t={}){const a=t.width||n(e),r=t.height||l(e);return{width:a,height:r}}function d(){let e,t;try{t=process}catch(r){}const a=t&&t.env?t.env.devicePixelRatio:null;return a&&(e=parseInt(a,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const u=16384;function m(e){(e.width>u||e.height>u)&&(e.width>u&&e.height>u?e.width>e.height?(e.height*=u/e.width,e.width=u):(e.width*=u/e.height,e.height=u):e.width>u?(e.height*=u/e.width,e.width=u):(e.width*=u/e.height,e.height=u))}function f(e){return new Promise((t,a)=>{const r=new Image;r.decode=()=>t(r),r.onload=()=>t(r),r.onerror=a,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function p(e){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(e)).then(encodeURIComponent).then(e=>"data:image/svg+xml;charset=utf-8,"+e)}async function h(e,t,a){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),s=document.createElementNS(r,"foreignObject");return i.setAttribute("width",""+t),i.setAttribute("height",""+a),i.setAttribute("viewBox",`0 0 ${t} ${a}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),i.appendChild(s),s.appendChild(e),p(i)}const g=(e,t)=>{if(e instanceof t)return!0;const a=Object.getPrototypeOf(e);return null!==a&&(a.constructor.name===t.name||g(a,t))};function v(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function b(e){return s(e).map(t=>{const a=e.getPropertyValue(t),r=e.getPropertyPriority(t);return`${t}: ${a}${r?" !important":""};`}).join(" ")}function _(e,t,a){const r=`.${e}:${t}`,i=a.cssText?v(a):b(a);return document.createTextNode(`${r}{${i}}`)}function y(e,t,a){const r=window.getComputedStyle(e,a),s=r.getPropertyValue("content");if(""===s||"none"===s)return;const o=i();try{t.className=`${t.className} ${o}`}catch(l){return}const n=document.createElement("style");n.appendChild(_(o,a,r)),t.appendChild(n)}function D(e,t){y(e,t,":before"),y(e,t,":after")}const w="application/font-woff",C="image/jpeg",x={woff:w,woff2:w,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:C,jpeg:C,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function S(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function A(e){const t=S(e).toLowerCase();return x[t]||""}function P(e){return e.split(/,/)[1]}function k(e){return-1!==e.search(/^(data:)/)}function O(e,t){return`data:${t};base64,${e}`}async function L(e,t,a){const r=await fetch(e,t);if(404===r.status)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((e,t)=>{const s=new FileReader;s.onerror=t,s.onloadend=()=>{try{e(a({res:r,result:s.result}))}catch(i){t(i)}},s.readAsDataURL(i)})}const F={};function M(e,t,a){let r=e.replace(/\?.*/,"");return a&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function $(e,t,a){const r=M(e,t,a.includeQueryParams);if(null!=F[r])return F[r];let i;a.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());try{const r=await L(e,a.fetchRequestInit,({res:e,result:a})=>(t||(t=e.headers.get("Content-Type")||""),P(a)));i=O(r,t)}catch(s){i=a.imagePlaceholder||"";let t="Failed to fetch resource: "+e;s&&(t="string"===typeof s?s:s.message),t&&console.warn(t)}return F[r]=i,i}async function T(e){const t=e.toDataURL();return"data:,"===t?e.cloneNode(!1):f(t)}async function Y(e,t){if(e.currentSrc){const t=document.createElement("canvas"),a=t.getContext("2d");t.width=e.clientWidth,t.height=e.clientHeight,null===a||void 0===a||a.drawImage(e,0,0,t.width,t.height);const r=t.toDataURL();return f(r)}const a=e.poster,r=A(a),i=await $(a,r,t);return f(i)}async function E(e){var t;try{if(null===(t=null===e||void 0===e?void 0:e.contentDocument)||void 0===t?void 0:t.body)return await q(e.contentDocument.body,{},!0)}catch(a){}return e.cloneNode(!1)}async function R(e,t){return g(e,HTMLCanvasElement)?T(e):g(e,HTMLVideoElement)?Y(e,t):g(e,HTMLIFrameElement)?E(e):e.cloneNode(!1)}const j=e=>null!=e.tagName&&"SLOT"===e.tagName.toUpperCase();async function I(e,t,a){var r,i;let o=[];return o=j(e)&&e.assignedNodes?s(e.assignedNodes()):g(e,HTMLIFrameElement)&&(null===(r=e.contentDocument)||void 0===r?void 0:r.body)?s(e.contentDocument.body.childNodes):s((null!==(i=e.shadowRoot)&&void 0!==i?i:e).childNodes),0===o.length||g(e,HTMLVideoElement)||await o.reduce((e,r)=>e.then(()=>q(r,a)).then(e=>{e&&t.appendChild(e)}),Promise.resolve()),t}function N(e,t){const a=t.style;if(!a)return;const r=window.getComputedStyle(e);r.cssText?(a.cssText=r.cssText,a.transformOrigin=r.transformOrigin):s(r).forEach(i=>{let s=r.getPropertyValue(i);if("font-size"===i&&s.endsWith("px")){const e=Math.floor(parseFloat(s.substring(0,s.length-2)))-.1;s=e+"px"}g(e,HTMLIFrameElement)&&"display"===i&&"inline"===s&&(s="block"),"d"===i&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),a.setProperty(i,s,r.getPropertyPriority(i))})}function B(e,t){g(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),g(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function z(e,t){if(g(e,HTMLSelectElement)){const a=t,r=Array.from(a.children).find(t=>e.value===t.getAttribute("value"));r&&r.setAttribute("selected","")}}function U(e,t){return g(t,Element)&&(N(e,t),D(e,t),B(e,t),z(e,t)),t}async function V(e,t){const a=e.querySelectorAll?e.querySelectorAll("use"):[];if(0===a.length)return e;const r={};for(let s=0;s<a.length;s++){const i=a[s],o=i.getAttribute("xlink:href");if(o){const a=e.querySelector(o),i=document.querySelector(o);a||!i||r[o]||(r[o]=await q(i,t,!0))}}const i=Object.values(r);if(i.length){const t="http://www.w3.org/1999/xhtml",a=document.createElementNS(t,"svg");a.setAttribute("xmlns",t),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const r=document.createElementNS(t,"defs");a.appendChild(r);for(let e=0;e<i.length;e++)r.appendChild(i[e]);e.appendChild(a)}return e}async function q(e,t,a){return a||!t.filter||t.filter(e)?Promise.resolve(e).then(e=>R(e,t)).then(a=>I(e,a,t)).then(t=>U(e,t)).then(e=>V(e,t)):null}const G=/url\((['"]?)([^'"]+?)\1\)/g,H=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,W=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function K(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Q(e){const t=[];return e.replace(G,(e,a,r)=>(t.push(r),e)),t.filter(e=>!k(e))}async function J(e,t,a,i,s){try{const o=a?r(t,a):t,n=A(t);let l;if(s){const e=await s(o);l=O(e,n)}else l=await $(o,n,i);return e.replace(K(t),`$1${l}$3`)}catch(o){}return e}function X(e,{preferredFontFormat:t}){return t?e.replace(W,e=>{while(1){const[a,,r]=H.exec(e)||[];if(!r)return"";if(r===t)return`src: ${a};`}}):e}function Z(e){return-1!==e.search(G)}async function ee(e,t,a){if(!Z(e))return e;const r=X(e,a),i=Q(r);return i.reduce((e,r)=>e.then(e=>J(e,r,t,a)),Promise.resolve(r))}async function te(e,t,a){var r;const i=null===(r=t.style)||void 0===r?void 0:r.getPropertyValue(e);if(i){const r=await ee(i,null,a);return t.style.setProperty(e,r,t.style.getPropertyPriority(e)),!0}return!1}async function ae(e,t){await te("background",e,t)||await te("background-image",e,t),await te("mask",e,t)||await te("mask-image",e,t)}async function re(e,t){const a=g(e,HTMLImageElement);if((!a||k(e.src))&&(!g(e,SVGImageElement)||k(e.href.baseVal)))return;const r=a?e.src:e.href.baseVal,i=await $(r,A(r),t);await new Promise((t,r)=>{e.onload=t,e.onerror=r;const s=e;s.decode&&(s.decode=t),"lazy"===s.loading&&(s.loading="eager"),a?(e.srcset="",e.src=i):e.href.baseVal=i})}async function ie(e,t){const a=s(e.childNodes),r=a.map(e=>se(e,t));await Promise.all(r).then(()=>e)}async function se(e,t){g(e,Element)&&(await ae(e,t),await re(e,t),await ie(e,t))}function oe(e,t){const{style:a}=e;t.backgroundColor&&(a.backgroundColor=t.backgroundColor),t.width&&(a.width=t.width+"px"),t.height&&(a.height=t.height+"px");const r=t.style;return null!=r&&Object.keys(r).forEach(e=>{a[e]=r[e]}),e}const ne={};async function le(e){let t=ne[e];if(null!=t)return t;const a=await fetch(e),r=await a.text();return t={url:e,cssText:r},ne[e]=t,t}async function ce(e,t){let a=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,i=a.match(/url\([^)]+\)/g)||[],s=i.map(async i=>{let s=i.replace(r,"$1");return s.startsWith("https://")||(s=new URL(s,e.url).href),L(s,t.fetchRequestInit,({result:e})=>(a=a.replace(i,`url(${e})`),[i,e]))});return Promise.all(s).then(()=>a)}function de(e){if(null==e)return[];const t=[],a=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(a,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");while(1){const e=i.exec(r);if(null===e)break;t.push(e[0])}r=r.replace(i,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",n=new RegExp(o,"gi");while(1){let e=s.exec(r);if(null===e){if(e=n.exec(r),null===e)break;s.lastIndex=n.lastIndex}else n.lastIndex=s.lastIndex;t.push(e[0])}return t}async function ue(e,t){const a=[],r=[];return e.forEach(a=>{if("cssRules"in a)try{s(a.cssRules||[]).forEach((e,i)=>{if(e.type===CSSRule.IMPORT_RULE){let s=i+1;const o=e.href,n=le(o).then(e=>ce(e,t)).then(e=>de(e).forEach(e=>{try{a.insertRule(e,e.startsWith("@import")?s+=1:a.cssRules.length)}catch(t){console.error("Error inserting rule from remote css",{rule:e,error:t})}})).catch(e=>{console.error("Error loading remote css",e.toString())});r.push(n)}})}catch(i){const s=e.find(e=>null==e.href)||document.styleSheets[0];null!=a.href&&r.push(le(a.href).then(e=>ce(e,t)).then(e=>de(e).forEach(e=>{s.insertRule(e,a.cssRules.length)})).catch(e=>{console.error("Error loading remote stylesheet",e)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(e=>{if("cssRules"in e)try{s(e.cssRules||[]).forEach(e=>{a.push(e)})}catch(t){console.error("Error while reading CSS rules from "+e.href,t)}}),a))}function me(e){return e.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>Z(e.style.getPropertyValue("src")))}async function fe(e,t){if(null==e.ownerDocument)throw new Error("Provided element is not within a Document");const a=s(e.ownerDocument.styleSheets),r=await ue(a,t);return me(r)}async function pe(e,t){const a=await fe(e,t),r=await Promise.all(a.map(e=>{const a=e.parentStyleSheet?e.parentStyleSheet.href:null;return ee(e.cssText,a,t)}));return r.join("\n")}async function he(e,t){const a=null!=t.fontEmbedCSS?t.fontEmbedCSS:t.skipFonts?null:await pe(e,t);if(a){const t=document.createElement("style"),r=document.createTextNode(a);t.appendChild(r),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}}async function ge(e,t={}){const{width:a,height:r}=c(e,t),i=await q(e,t,!0);await he(i,t),await se(i,t),oe(i,t);const s=await h(i,a,r);return s}async function ve(e,t={}){const{width:a,height:r}=c(e,t),i=await ge(e,t),s=await f(i),o=document.createElement("canvas"),n=o.getContext("2d"),l=t.pixelRatio||d(),u=t.canvasWidth||a,p=t.canvasHeight||r;return o.width=u*l,o.height=p*l,t.skipAutoScale||m(o),o.style.width=""+u,o.style.height=""+p,t.backgroundColor&&(n.fillStyle=t.backgroundColor,n.fillRect(0,0,o.width,o.height)),n.drawImage(s,0,0,o.width,o.height),o}async function be(e,t={}){const a=await ve(e,t);return a.toDataURL("image/jpeg",t.quality||1)}},e87b:function(e,t,a){"use strict";a("5f4e")},f08f:function(e,t,a){},f183:function(e,t,a){"use strict";var r=a("23e7"),i=a("e330"),s=a("d012"),o=a("861d"),n=a("1a2d"),l=a("9bf2").f,c=a("241c"),d=a("057f"),u=a("4fad"),m=a("90e3"),f=a("bb2f"),p=!1,h=m("meta"),g=0,v=function(e){l(e,h,{value:{objectID:"O"+g++,weakData:{}}})},b=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!n(e,h)){if(!u(e))return"F";if(!t)return"E";v(e)}return e[h].objectID},_=function(e,t){if(!n(e,h)){if(!u(e))return!0;if(!t)return!1;v(e)}return e[h].weakData},y=function(e){return f&&p&&u(e)&&!n(e,h)&&v(e),e},D=function(){w.enable=function(){},p=!0;var e=c.f,t=i([].splice),a={};a[h]=1,e(a).length&&(c.f=function(a){for(var r=e(a),i=0,s=r.length;i<s;i++)if(r[i]===h){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:d.f}))},w=e.exports={enable:D,fastKey:b,getWeakData:_,onFreeze:y};s[h]=!0},f3ca:function(e,t,a){"use strict";a("f08f")},f912:function(e,t,a){}}]);
//# sourceMappingURL=chunk-2c83eb0a.0f110bcc.js.map